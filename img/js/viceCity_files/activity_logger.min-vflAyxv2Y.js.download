define(["require","exports","tslib","modules/clean/logging/telemetry","modules/clean/logging/hive/schemas/web-teams","lodash"],(function(e,t,n,i,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logActivityPageEventToHive=t.activityEvent=t.openActionEventThatHaveQuickActions=t.isCategoryFullyChecked=t.numOfCheckedActivitesInCategory=t.columnSelectEvent=t.submitReportEvent=t.getMoreResultsEvent=t.resultUpdatedEvent=t.stateMapEvent=void 0,i=n.__importStar(i),r=n.__importStar(r),t.stateMapEvent=function(e){var t=e.filters;return{results_displayed:e.rowsData.length,total_filters_added:r.countBy(t,(function(e){return void 0!==e.fieldValue&&Boolean(e.fieldValue.toString())})).true,date_range_start:t.date.fieldValue.from,date_range_end:t.date.fieldValue.to,members_applied_known:r.countBy(t.members.fieldValue,(function(e){return"default"===e.variant})).true||0,members_applied_unknown:r.countBy(t.members.fieldValue,(function(e){return"warning"===e.variant})).true||0,members_applied_invalid:r.countBy(t.members.fieldValue,(function(e){return"error"===e.variant})).true||0,content_search_applied:!!t.file.fieldValue,activity_filters_applied:t.activity.fieldValue.length}},t.resultUpdatedEvent=function(e,n){return{eventName:"results_displayed_updated",extra:t.stateMapEvent(n)}},t.getMoreResultsEvent=function(e,n){return{eventName:"display_more_results",extra:t.stateMapEvent(n)}},t.submitReportEvent=function(e,i){var a=t.stateMapEvent(i),r=(a.results_displayed,n.__rest(a,["results_displayed"]));return{eventName:"create_report_submit",extra:n.__assign({exclude_activities:i.report.excludeFileEvents},r)}},t.columnSelectEvent=function(e,t){var n,i="customize_table_"+e.name;return{eventName:i,extra:(n={},n[i]=e.checked?"applied":"removed",n)}},t.numOfCheckedActivitesInCategory=function(e,n){if(t.isCategoryFullyChecked(n.checkedCategories,e.id))return e.activities.length;var i=e.activities.map((function(e){return e.id}));return r.intersection(i,n.checkedActivities).length},t.isCategoryFullyChecked=function(e,t){return r.find(e,(function(e){return t===e}))},t.openActionEventThatHaveQuickActions=function(e,t){return{eventName:"activity_row_action_opened",extra:{associated_actions:e.join(",")}}},t.activityEvent=function(e,i){var a={};return i.allCategories.forEach((function(e){var n=t.numOfCheckedActivitesInCategory(e,i);n>0&&(a["activity_"+e.label+"_applied"]=n)})),{eventName:"activity_applied",extra:n.__assign({},a)}};var l=new i.HiveLogger;t.logActivityPageEventToHive=function(e){var t=e.eventName,n=e.extra;t&&l.log(new a.WebTeamsTableRow({event_name:"activity_page_"+t,extra:n}))}}));
//# sourceMappingURL=activity_logger.min.js-vflSfqdMZ.map