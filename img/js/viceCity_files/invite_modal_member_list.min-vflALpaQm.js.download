define(["require","exports","tslib","react","modules/core/i18n","modules/clean/analytics","modules/clean/static_urls","modules/clean/react/image","modules/clean/teams/constants","modules/clean/teams/modals/team_admin_roles_modal","modules/clean/teams/admin/widgets/admin_permissions_modal/admin_permissions_modal","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/constants","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/invite_modal_member_row","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/invite_modal_member_data","classnames"],(function(e,a,i,s,n,m,o,t,l,d,r,_,c,u,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.InviteModalMemberList=void 0,s=i.__importDefault(s),g=i.__importDefault(g),a.InviteModalMemberList=function(e){var a=e.baseClass,b=e.currentUserId,p=e.teamId,A=e.teamName,f=e.tieredAdmin,v=e.isAddAdminRoleDialogV2Enabled,M=e.teamAvailableRoles,O=e.memberList,R=e.memberActionsData,E=e.loggingExtras,N=e.handleOnClose,C=e.isMobileWeb;return s.default.createElement("div",{className:g.default(a+"__members")},s.default.createElement("div",{className:a+"__members-header"},s.default.createElement(t.Image,{src:o.static_url("/static/images/growth/team-vflxkrqB-.svg"),className:a+"__members-image"}),n.intl.formatMessage({id:"pbHfjm",defaultMessage:"Members of {team}"},{team:A})),s.default.createElement("div",{className:a+"__members-list"},O.map((function(e,a){var n=R&&R[e.user_id],o=u.isAdminRole(e.admin_role)?_.AdminOption.id:_.MemberOption.id,t=b===e.user_id,g=t?void 0:[_.MemberOption,_.AdminOption];return s.default.createElement(c.MemberRow,{key:a,id:"member-row-"+a,member:e,actionsData:n,handleOnClose:N,onRoleSelection:function(a){if(a!==o||f&&a===_.AdminOption.id){N();var s=a===_.AdminOption.id?"granted":"revoked",t=i.__assign(i.__assign({},E),{user_id:e.user_id});m.TeamsWebActionsLogger.log(s+"_admin_permissions_open",i.__assign({},t));var c=function(){m.TeamsWebActionsLogger.log(s+"_admin_permissions_cancel",i.__assign({},t))};f?d.showTeamAdminRolesModal({userId:e.user_id,displayName:e.display_name,isAdmin:u.isAdminRole(e.admin_role),origAdminRole:null!=e.admin_role?e.admin_role:l.ADMIN_ROLE.NONE,isAddAdminRoleDialogV2Enabled:v,teamAvailableRoles:M,success:function(a){if(m.TeamsWebActionsLogger.log(s+"_admin_permissions",i.__assign({},t)),n&&n.roleUpdateCallback){var o=JSON.parse(a)[e.user_id].admin_role;n.roleUpdateCallback(o)}},onRequestClose:n&&n.onClose,onSecondaryAction:c}):r.DeprecatedShowLegacyAdminPermissionsModal({userId:e.user_id,displayName:e.display_name,enablePermissions:"option-admin"===a,limited:!1,team_id:p,onPrimaryAction:function(){if(m.TeamsWebActionsLogger.log(s+"_admin_permissions",i.__assign({},t)),n&&n.roleUpdateCallback){var e="option-admin"===a?l.ADMIN_ROLE.SUPER:l.ADMIN_ROLE.NONE;n.roleUpdateCallback(e)}},onRequestClose:n&&n.onClose,onSecondaryAction:c})}},roleOptions:g,tieredAdmin:f,isCurrentUser:t,isMobileWeb:C})})),1===O.length&&s.default.createElement(c.MemberRow,{id:"empty-row",handleOnClose:N})))}}));
//# sourceMappingURL=invite_modal_member_list.min.js-vflGAaska.map