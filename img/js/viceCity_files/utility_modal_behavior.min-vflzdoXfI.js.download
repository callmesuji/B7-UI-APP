define(["require","exports","tslib","rondo/index"],(function(t,n,e,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UtilityModalControlBehavior=function(t){var n=t.openAction,e=t.closeAction;return function(){this.actionOpen=o.createOrUseIn(this,n),this.actionClose=o.createOrUseIn(this,e)}},n.UtilityModalBehavior=function(t){var i=t.openAction,a=t.closeAction,c=t.resolveData,r=t.blockRequestAction,s=t.unblockRequestAction,u=t.actionAccept,l=t.applyOpenDataToState,h=void 0!==l&&l,d=t.startsOpen,p=void 0!==d&&d;return(function(){function t(){var t=this;this.initialState=function(){return{open:p,modalButtonLoading:!1}},this.actionBlockRequest=o.createOrUseIn(this,r),this.actionUnblockRequest=o.createOrUseIn(this,s),this.actionDataReady=o.createAction().handle((function(){return{open:!0}})),this.actionLoading=o.createAction().handle((function(){return{modalButtonLoading:!0}})),this.actionEndLoading=o.createAction().handle((function(){return{modalButtonLoading:!1}})),this.actionAccept=o.createOrUseIn(this,u),this.actionCancel=o.createAction().handle((function(){return{open:!1}}));var l=o.createBehavior(n.UtilityModalControlBehavior({openAction:i,closeAction:a}));l.actionClose.handle((function(){return{open:!1}})).handleError((function(){return{open:!1}})),l.actionOpen.handle((function(t,n){return t.open||c?{}:h&&n&&"object"==typeof n?e.__assign({open:!0},n):{open:!0}})).watch((function(n){return e.__awaiter(t,void 0,void 0,(function(){var t,n;return e.__generator(this,(function(e){switch(e.label){case 0:if(!c)return[2];this.actionBlockRequest(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,c()];case 2:return t=e.sent(),this.actionDataReady(t),[3,4];case 3:return n=e.sent(),this.actionDataReady(n),[3,4];case 4:return this.actionUnblockRequest(),[2]}}))}))})),o.extendBehavior(this,l)}return t.displayName="UtilityModal",t})()}}));
//# sourceMappingURL=utility_modal_behavior.min.js-vflqWoaX-.map