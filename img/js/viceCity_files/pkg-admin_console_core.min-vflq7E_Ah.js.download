define("modules/clean/teams/admin/maestro/admin_console_actions_view",["require","exports","tslib","classnames","spectrum/admin_link","spectrum/tertiary_link","react","lodash","spectrum/button","modules/core/i18n","modules/clean/react/css","modules/clean/react/sprite_div","modules/clean/analytics","modules/clean/user_education/react/user_education_effect","modules/clean/teams/admin/maestro/admin_console_constants","modules/clean/teams/coach_mark_tooltip","modules/clean/ncct/manual_assist_util","spectrum/tooltip","modules/clean/user_education/user_education_interface"],(function(e,t,a,n,r,o,l,s,i,c,u,d,m,p,f,_,g,b,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminConsoleActionsView=t.renderTopSidebarButtonDefault=void 0,n=a.__importDefault(n),l=a.__importDefault(l),s=a.__importStar(s),d=a.__importDefault(d),t.renderTopSidebarButtonDefault=function(e){return l.default.createElement(i.Button,{className:"primary-action-menu__button",disabled:e.disabled,onClick:e.handleClick,variant:"primary"},e.displayName)};var y=(function(e){function i(){var a=null!==e&&e.apply(this,arguments)||this;return a.onNcctReminderTooltipClosed=function(){m.TeamsWebActionsLogger.log("clicked_add_members_coachmark_cta"),m.TeamsWebActionsLogger.log("mt_doom_cleanup",{endpoint:"dismissed_invite_members_coachmark"})},a.renderNcctReminderTooltip=function(){return m.TeamsWebActionsLogger.log("viewed_add_members_coachmark"),l.default.createElement(_.CoachMarkTooltip,{id:"invite-members-reminder-tooltip",offsetX:-50,offsetY:10,onDidClose:a.onNcctReminderTooltipClosed,pointerPosition:h.UEToolTipPointerPosition.TopRight,position:h.UEEffectPosition.RightCenter,subtitle:c.intl.formatMessage({id:"mo52uK",defaultMessage:"Invite more members for free during your trial period."}),title:c.intl.formatMessage({id:"ucc16j",defaultMessage:"Add people"})},t.renderTopSidebarButtonDefault(a.props.primaryMenuItem))},a}return a.__extends(i,e),i.prototype.componentDidMount=function(){this.props.handleComponentTTI("AdminConsoleActionsView")},i.prototype.renderLegacySpriteIcon=function(e){return l.default.createElement(d.default,{alt:e.iconAlt||"",group:e.iconGroup||"web",name:e.spriteName})},i.prototype.renderPrimaryMenuItem=function(){var e=this.props.primaryMenuItem;if(e&&!(Object.keys(e).length<=0)){var a=this.props.renderUploadButton;return l.default.createElement("div",{className:"primary-action-menu__button-wrapper",title:e.displayName},g.canShowNcctReminderTooltip()&&this.props.showNcctReminderTooltip?this.renderNcctReminderTooltip():l.default.createElement(p.UserEducationEffect,{containerName:"AdminConsoleActionsView",name:"PrimaryButtonText",useSpan:!0},e.uploadButton&&a?a(e):t.renderTopSidebarButtonDefault(e)))}},i.prototype.renderPrimaryMenu=function(){var e=this.props.headerText,t=this.props.primaryMenuItem;if(""!==e||t&&!(Object.keys(t).length<=0)){var a="";return a=e&&""!==e?"primary-action-menu__content-manager-header-text":"primary-action-menu__header-text",l.default.createElement("div",{className:"primary-action-menu"},l.default.createElement("span",{className:a},e),this.renderPrimaryMenuItem())}},i.prototype.renderActionList=function(){var e=this,t=this.props.secondaryMenuItems;return l.default.createElement(o.TertiaryList,{className:"secondary-action-menu"},t.map((function(t){return(function(e){return!!e.spriteName})(t)?e.renderLegacySpriteActionButton(t):e.renderActionButton(t)})))},i.prototype.renderActionButton=function(e){return e.tooltip?l.default.createElement(b.Tooltip,{className:"secondary-action-tooltip",key:e.displayName,positioning:"left",tooltipContent:e.tooltip},this.renderActionButtonDefault(e)):this.renderActionButtonDefault(e)},i.prototype.renderActionButtonDefault=function(e){var t,a=e.disabled,n=e.displayName,s=e.handleClick,c=e.iconName,u=e.groupName;return(u=u||i.defaultIconGroup)===f.IconGroup.Admin?t=r.AdminTertiaryLink:u===f.IconGroup.Action&&(t=o.TertiaryLink),l.default.createElement(t,{key:n,icon:c,onClick:function(){s&&"function"==typeof s&&s()},disabled:a,className:"secondary-action-menu__button"},l.default.createElement(p.UserEducationEffect,{containerName:"AdminConsoleActionsView",name:"SecondaryActionMenu-text-"+c},n))},i.prototype.renderLegacySpriteActionButton=function(e){return l.default.createElement("button",{className:n.default({"secondary-action-menu__button":!0,"secondary-action-menu__button--legacy":!0,disabled:e.disabled}),onClick:e.disabled?s.noop:e.handleClick},this.renderLegacySpriteIcon(e),l.default.createElement("span",{className:"secondary-action-menu__button-text"},l.default.createElement(p.UserEducationEffect,{containerName:"AdminConsoleActionsView",name:"SecondaryActionMenu-text-"+e.spriteName},e.displayName)))},i.prototype.render=function(){var e=this.props,t=e.primarySubnode,a=e.secondarySubnode;return l.default.createElement("div",{className:"appactions-menu"},this.renderPrimaryMenu(),t,this.renderActionList(),a,this.props.debugInfo)},i.defaultProps={headerText:"",secondaryMenuItems:[],handleComponentTTI:function(){},showNcctReminderTooltip:!1},i.defaultIconGroup=f.IconGroup.Admin,i})(l.default.PureComponent),N=u.requireCssWithComponent(y,["/static/css/spectrum/index.web-vfl6Z83yw.css","/static/css/dropbox/app_actions-vflu5eRr6.css"]);t.AdminConsoleActionsView=N})),define("modules/clean/teams/admin/maestro/admin_console_maestro_view_base",["require","exports","tslib","react","modules/clean/react/maestro/layout/chrome","modules/clean/react/maestro/layout/header","modules/clean/teams/admin/maestro/admin_console_actions_view","modules/clean/viewer","classnames"],(function(e,t,a,n,r,o,l,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminConsoleMaestroViewBase=void 0,n=a.__importDefault(n),i=a.__importDefault(i);var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderTitleRegion=function(){return n.default.createElement(o.MaestroHeaderTitle,null,this.props.header)},t.prototype.renderActionMenu=function(){return this.props.renderSidebar?n.default.createElement(l.AdminConsoleActionsView,a.__assign({},this.props.sidebar,{renderUploadButton:this.props.renderUploadButton})):null},t.prototype.renderAppRegion=function(){var e=i.default({"acf-maestro":this.props.isAcf});return n.default.createElement("div",{className:e},this.props.children)},t.prototype.render=function(){var e=s.Viewer.get_viewer().get_user_by_role("work");return n.default.createElement(r.MaestroChrome,{user:e,titleRegion:this.renderTitleRegion(),embeddedAppRegion:this.renderAppRegion(),actionSidebarRegion:this.renderActionMenu(),searchBarProps:{searchVariant:null}})},t.defaultProps={renderSidebar:!0},t})(n.default.Component);t.AdminConsoleMaestroViewBase=c})),define("modules/clean/teams/admin/maestro/admin_console_maestro_view",["require","exports","tslib","react","modules/clean/teams/admin/maestro/admin_console_maestro_view_base","modules/clean/react/file_uploader/upload_button"],(function(e,t,a,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminConsoleMaestroView=void 0,n=a.__importDefault(n);var l=function(e){return n.default.createElement(o.UploadButton,{className:"primary-action-menu__button action-upload",disabled:e.disabled,handleClick:e.handleClick,variant:"primary"},e.displayName)};t.AdminConsoleMaestroView=function(e){return n.default.createElement(r.AdminConsoleMaestroViewBase,a.__assign({},e,{renderUploadButton:l}))}})),define("modules/clean/teams/admin/maestro/admin_console_view",["require","exports","tslib","react","modules/clean/teams/admin/maestro/admin_console_maestro_view","modules/clean/web_timing_logger"],(function(e,t,a,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminConsoleViewHOC=void 0,n=a.__importDefault(n),o=a.__importStar(o),t.AdminConsoleViewHOC=function(e,t){return(function(l){function s(){return null!==l&&l.apply(this,arguments)||this}return a.__extends(s,l),s.prototype.componentWillMount=function(){o.log_js_modules_application_code_start()},s.prototype.renderContent=function(){return n.default.createElement(e,a.__assign(a.__assign({},this.props),t.props))},s.prototype.renderPagelet=function(){return n.default.createElement(r.AdminConsoleMaestroView,a.__assign({},t),this.renderContent())},s.prototype.render=function(){return this.props["is-pagelet"]||this.props.is_pagelet?this.renderPagelet():this.renderContent()},s})(n.default.Component)}})),define("modules/clean/teams/admin/maestro/admin_console_maestro_view_no_upload_button",["require","exports","tslib","react","modules/clean/teams/admin/maestro/admin_console_maestro_view_base"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminConsoleMaestroViewNoUploadButton=void 0,n=a.__importDefault(n),t.AdminConsoleMaestroViewNoUploadButton=function(e){return n.default.createElement(r.AdminConsoleMaestroViewBase,a.__assign({},e))}})),define("modules/clean/teams/admin/widgets/callback_form/callback_form",["require","exports","tslib","react","dig-components/buttons","phone_helpers","modules/clean/react/css","dig-components/typography","modules/clean/teams/admin/widgets/callback_form/phone_input","modules/core/i18n","modules/clean/react/sprite","dig-components/icons/src","modules/clean/teams/admin/widgets/callback_form/models","modules/clean/teams/admin/widgets/callback_form/api","modules/clean/teams/admin/widgets/callback_form/language_selection","modules/constants/viewer"],(function(e,t,a,n,r,o,l,s,i,c,u,d,m,p,f,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminConsoleCallbackForm=void 0,n=a.__importDefault(n),o=a.__importStar(o),_=a.__importStar(_);t.AdminConsoleCallbackForm=l.requireCssWithComponent((function(e){for(var t={fullPhoneNumber:"",phoneNumberTextFieldValue:"",status:"empty",selectedCountryCode:_.LOCALE||"US",shouldDisplayValidationError:!1},l=n.default.useState(t),g=l[0],b=l[1],h=n.default.useState(m.CallStatusEnum.UNKNOWN),y=h[0],N=h[1],v=n.default.useState(!0),C=v[0],k=v[1],E=n.default.useState(!1),M=E[0],w=E[1],A=n.default.useState(null),x=A[0],T=A[1],L=e.isoLocale||"en-na",S=0,P=0;P<e.callbackLanguageList.length;P++){var D=e.callbackLanguageList[P].languageCode;if(D.startsWith(L)){S=P;break}D.startsWith("en-na")&&(S=P)}var B=n.default.useState(S),I=B[0],V=B[1],U=e.callbackLanguageList[I],O=function(e){var t=a.__assign(a.__assign({},e),{shouldDisplayValidationError:!1});b(t)},R=function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:w(!0),t.label=1;case 1:return t.trys.push([1,3,,4]),T(null),[4,p.CallbackAPI.cancelCall()];case 2:return e=t.sent(),N(e.call_status),[3,4];case 3:return t.sent(),[3,4];case 4:return w(!1),[2]}}))}))},j=function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e,t,n;return a.__generator(this,(function(r){switch(r.label){case 0:if(e=g.fullPhoneNumber.replace(/\s+/g,""),!g.phoneNumberTextFieldValue)return[3,5];if(!o.is_valid(e))return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),w(!0),T(null),[4,p.CallbackAPI.requestCallback(e,U.languageCode,g.selectedCountryCode)];case 2:return t=r.sent(),N(t.call_status),[3,4];case 3:return n=r.sent(),T(n),[3,4];case 4:return w(!1),[2];case 5:return b(a.__assign(a.__assign({},g),{shouldDisplayValidationError:!0})),[2]}}))}))},q=function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,p.CallbackAPI.getCallStatus()];case 1:return e=t.sent(),N(e.call_status),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))};n.default.useEffect((function(){var e=setInterval(q,3e3);return function(){return clearInterval(e)}}),[]);var W=function(e){return n.default.createElement("div",{className:"callback-cancel"},n.default.createElement(r.Button,{variant:"transparent",hasNoUnderline:!0,className:"phone-cancel-button",onClick:R,title:e,"data-uxa-log":"sup_callback_cancel"},e))},F=function(){k(!0),R(),b(t)},G=function(){var t=c.intl.formatMessage({id:"v6KcNP",defaultMessage:"Request a call"});return n.default.createElement("div",{className:"callback-default-content"},n.default.createElement(s.Text,{tagName:"p"},c.intl.formatMessage({id:"Qsypjo",defaultMessage:"Enter your phone number and a Dropbox support agent will call you in a moment."})),n.default.createElement(i.PhoneInput,{countryList:e.callbackCountryList,handleInputChanged:O,selectedCountryCode:g.selectedCountryCode,phoneNumberTextFieldValue:g.phoneNumberTextFieldValue}),g.shouldDisplayValidationError&&n.default.createElement(s.Text,{tagName:"p",color:"error",className:"callback-number-error"},c.intl.formatMessage({id:"bN53PL",defaultMessage:"That’s not a valid phone number, try again."})),n.default.createElement(f.LanguageSelection,{callbackCountryList:e.callbackCountryList,callbackLanguageList:e.callbackLanguageList,language:U,setLanguageSelectedIndex:V,isoLocale:e.isoLocale}),null===x?n.default.createElement(n.default.Fragment,null):n.default.createElement(s.Text,{tagName:"p",className:"callback-error-msg"},x),n.default.createElement(r.Button,{variant:"primary",className:"callback-number-submit",onClick:j,title:t,disabled:!U.available||M,hasNoUnderline:!0,"data-uxa-log":"sup_callback_submit"},t))},K=function(){var e={className:"phone-chevron",width:18},t=C?n.default.createElement(d.ChevronDownLine,a.__assign({},e)):n.default.createElement(d.ChevronUpLine,a.__assign({},e));return n.default.createElement(r.Button,{variant:"transparent",onClick:function(){return k(!C)},hasNoUnderline:!0,className:"phone-collapse-button","data-uxa-log":"sup_callback_"+(C?"expand":"collapse")},n.default.createElement("div",{className:"full-width-height-flex-row"},n.default.createElement(u.Sprite,{alt:c.intl.formatMessage({id:"dwZNUm",defaultMessage:"Phone"}),group:"teams",name:"selfserve_phone",className:"phone-icon"}),n.default.createElement(s.Text,{tagName:"p",className:"phone-header"},c.intl.formatMessage({id:"U7AlUZ",defaultMessage:"Phone"})),t))};if(C)return K();var Y="callback-status-content";return M&&(Y+=" loading"),n.default.createElement(n.default.Fragment,null,K(),n.default.createElement("div",{className:Y},(function(){switch(y){case m.CallStatusEnum.UNKNOWN:return G();case m.CallStatusEnum.CONNECTING:return n.default.createElement("div",{className:"callback-connecting-content"},n.default.createElement(s.Text,{tagName:"p",className:"callback-connecting-message"},c.intl.formatMessage({id:"cvS2kS",defaultMessage:"We're calling you now.."})),W(c.intl.formatMessage({id:"Jdt7a7",defaultMessage:"Cancel the call"})));case m.CallStatusEnum.LIVE:return n.default.createElement("div",{className:"callback-live-content"},n.default.createElement(s.Text,{tagName:"p",className:"callback-live-message"},c.intl.formatMessage({id:"zuyKOG",defaultMessage:"You're being helped by Dropbox Support"})),W(c.intl.formatMessage({id:"LOjZWa",defaultMessage:"Cancel"})));case m.CallStatusEnum.MISSED:return n.default.createElement("div",{className:"callback-missed-content"},n.default.createElement(s.Text,{tagName:"p",className:"callback-missed-message"},c.intl.formatMessage({id:"1uP4/f",defaultMessage:"We tried calling {phoneNumber} but there was no answer"},{phoneNumber:g.fullPhoneNumber})),n.default.createElement("div",{className:"callback-cancel-clear"},n.default.createElement(r.Button,{variant:"transparent",hasNoUnderline:!0,className:"phone-cancel-button",onClick:F,title:"Cancel"},c.intl.formatMessage({id:"euRey+",defaultMessage:"Cancel"}))),W(c.intl.formatMessage({id:"4QKAq0",defaultMessage:"Change number"})));case m.CallStatusEnum.ENDED:return n.default.createElement("div",{className:"callback-ended-content"},n.default.createElement(s.Text,{tagName:"p",className:"callback-ended-message"},c.intl.formatMessage({id:"DtMAq9",defaultMessage:"Your call has ended."})),n.default.createElement(s.Text,{tagName:"p",className:"callback-other-issue"},c.intl.formatMessage({id:"djiuxN",defaultMessage:"Experiencing other issues? View the <helpCenterLink>help center</helpCenterLink>, <dropboxCommunityLink>Dropbox Community</dropboxCommunityLink>, or feel free to contact us again"},{helpCenterLink:function(e){return n.default.createElement(s.Link,{key:"help-center-link",href:"https://www.dropbox.com/help","aria-label":c.intl.formatMessage({id:"FO/O/t",defaultMessage:"help center"})},e)},dropboxCommunityLink:function(e){return n.default.createElement(s.Link,{key:"dropbox-community-link",href:"https://www.dropboxforum.com/","aria-label":c.intl.formatMessage({id:"9Koui6",defaultMessage:"Dropbox Community"})},e)}})),W(c.intl.formatMessage({id:"+ZcdcY",defaultMessage:"Request another call"})));default:return G()}})()))}),["/static/css/teams/admin/widgets/support_callback/support_callback-vflcbf1AA.css"])})),define("spectrum/admin_link",["require","exports","tslib","spectrum/admin_link/admin_link"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t)})),define("spectrum/admin_link/admin_link",["require","exports","tslib","classnames","react","spectrum/icon_admin"],(function(e,t,a,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminTertiaryLink=void 0,n=a.__importDefault(n),r=a.__importStar(r),t.AdminTertiaryLink=function(e){var t=e.children,l=e.className,s=e.icon,i=a.__rest(e,["children","className","icon"]),c=n.default("mc-tertiary-link-button",l);return r.createElement("button",Object.assign({className:c},i),r.createElement("span",{className:"mc-tertiary-link-button-content"},s&&r.createElement("span",{className:"mc-tertiary-icon-wrapper"},r.createElement(o.IconAdmin,{name:s})),r.createElement("span",{className:"mc-tertiary-icon-text"},t)))},t.AdminTertiaryLink.displayName="AdminTertiaryLink"}));
//# sourceMappingURL=pkg-admin_console_core.min.js-vflAfJslH.map