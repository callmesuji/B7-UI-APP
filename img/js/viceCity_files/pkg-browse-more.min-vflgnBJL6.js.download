define("modules/clean/react/file_uploader/upload_button",["require","exports","tslib","spectrum/button","spectrum/tertiary_link","react"],(function(e,t,o,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadButton=void 0;var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.renderPrimaryButton=function(){return a.default.createElement(n.Button,{className:this.props.className,disabled:this.props.disabled,onClick:this.props.handleClick,variant:"primary",tagName:this.props.tagName},this.props.children)},t.prototype.renderTertiaryLink=function(){return a.default.createElement(r.TertiaryLink,{icon:this.props.iconName,onClick:this.props.handleClick,disabled:this.props.disabled,className:this.props.className},this.props.children)},t.prototype.renderCMButton=function(){return a.default.createElement("button",{className:this.props.className,disabled:this.props.disabled,onClick:this.props.handleClick},this.props.children)},t.prototype.render=function(){return"primary"===this.props.variant?this.renderPrimaryButton():"CM"===this.props.variant?this.renderCMButton():this.renderTertiaryLink()},t})((a=o.__importDefault(a)).default.PureComponent);t.UploadButton=i})),define("modules/clean/react/async_file_modal_controller",["require","exports","tslib","modules/core/exception"],(function(e,t,o,n){"use strict";function r(t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(t,o){e(["modules/clean/react/file_modal_controller"],t,o)})).then(o.__importStar)];case 1:return n=r.sent(),t(n),[2]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.showMoveErrorModal=t.showFileSystemWarningsModal=t.showConfirmOwnershipTransferModal=t.showContentManagerBridge=t.showNoAccess=t.showDelete=t.showPurgeModal=t.showUnifiedTrashModal=void 0,t.showUnifiedTrashModal=function(t){new Promise((function(t,o){e(["modules/clean/react/file_modals"],t,o)})).then(o.__importStar).then((function(e){e.showUnifiedTrashModal(t)}))},t.showPurgeModal=function(t){new Promise((function(t,o){e(["modules/clean/react/file_modals"],t,o)})).then(o.__importStar).then((function(e){e.showPurgeModal(t)}))},t.showDelete=function(e,t,o,n,a){r((function(r){(0,r.showDelete)(e,t,o,n,a)}))},t.showNoAccess=function(e,t,o){r((function(n){return(0,n.showNoAccess)(e,t,o)}))},t.showContentManagerBridge=function(e,t,o){r((function(n){return(0,n.showContentManagerBridge)(e,t,o)}))},t.showConfirmOwnershipTransferModal=function(e){r((function(t){return(0,t.showConfirmOwnershipTransferModal)(e)}))},t.showFileSystemWarningsModal=function(e){e.fsws.length>0?r((function(t){return(0,t.showFileSystemWarningsModal)(e)})):n.reportStack("Opening FSW modal without fsws",{severity:n.SEVERITY.NONCRITICAL,tags:["x_platform_fsw"]})},t.showMoveErrorModal=function(e){r((function(t){return(0,t.showMoveErrorModal)(e)}))}})),define("modules/clean/react/async_overquota_modal_controller",["require","exports","tslib"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showOverquota=void 0,t.showOverquota=function(t,n,r){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(a){switch(a.label){case 0:return[4,new Promise((function(t,o){e(["modules/clean/react/overquota_modal_controller"],t,o)})).then(o.__importStar)];case 1:return(0,a.sent().showOverquota)({oqa:t,tagline:n,headline:r}),[2]}}))}))}})),define("modules/clean/react/app_actions_view",["require","exports","tslib","classnames","react","spectrum/button","spectrum/icon_action","spectrum/overflow_button","spectrum/popover","spectrum/tertiary_link","modules/clean/react/badge","modules/clean/react/css","modules/clean/react/file_uploader/upload_button","modules/clean/react/portal_popover","modules/clean/user_education/react/user_education_effect","modules/clean/user_education/user_education_client","modules/core/exception"],(function(e,t,o,n,r,a,i,l,s,c,u,p,d,m,f,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppActionsView=t.AppActionsPopover=void 0,n=o.__importDefault(n),r=o.__importDefault(r);var y=function(e){e.handleClick&&e.handleClick()},g=function(e,t){return function(){return r.default.createElement(f.UserEducationEffect,{containerName:"AppActionsPopover",name:"OverflowButton",useSpan:!0},r.default.createElement(l.OverflowButton,{tagName:"span","aria-label":t||"",onClick:e,tabIndex:0,className:"app-action-overflow__trigger"}))}},b=function(e){return function(){return e.map((function(e){return e=e,r.default.createElement(s.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&r.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)}))}};t.AppActionsPopover=function(e){var t=e.primaryMenuItems,o=e.secondaryMenuItems,n=e.popoverTriggerLabel,a=e.shouldUsePortalPopover,c=[];if(t)for(var u=0,p=t;u<p.length;u++){var d=p[u];M(d)&&(c=d.subItems?c.concat(d.subItems):c.concat([d]))}return o&&(c=c.concat.apply(c,o.filter((function(e){return!("function"==typeof e)})))),c.length&&n?a?r.default.createElement(m.PortalPopover,{popoverTriggerSelector:".app-action-overflow__trigger",renderPopoverTrigger:g(void 0,n),renderPopoverItems:b(c),onSelection:y}):r.default.createElement(s.Popover,{onSelection:y},r.default.createElement(s.PopoverTrigger,null,r.default.createElement(f.UserEducationEffect,{containerName:"AppActionsPopover",name:"OverflowButton",useSpan:!0},r.default.createElement(l.OverflowButton,{tagName:"span","aria-label":n}))),r.default.createElement(s.PopoverContent,{attachment:"right"},c.map((function(e){return e=e,r.default.createElement(s.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&r.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)})))):r.default.createElement("noscript",null)};var _=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.scrollableSidebarRef,n=e.secondaryMenuItems,a=e.shouldUsePortalPopover,c=e.popoverTriggerLabel,u=e.onContextMenuClick,p=n?o.__spreadArrays(n.filter((function(e){return!("function"==typeof e)}))):[];return p.length?a?r.default.createElement(m.PortalPopover,{popoverTriggerSelector:".app-action-overflow__trigger",renderPopoverTrigger:g(u,c),renderPopoverItems:b(p),scrollableContainer:t,onSelection:y}):r.default.createElement(s.Popover,{onSelection:y},r.default.createElement(s.PopoverTrigger,null,r.default.createElement(f.UserEducationEffect,{containerName:"AppActionsPopover",name:"OverflowButton",useSpan:!0},r.default.createElement(l.OverflowButton,{tagName:"span","aria-label":c||"",onClick:u}))),r.default.createElement(s.PopoverContent,{attachment:"right"},p.map((function(e){return e=e,r.default.createElement(s.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&r.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)})))):null},t})(r.default.Component),w=function(e,t,o){h.UEClient.sendEvent(e,t),o&&o()},E=function(e){var t,o=e.primaryMenuItem,l=e.buttonVariant;if(M(o)){if(Object.keys(o).length>0){var c=n.default("primary-action-menu__button",o.className),u=c.indexOf("action-upload")>=0,p=!!o.subItems,m=r.default.createElement(f.UserEducationEffect,{containerName:"AppActionsView",name:"PrimaryButtonText",useSpan:!0},o.displayName),h=u?r.default.createElement(d.UploadButton,{className:c,disabled:o.disabled,handleClick:function(){w("AppActionsView","PrimaryButtonTextClicked",o.handleClick)},variant:l,tagName:p?"span":void 0},m):r.default.createElement(a.Button,{className:c,disabled:o.disabled,onClick:o.handleClick,variant:l,tagName:p?"span":void 0},m);t=p?r.default.createElement(s.Popover,{onSelection:y},r.default.createElement(s.PopoverTrigger,{disabled:o.disabled},h),r.default.createElement(s.PopoverContent,{className:"primary-action-menu__popover-menu"},o.subItems.map((function(e){return r.default.createElement(s.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&r.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.popoverMenuName)})))):h}}else t=o();return r.default.createElement("div",{className:"primary-action-menu__button-wrapper"},t)},C=function(e){var t=e.primaryMenuItems,o=e.secondaryMenuItemsOverflow,n=e.popoverTriggerLabel,a=e.headerText,i=e.hideHeaderText,l=e.onContextMenuClick,s=e.hideCreateButton,c=e.scrollableSidebarRef,u=e.shouldUsePortalPopover,p=i?null:r.default.createElement("span",{className:"primary-action-menu__header-text"},a);return t&&t.length>0?r.default.createElement("div",{className:"primary-action-menu"},p,r.default.createElement("div",{className:"primary-action-menu__buttons"},t.map((function(e,t){var o;return o=s?"secondary":0===t?"primary":"secondary",r.default.createElement(E,{primaryMenuItem:e,buttonVariant:o,key:t})})),o.length>0&&r.default.createElement(_,{secondaryMenuItems:o,popoverTriggerLabel:n,onContextMenuClick:l,scrollableSidebarRef:c,shouldUsePortalPopover:u}))):r.default.createElement("noscript",null)},P=function(e){var t=e.menuItem,a=t.disabled,i=t.displayName,l=t.handleClick,s=t.iconName,p=t.badge,m=t.ariaLabel,h=t.ariaPressed,v=n.default("secondary-action-menu__button",e.menuItem.className),y=v.indexOf("action-upload")>=0,g=r.default.createElement(f.UserEducationEffect,{containerName:"AppActionsView",name:"SecondaryActionMenu-text-"+s},i,p&&r.default.createElement(u.Badge,o.__assign({},p)));return y?r.default.createElement(d.UploadButton,{key:e.key,iconName:s,handleClick:function(){w("AppActionsView","SecondaryActionMenu-text-"+s+"-Clicked",l)},disabled:a,className:v,variant:"secondary"},g):r.default.createElement(c.TertiaryLink,{key:e.key,icon:s,onClick:function(){w("AppActionsView","SecondaryActionMenu-text-"+s+"-Clicked",l)},disabled:a,className:v,"aria-label":m,"aria-pressed":h},g)},N=function(e){var t=e.secondaryMenuItems,o=e.user;return t&&0!==t.length?r.default.createElement(c.TertiaryList,{className:"secondary-action-menu"},t.map((function(e){return"function"==typeof e?e():r.default.createElement(P,{user:o,key:e.key||e.displayName,menuItem:e})}))):null};function M(e){return!("function"==typeof e)}var T=(function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(a,e),a.prototype.componentDidMount=function(){this.props.handleComponentTTI("AppActionsView")},a.prototype.render=function(){var e=this.props,a=e.shouldCollapseActions,i=e.responsive,l=e.primaryMenuItems,s=e.primarySubnode,c=e.secondaryMenuItems,u=e.headerText,p=e.hideHeaderText,d=e.popoverTriggerLabel,m=e.user,f=e.onContextMenuClick,h=e.isPrimaryActionSapphire,y=e.scrollableSidebarRef,g=e.shouldUsePortalPopover,b=!(!i||!i.isResponsive||i.isMatchedLarge);l&&l.forEach((function(e){M(e)&&e.subItems&&v.assert(e.subItems.length>0,"Primary menu item cannot have empty list of subItems")}));var _=[],w=[];return void 0!==c&&(a?_=o.__spreadArrays(c):w=o.__spreadArrays(c)),r.default.createElement("div",{className:n.default("appactions-menu",{"sapphire-button":h})},b&&r.default.createElement("div",{className:"appactions-menu--popover"},l&&d&&r.default.createElement(t.AppActionsPopover,{primaryMenuItems:l,secondaryMenuItems:c,popoverTriggerLabel:d,shouldUsePortalPopover:g})),!b&&r.default.createElement("div",{className:"appactions-menu--buttons"},r.default.createElement("div",{className:"appactions-menu--top-row"},l&&r.default.createElement(C,{primaryMenuItems:l,secondaryMenuItemsOverflow:_,popoverTriggerLabel:d,headerText:u,hideHeaderText:p,onContextMenuClick:f,scrollableSidebarRef:y,shouldUsePortalPopover:g})),s,r.default.createElement(N,{user:m,secondaryMenuItems:w})))},a.defaultProps={headerText:"",secondaryMenuItems:[],handleComponentTTI:function(){}},a})(r.default.PureComponent),k=p.requireCssWithComponent(T,["/static/css/spectrum/index.web-vfl6Z83yw.css","/static/css/dropbox/app_actions-vflu5eRr6.css"]);t.AppActionsView=k})),define("modules/clean/react/portal_popover",["require","exports","tslib","classnames","react","react-aria-menubutton","react-dom","spectrum/popover","modules/clean/raf_throttle"],(function(e,t,o,n,r,a,i,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PortalPopover=t.calculateRenderPosition=void 0,n=o.__importDefault(n),r=o.__importDefault(r),i=o.__importDefault(i);t.calculateRenderPosition=function(e,t,o,n,r){void 0===r&&(r="right");var a={top:0,left:0,height:"auto",overflowY:"initial"};if(a.left="left"===r?e.left-4:e.left-t.width+e.width+4,e.bottom+o>n&&e.top-o>0)a.top=e.top-o+8;else{a.top=e.top+e.height+8;var i=n-(e.bottom+o);i<0&&(a.height=o+i-40+"px",a.overflowY="auto")}return a};var c=(function(e){function c(t){var o=e.call(this,t)||this;return o.wrapperRef=r.default.createRef(),o.popoverRef=r.default.createRef(),o.portalContentRef=r.default.createRef(),o.fullContentHeight=0,o.onMenuToggle=function(e){o.setState({isOpen:e.isOpen}),o.props.onMenuToggle&&o.props.onMenuToggle(e)},o.state={isOpen:!1},o.resizeThrottle=new s.RafThrottle((function(){o.state.isOpen&&o.resolvePortalPosition()})),o.scrollThrottle=new s.RafThrottle((function(){o.state.isOpen&&o.resolvePortalPosition()})),o.windowScrollThrottle=new s.RafThrottle((function(){o.state.isOpen&&o.resolvePortalPosition()})),o}return o.__extends(c,e),c.prototype.componentDidUpdate=function(e,t){this.state.isOpen&&!t.isOpen?(this.mountListeners(),this.resolvePortalPosition()):!this.state.isOpen&&t.isOpen&&this.unmountListeners()},c.prototype.componentWillUnmount=function(){this.state.isOpen&&this.unmountListeners()},c.prototype.mountListeners=function(){this.props.scrollableContainer&&(this.props.scrollableContainer instanceof HTMLElement?this.props.scrollableContainer.addEventListener("scroll",this.scrollThrottle.request):this.props.scrollableContainer.current&&this.props.scrollableContainer.current.addEventListener("scroll",this.scrollThrottle.request)),window.addEventListener("resize",this.resizeThrottle.request),window.addEventListener("scroll",this.windowScrollThrottle.request)},c.prototype.unmountListeners=function(){this.props.scrollableContainer&&(this.props.scrollableContainer instanceof HTMLElement?this.props.scrollableContainer.removeEventListener("scroll",this.scrollThrottle.request):this.props.scrollableContainer.current&&this.props.scrollableContainer.current.removeEventListener("scroll",this.scrollThrottle.request)),window.removeEventListener("resize",this.resizeThrottle.request),window.removeEventListener("scroll",this.windowScrollThrottle.request)},c.prototype.resolvePortalPosition=function(){var e=this.portalContentRef.current,o=this.wrapperRef.current;if(e&&o){var n=o.querySelector(this.props.popoverTriggerSelector);if(n){var r=e.querySelector(".mc-popover-content-menu"),a=e.querySelector(".mc-popover-content-background");if(!r||!a)return;var i=n.getBoundingClientRect(),l=r.getBoundingClientRect(),s=0===this.fullContentHeight?l.height:this.fullContentHeight;0===this.fullContentHeight&&(this.fullContentHeight=l.height);var c=t.calculateRenderPosition(i,l,s,window.innerHeight,this.props.attachment);e.style.top=c.top+"px",e.style.left=c.left+"px",a.style.height=c.height,a.style.overflowY=c.overflowY}}},c.prototype.close=function(){this.popoverRef.current&&this.popoverRef.current.close()},c.prototype.render=function(){var e=n.default("mc-positioned-portal-content",this.props.portalClassName);return r.default.createElement("div",{ref:this.wrapperRef},r.default.createElement(l.Popover,{onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onSelection:this.props.onSelection,onMenuToggle:this.onMenuToggle,className:this.props.className,closeOnSelection:this.props.closeOnSelection,ref:this.popoverRef},r.default.createElement(l.PopoverTrigger,{tabIndex:this.props.triggerTabIndex},this.props.renderPopoverTrigger()),i.default.createPortal(r.default.createElement("div",{className:e,ref:this.portalContentRef},r.default.createElement("div",{className:n.default("mc-popover-content",this.props.contentClassName)},r.default.createElement(a.Menu,{className:"mc-popover-content-menu"},r.default.createElement("div",{className:"mc-popover-content-scroller"},r.default.createElement("div",{className:"mc-popover-content-background"},this.props.renderPopoverItems()))))),document.body)))},c})(r.default.Component);t.PortalPopover=c}));
//# sourceMappingURL=pkg-browse-more.min.js-vflNW5XS_.map