define(["require","exports","tslib","lodash","redux","rondo/behavior/index","rondo/middleware_registry/index","rondo/reducers/reducer"],(function(e,r,i,t,d,a,o,c){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t=i.__importStar(t),r.isExtendedStore=function(e){return!!e.reducer},r.createStoreWithBehavior=function(e,r,s){var n;void 0===r&&(r=[]);var u=e.slice,l=e.createReducer(),v=l(void 0,a.createActionMerge()),_=u?t.merge(((n={})[u]=v,n),s):t.merge(v,s),h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({shouldHotReload:!1}):d.compose,S=o.createMiddlewareRegistry();e.middlewares(S);var g=h.apply(void 0,i.__spread([d.applyMiddleware(S)],r)),p=c.createReducer();e.addUnsubscribers(p.addReducer(u,l,!1));var w=d.createStore(p,_,g);w.reducer=p;var R=w.getState;return w.getState=function(){return void 0!==this.reducer.whileDispatchState?this.reducer.whileDispatchState:R()}.bind(w),e.postStoreCreation(w,S),w.middlewareRegistry=S,e.register(),w},r.registerBehavior=function(e,r,i){void 0===i&&(i={});var t=r.slice,d=r.createReducer(),o=i.initBehavior,c=void 0===o||o,s=i.replaceExistingReducer,n=void 0===s||s,u=i.refresh,l=void 0!==u&&u;(!r.isRegistered||n||l)&&r.addUnsubscribers(e.reducer.addReducer(t,d,n)),c&&e.dispatch(a.createActionInitBehavior(r.id)),e.middlewareRegistry&&(r.middlewares(e.middlewareRegistry),r.postStoreCreation(e,e.middlewareRegistry)),r.register()},r.createStore=function(e,i,t,d){return i?(r.registerBehavior(i,e,d),i):r.createStoreWithBehavior(e,[],t)}}));
//# sourceMappingURL=store.min.js-vflU0HLiC.map