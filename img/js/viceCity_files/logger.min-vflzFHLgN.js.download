define(["require","exports","tslib","modules/clean/deprecated_ajax/ajax_jquery"],(function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i);var n,a,_=(n=void 0,a=void 0,(_=(function(){function e(){}return e.initClass=function(){var e=this;this.start_times={},this.DEFAULT_TIMER_NAME="view_time",this.get_timer_name=function(t){return null==t||"boolean"==typeof t?e.DEFAULT_TIMER_NAME:t},this.set_start_time=function(t){var r=e.get_timer_name(t);return e.start_times[r]=Date.now()},this.do_log_view_time=function(t,r){var i=e.get_timer_name(r);return t[i]=Math.round((Date.now()-e.start_times[i])/1e3)},n={},a=[5,15,60,120,300],this.log=function(t,r,n,a){switch(void 0===a&&(a=!1),n=n||{},t){case"paywall_device_limit":return a&&e.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_paywall_device_limit_log",data:{evt:r,extra:JSON.stringify(n)}});case"paywall_shared_folder":return a&&e.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_paywall_shared_folder_log",data:{evt:r,extra:JSON.stringify(n)}});case"onboarding":return a&&e.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_onboarding_log",data:{evt:r,extra:JSON.stringify(n)}});case"onboarding_server_view_experiments":return a&&e.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/uj_server_view_experiments_log",data:{evt:r,extra:JSON.stringify(n)}});case"sharing":return e.do_log_view_time(n),i.SilentBackgroundRequest({url:"/growth_sharing_log",data:{evt:r,extra:JSON.stringify(n)}});case"post_client_install_tab":return a&&e.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_post_client_install_tab_log",data:{evt:r,extra:JSON.stringify(n)}});case"secondary_client_link":return a&&e.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/secondary_client_link_upsell_log",data:{evt:r,extra:JSON.stringify(n)}});default:throw new Error("Invalid series name")}}},e.start_counter=function(e,t){return Array.from(a).map((function(r){return(function(r){return n[e+r]=setTimeout((function(){return t(e,{time_since_first_view:r})}),1e3*r)})(r)}))},e.stop_counter=function(e){return Array.from(a).map((function(t){return clearTimeout(n[e+t])}))},e})()).initClass(),_);t.default=_}));
//# sourceMappingURL=logger.min.js-vflt0rQEu.map