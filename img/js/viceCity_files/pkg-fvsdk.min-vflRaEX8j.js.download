define("file-viewer/assets-metaserver",["require","exports","modules/clean/static_urls"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assets=void 0,t.assets={"2NQat":i.static_url("/static/js/file-viewer/img/error/unavailable_1x-vflG2AHMd.png"),"1M0Da":i.static_url("/static/js/file-viewer/img/error/unavailable_2x-vflGPrE5d.png"),"3_SVR":i.static_url("/static/js/file-viewer/img/error/file_too_large_1x-vflDGNPuo.png"),"1KZOf":i.static_url("/static/js/file-viewer/img/error/file_too_large_2x-vfl-r0UPt.png"),d7hcI:i.static_url("/static/js/file-viewer/img/error/file_uploading_1x-vflRuLSg0.png"),"1WylU":i.static_url("/static/js/file-viewer/img/error/file_uploading_2x-vflKOdrWj.png"),"1j0Ik":i.static_url("/static/js/file-viewer/img/error/filetype_not_supported_1x-vflmIVODZ.png"),"3afH2":i.static_url("/static/js/file-viewer/img/error/filetype_not_supported_2x-vflE8HW8X.png"),"32YjM":i.static_url("/static/js/file-viewer/img/error/password_protected_1x-vflnFAKjt.png"),"29R06":i.static_url("/static/js/file-viewer/img/error/password_protected_2x-vflnBXZ1k.png")}})),define("file-viewer/core/index",["require","exports","file-viewer/core/utils/index","file-viewer/core/i18n","file-viewer/core/invariant","file-viewer/core/ui/types","file-viewer/core/uuid","file-viewer/core/data/reducer","file-viewer/core/data/models","file-viewer/core/data/actions","file-viewer/core/data/utils","modules/clean/api_v2/redux/previews","file-viewer/core/logging/session","file-viewer/core/logging/actions","file-viewer/core/urls","file-viewer/core/data/riviera/index","file-viewer/core/extension_constants","file-viewer/core/utils/index","file-viewer/core/config","file-viewer/core/data/modes/types","file-viewer/core/middlewares/navigation","file-viewer/core/middlewares/native_apps","file-viewer/core/constants","file-viewer/core/errors"],(function(e,t,i,r,n,a,o,s,l,c,d,u,p,f,_,v,g,m,h,b,w,A,y,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFVError=t.FVError=t.FVErrorCode=t.DEFAULT_EXCEL_SCALE_FACTOR=t.DEFAULT_SUPPORTED_PREVIEW_TYPES=t.MIN_IMG_SCALE_FACTOR=t.MAX_IMG_SCALE_FACTOR=t.nativeAppsMiddleware=t.navigationMiddleware=t.FileViewerMode=t.SidebarVisibility=t.SidebarPaneId=t.SidebarControlId=t.DEFAULT_CONFIG=t.memoizeOne=t.calculatePageRange=t.resolvePreviewType=t.resolveAsset=t.getFileSizeLimit=t.fileSizeSupported=t.getParentFolderFromPath=t.getFileExtension=t.getWhitelistedFileExtension=t.resolvePreviewTypeFromExtension=t.PRESENTATION_EXTS=t.DOC_EXTS=t.PHOTO_EXTS=t.WebRivieraIOClient=t.RivieraError=t.RivieraStatus=t.imageUrl=t.logTTI=t.logEvent=t.UserActionContext=t.UserAction=t.SourceContext=t.SourceAction=t.EventType=t.DeviceType=t.createFilePreviewSession=t.previewsDataMiddleware=t.isExcelPreviewMetadata=t.isDocRivieraData=t.exitFullScreen=t.openWithCloudEditor=t.copyToDropbox=t.downloadFile=t.openUrl=t.setInitialFocus=t.setActivePlugin=t.openVersionHistory=t.pushSidebarPane=t.fetchPageDataWithMetadataResult=t.initializeFilePreview=t.initializeFilePreviewSession=t.setFileMetadata=t.openWebPreview=t.openWith=t.shareAction=t.closeSidebar=t.openSidebar=t.sidebarControlClickAction=t.changeMode=t.pageDown=t.pageUp=t.setCurrentFilePreview=t.closeDocSidebar=t.openDocSidebar=t.refreshBlobAction=t.updateFitScaleFactor=t.zoomOriginalOrFit=t.zoomOut=t.zoomIn=t.fetchPageDataWithMetadata=t.resolvePageNavigation=t.pageNavigation=t.updateDocCurrentPageIndex=t.refreshBlobSuccessAction=t.setBootstrappedFileId=t.Action=t.PreviewType=t.DEFAULT_IMAGE_PREVIEW_UI=t.DEFAULT_EXCEL_PREVIEW_UI=t.DEFAULT_DOC_PREVIEW_UI=t.DEFAULT_STATE=t.DEFAULT_FILE_VIEWER_UI=t.DEFAULT_MODE=t.DEFAULT_USER=t.DEFAULT_FILE_PREVIEW_UI=t.reducers=t.uuidV4=t.Theme=t.invariant=t.formatDuration=t.formatBytes=t.placeholderI18nFormatters=t.shallowEqual=t.calculateFitBox=void 0,Object.defineProperty(t,"calculateFitBox",{enumerable:!0,get:function(){return i.calculateFitBox}}),Object.defineProperty(t,"shallowEqual",{enumerable:!0,get:function(){return i.shallowEqual}}),Object.defineProperty(t,"placeholderI18nFormatters",{enumerable:!0,get:function(){return r.placeholderI18nFormatters}}),Object.defineProperty(t,"formatBytes",{enumerable:!0,get:function(){return r.formatBytes}}),Object.defineProperty(t,"formatDuration",{enumerable:!0,get:function(){return r.formatDuration}}),Object.defineProperty(t,"invariant",{enumerable:!0,get:function(){return n.invariant}}),Object.defineProperty(t,"Theme",{enumerable:!0,get:function(){return a.Theme}}),Object.defineProperty(t,"uuidV4",{enumerable:!0,get:function(){return o.v4}}),Object.defineProperty(t,"reducers",{enumerable:!0,get:function(){return s.reducers}}),Object.defineProperty(t,"DEFAULT_FILE_PREVIEW_UI",{enumerable:!0,get:function(){return s.DEFAULT_FILE_PREVIEW_UI}}),Object.defineProperty(t,"DEFAULT_USER",{enumerable:!0,get:function(){return s.DEFAULT_USER}}),Object.defineProperty(t,"DEFAULT_MODE",{enumerable:!0,get:function(){return s.DEFAULT_MODE}}),Object.defineProperty(t,"DEFAULT_FILE_VIEWER_UI",{enumerable:!0,get:function(){return s.DEFAULT_FILE_VIEWER_UI}}),Object.defineProperty(t,"DEFAULT_STATE",{enumerable:!0,get:function(){return s.DEFAULT_STATE}}),Object.defineProperty(t,"DEFAULT_DOC_PREVIEW_UI",{enumerable:!0,get:function(){return s.DEFAULT_DOC_PREVIEW_UI}}),Object.defineProperty(t,"DEFAULT_EXCEL_PREVIEW_UI",{enumerable:!0,get:function(){return s.DEFAULT_EXCEL_PREVIEW_UI}}),Object.defineProperty(t,"DEFAULT_IMAGE_PREVIEW_UI",{enumerable:!0,get:function(){return s.DEFAULT_IMAGE_PREVIEW_UI}}),Object.defineProperty(t,"PreviewType",{enumerable:!0,get:function(){return l.PreviewType}}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return c.Action}}),Object.defineProperty(t,"setBootstrappedFileId",{enumerable:!0,get:function(){return c.setBootstrappedFileId}}),Object.defineProperty(t,"refreshBlobSuccessAction",{enumerable:!0,get:function(){return c.refreshBlobSuccessAction}}),Object.defineProperty(t,"updateDocCurrentPageIndex",{enumerable:!0,get:function(){return c.updateDocCurrentPageIndex}}),Object.defineProperty(t,"pageNavigation",{enumerable:!0,get:function(){return c.pageNavigation}}),Object.defineProperty(t,"resolvePageNavigation",{enumerable:!0,get:function(){return c.resolvePageNavigation}}),Object.defineProperty(t,"fetchPageDataWithMetadata",{enumerable:!0,get:function(){return c.fetchPageDataWithMetadata}}),Object.defineProperty(t,"zoomIn",{enumerable:!0,get:function(){return c.zoomIn}}),Object.defineProperty(t,"zoomOut",{enumerable:!0,get:function(){return c.zoomOut}}),Object.defineProperty(t,"zoomOriginalOrFit",{enumerable:!0,get:function(){return c.zoomOriginalOrFit}}),Object.defineProperty(t,"updateFitScaleFactor",{enumerable:!0,get:function(){return c.updateFitScaleFactor}}),Object.defineProperty(t,"refreshBlobAction",{enumerable:!0,get:function(){return c.refreshBlobAction}}),Object.defineProperty(t,"openDocSidebar",{enumerable:!0,get:function(){return c.openDocSidebar}}),Object.defineProperty(t,"closeDocSidebar",{enumerable:!0,get:function(){return c.closeDocSidebar}}),Object.defineProperty(t,"setCurrentFilePreview",{enumerable:!0,get:function(){return c.setCurrentFilePreview}}),Object.defineProperty(t,"pageUp",{enumerable:!0,get:function(){return c.pageUp}}),Object.defineProperty(t,"pageDown",{enumerable:!0,get:function(){return c.pageDown}}),Object.defineProperty(t,"changeMode",{enumerable:!0,get:function(){return c.changeMode}}),Object.defineProperty(t,"sidebarControlClickAction",{enumerable:!0,get:function(){return c.sidebarControlClickAction}}),Object.defineProperty(t,"openSidebar",{enumerable:!0,get:function(){return c.openSidebar}}),Object.defineProperty(t,"closeSidebar",{enumerable:!0,get:function(){return c.closeSidebar}}),Object.defineProperty(t,"shareAction",{enumerable:!0,get:function(){return c.shareAction}}),Object.defineProperty(t,"openWith",{enumerable:!0,get:function(){return c.openWith}}),Object.defineProperty(t,"openWebPreview",{enumerable:!0,get:function(){return c.openWebPreview}}),Object.defineProperty(t,"setFileMetadata",{enumerable:!0,get:function(){return c.setFileMetadata}}),Object.defineProperty(t,"initializeFilePreviewSession",{enumerable:!0,get:function(){return c.initializeFilePreviewSession}}),Object.defineProperty(t,"initializeFilePreview",{enumerable:!0,get:function(){return c.initializeFilePreview}}),Object.defineProperty(t,"fetchPageDataWithMetadataResult",{enumerable:!0,get:function(){return c.fetchPageDataWithMetadataResult}}),Object.defineProperty(t,"pushSidebarPane",{enumerable:!0,get:function(){return c.pushSidebarPane}}),Object.defineProperty(t,"openVersionHistory",{enumerable:!0,get:function(){return c.openVersionHistory}}),Object.defineProperty(t,"setActivePlugin",{enumerable:!0,get:function(){return c.setActivePlugin}}),Object.defineProperty(t,"setInitialFocus",{enumerable:!0,get:function(){return c.setInitialFocus}}),Object.defineProperty(t,"openUrl",{enumerable:!0,get:function(){return c.openUrl}}),Object.defineProperty(t,"downloadFile",{enumerable:!0,get:function(){return c.downloadFile}}),Object.defineProperty(t,"copyToDropbox",{enumerable:!0,get:function(){return c.copyToDropbox}}),Object.defineProperty(t,"openWithCloudEditor",{enumerable:!0,get:function(){return c.openWithCloudEditor}}),Object.defineProperty(t,"exitFullScreen",{enumerable:!0,get:function(){return c.exitFullScreen}}),Object.defineProperty(t,"isDocRivieraData",{enumerable:!0,get:function(){return d.isDocRivieraData}}),Object.defineProperty(t,"isExcelPreviewMetadata",{enumerable:!0,get:function(){return d.isExcelPreviewMetadata}}),Object.defineProperty(t,"previewsDataMiddleware",{enumerable:!0,get:function(){return u.middleware}}),Object.defineProperty(t,"createFilePreviewSession",{enumerable:!0,get:function(){return p.createFilePreviewSession}}),Object.defineProperty(t,"DeviceType",{enumerable:!0,get:function(){return p.DeviceType}}),Object.defineProperty(t,"EventType",{enumerable:!0,get:function(){return p.EventType}}),Object.defineProperty(t,"SourceAction",{enumerable:!0,get:function(){return p.SourceAction}}),Object.defineProperty(t,"SourceContext",{enumerable:!0,get:function(){return p.SourceContext}}),Object.defineProperty(t,"UserAction",{enumerable:!0,get:function(){return p.UserAction}}),Object.defineProperty(t,"UserActionContext",{enumerable:!0,get:function(){return p.UserActionContext}}),Object.defineProperty(t,"logEvent",{enumerable:!0,get:function(){return f.logEvent}}),Object.defineProperty(t,"logTTI",{enumerable:!0,get:function(){return f.logTTI}}),Object.defineProperty(t,"imageUrl",{enumerable:!0,get:function(){return _.imageUrl}}),Object.defineProperty(t,"RivieraStatus",{enumerable:!0,get:function(){return v.RivieraStatus}}),Object.defineProperty(t,"RivieraError",{enumerable:!0,get:function(){return v.RivieraError}}),Object.defineProperty(t,"WebRivieraIOClient",{enumerable:!0,get:function(){return v.WebRivieraIOClient}}),Object.defineProperty(t,"PHOTO_EXTS",{enumerable:!0,get:function(){return g.PHOTO_EXTS}}),Object.defineProperty(t,"DOC_EXTS",{enumerable:!0,get:function(){return g.DOC_EXTS}}),Object.defineProperty(t,"PRESENTATION_EXTS",{enumerable:!0,get:function(){return g.PRESENTATION_EXTS}}),Object.defineProperty(t,"resolvePreviewTypeFromExtension",{enumerable:!0,get:function(){return g.resolvePreviewTypeFromExtension}}),Object.defineProperty(t,"getWhitelistedFileExtension",{enumerable:!0,get:function(){return g.getWhitelistedFileExtension}}),Object.defineProperty(t,"getFileExtension",{enumerable:!0,get:function(){return m.getFileExtension}}),Object.defineProperty(t,"getParentFolderFromPath",{enumerable:!0,get:function(){return m.getParentFolderFromPath}}),Object.defineProperty(t,"fileSizeSupported",{enumerable:!0,get:function(){return m.fileSizeSupported}}),Object.defineProperty(t,"getFileSizeLimit",{enumerable:!0,get:function(){return m.getFileSizeLimit}}),Object.defineProperty(t,"resolveAsset",{enumerable:!0,get:function(){return m.resolveAsset}}),Object.defineProperty(t,"resolvePreviewType",{enumerable:!0,get:function(){return m.resolvePreviewType}}),Object.defineProperty(t,"calculatePageRange",{enumerable:!0,get:function(){return m.calculatePageRange}}),Object.defineProperty(t,"memoizeOne",{enumerable:!0,get:function(){return m.memoizeOne}}),Object.defineProperty(t,"DEFAULT_CONFIG",{enumerable:!0,get:function(){return h.DEFAULT_CONFIG}}),Object.defineProperty(t,"SidebarControlId",{enumerable:!0,get:function(){return b.SidebarControlId}}),Object.defineProperty(t,"SidebarPaneId",{enumerable:!0,get:function(){return b.SidebarPaneId}}),Object.defineProperty(t,"SidebarVisibility",{enumerable:!0,get:function(){return b.SidebarVisibility}}),Object.defineProperty(t,"FileViewerMode",{enumerable:!0,get:function(){return b.FileViewerMode}}),Object.defineProperty(t,"navigationMiddleware",{enumerable:!0,get:function(){return w.middleware}}),Object.defineProperty(t,"nativeAppsMiddleware",{enumerable:!0,get:function(){return A.middleware}}),Object.defineProperty(t,"MAX_IMG_SCALE_FACTOR",{enumerable:!0,get:function(){return y.MAX_IMG_SCALE_FACTOR}}),Object.defineProperty(t,"MIN_IMG_SCALE_FACTOR",{enumerable:!0,get:function(){return y.MIN_IMG_SCALE_FACTOR}}),Object.defineProperty(t,"DEFAULT_SUPPORTED_PREVIEW_TYPES",{enumerable:!0,get:function(){return y.DEFAULT_SUPPORTED_PREVIEW_TYPES}}),Object.defineProperty(t,"DEFAULT_EXCEL_SCALE_FACTOR",{enumerable:!0,get:function(){return y.DEFAULT_EXCEL_SCALE_FACTOR}}),Object.defineProperty(t,"FVErrorCode",{enumerable:!0,get:function(){return P.FVErrorCode}}),Object.defineProperty(t,"FVError",{enumerable:!0,get:function(){return P.FVError}}),Object.defineProperty(t,"isFVError",{enumerable:!0,get:function(){return P.isFVError}})})),define("file-viewer/core/config",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=void 0,t.DEFAULT_CONFIG={pdf_size_limit:524288e3,ppt_size_limit:301989888,word_doc_size_limit:167772160,archive_size_limit:1073741824,text_size_limit:8388608,linkfile_size_limit:10240,excel_size_limit:41943040,annotations:!1,enable_documentation_pane:!1,enable_excel_headers:!1,enable_fullscreen:!1,enable_navigation_bar:!0,enable_open_button:!1,enable_print:!1,enable_share_button:!1,excel_support:!1,file_flipping:!1,html_support:!1,img_size_optimization:!1,load_image_only:!1,keyboard_shortcuts:!0,new_pass_ux:!1,cloud_open_with_buttons:[],show_titlebar:!0,size_class:"large",slack_integration:!1,titlebar_logo_config:{show_logo:!1,base_url:""},zoom_integration:!1,enable_pass:!1,log_views_to_pass:!0,open_sidebar_by_default:!0,fidelity_survey:[{default:!0,probability:0}],preview_types:(i={},i.ssr_doc={scaleToFit:"width_and_height"},i),download_button:{enable_download_button:!1,can_download:!1,copy_targets:[]}}})),define("file-viewer/core/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SUPPORTED_PREVIEW_TYPES=t.DEFAULT_EXCEL_SCALE_FACTOR=t.ZOOM_PERCENT_DELTA=t.DOC_ZOOM_MULTIPLIER=t.MIN_DOC_SCALE_FACTOR=t.MAX_DOC_SCALE_FACTOR=t.IMG_ZOOM_MULTIPLIER=t.MIN_IMG_SCALE_FACTOR=t.MAX_IMG_SCALE_FACTOR=void 0,t.MAX_IMG_SCALE_FACTOR=16,t.MIN_IMG_SCALE_FACTOR=.01,t.IMG_ZOOM_MULTIPLIER=1.25,t.MAX_DOC_SCALE_FACTOR=10,t.MIN_DOC_SCALE_FACTOR=.1,t.DOC_ZOOM_MULTIPLIER=1.1,t.ZOOM_PERCENT_DELTA=.05,t.DEFAULT_EXCEL_SCALE_FACTOR=.5,t.DEFAULT_SUPPORTED_PREVIEW_TYPES=["cloud_doc","image","ssr_doc"]})),define("file-viewer/core/data/actions",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.downloadFile=t.copyToDropbox=t.pluginEnabledStateChanged=t.fidelitySurveyDismissed=t.fidelitySurveyAnswered=t.fidelitySurveyAsked=t.switchWorkbookTab=t.fetchExcelSheetLayoutDataResult=t.fetchExcelSheetLayoutData=t.setActivePlugin=t.setErroredFileId=t.setBootstrappedFileId=t.unsubscribeNetworkState=t.subscribeNetworkState=t.setNetworkConnectivityState=t.openContainingFolder=t.openFullscreenPreview=t.setSharedLinkInfo=t.setFileMetadata=t.flipToPreviousFile=t.flipToNextFile=t.openUrl=t.openVersionHistory=t.openWebPreview=t.popSidebarPane=t.pushSidebarPane=t.initializeFileViewer=t.fetchNativeAppsResult=t.fetchNativeApps=t.openWithCloudEditor=t.openWith=t.shareAction=t.closeSidebar=t.openSidebar=t.sidebarControlClickAction=t.changeMode=t.setInitialFocus=t.clickDropboxLogo=t.exitFullScreen=t.enterFullScreen=t.print=t.pageUp=t.pageDown=t.updateScaleFactor=t.setCurrentFilePreview=t.closeDocSidebar=t.openDocSidebar=t.initializeFilePreviewSession=t.initializeFilePreview=t.zoomOriginalOrFit=t.updateFitScaleFactor=t.zoomOut=t.zoomIn=t.resolvePageNavigation=t.pageNavigation=t.updateDocCurrentPageIndex=t.prewarmUnifiedPreviewAsset=t.refreshBlobSuccessAction=t.refreshBlobAction=t.fetchPageDataWithMetadataResult=t.fetchPageDataWithMetadata=t.excelSheetRenderSucceeded=t.excelSheetRenderFailed=t.Action=void 0,(i=t.Action||(t.Action={})).ChangeMode="@@previews/modes/changeMode",i.CloseDocSidebar="@@previews/fileViewerUi/closeDocSidebar",i.CopyToDropbox="@@previews/fileSystem/copyToDropbox",i.DownloadFile="@@previews/fileSystem/downloadFile",i.FetchPageDataWithMetadata="@@previews/fetchPageDataWithMetadata",i.FetchPageDataWithMetadataResult="@@previews/fetchPageDataWithMetadataResult",i.FetchPhotoMetadataResult="@@previews/fetchPhotoMetadataResult",i.FlipToNextFile="@@previews/navigation/flipToNextFile",i.FlipToPreviousFile="@@previews/navigation/flipToPreviousFile",i.InitializeFilePreview="@@previews/initializeFilePreview",i.OpenDocSidebar="@@previews/fileViewerUi/openDocSidebar",i.PageDown="@@previews/pageDown",i.PageUp="@@previews/pageUp",i.PrewarmUnifiedPreviewAsset="@@previews/fetchUnifiedPreviewAsset",i.Print="@@previews/print",i.RefreshBlob="@@previews/refreshBlob",i.RefreshBlobSuccess="@@previews/refreshBlobSuccess",i.SetCurrentFilePreview="@@previews/setCurrentFilePreview",i.SetInitialFocus="@@previews/setInitialFocus",i.UpdateDocCurrentPageIndex="@@previews/updateDocCurrentPageIndex",i.PageNavigation="@@previews/pageNavigation",i.ResolvePageNavigation="@@previews/resolvePageNavigation",i.UpdateFitScaleFactor="@@previews/updateFitScaleFactor",i.UpdateScaleFactor="@@previews/updateScaleFactor",i.ZoomIn="@@previews/zoomIn",i.ZoomOriginalOrFit="@@previews/zoomOriginalOrFit",i.ZoomOut="@@previews/zoomOut",i.SidebarControlClick="@@previews/sidebarControlClick",i.OpenSidebar="@@previews/openSidebar",i.CloseSidebar="@@previews/closeSidebar",i.Share="@@previews/share",i.OpenWith="@@previews/openWith",i.OpenWithCloudEditor="@@previews/openWithCloudEditor",i.OpenWebPreview="@@previews/openWebPreview",i.OpenVersionHistory="@@previews/openVersionHistory",i.OpenUrl="@@previews/openUrl",i.FetchNativeApps="@@previews/fetchNativeApps",i.FetchNativeAppsResult="@@previews/fetchNativeAppsResult",i.InitializeFilePreviewSession="@@previews/initializeFilePreviewSession",i.InitializeFileViewer="@@previews/initializeFileViewer",i.PushSidebarPane="@@previews/pushSidebarPane",i.PopSidebarPane="@@previews/popSidebarPane",i.SetFileMetadata="@@previews/setFileMetadata",i.OpenFullscreenPreview="@@previews/openFullscreenPreview",i.OpenContainingFolder="@@previews/openContainingFolder",i.SetNetworkState="@@previews/setNetworkState",i.SubscribeNetworkState="@@previews/subscribeNetworkState",i.UnsubscribeNetworkState="@@previews/unsubscribeNetworkState",i.SetBootstrappedFileId="@@previews/setBootstrappedFileId",i.SetErroredFileId="@@previews/setErroredFileId",i.SetActivePlugin="@@previews/plugins/setActivePlugin",i.FetchExcelSheetLayoutData="@@previews/fetchExcelSheetLayoutData",i.FetchExcelSheetLayoutDataResult="@@previews/fetchExcelSheetLayoutDataResult",i.FidelitySurveyAsked="@@previews/fidelitySurveyAsked",i.FidelitySurveyAnswered="@@previews/fidelitySurveyAnswered",i.FidelitySurveyDismissed="@@previews/fidelitySurveyDismissed",i.SwitchWorkbookTab="@@previews/switchWorkbookTab",i.PluginEnabledStateChange="@@previews/pluginEnabledStateChange",i.SetSharedLinkInfo="@@previews/setSharedLinkInfo",i.ExcelSheetRenderFailed="@@previews/excelSheetRenderFailed",i.ExcelSheetRenderSucceeded="@@previews/excelSheetRenderSucceeded",i.EnterFullScreen="@@previews/enterFullscreen",i.ExitFullScreen="@@previews/exitFullscreen",i.ClickDropboxLogo="@@previews/clickDropboxLogo",t.excelSheetRenderFailed=function(e){return{payload:e,type:"@@previews/excelSheetRenderFailed"}},t.excelSheetRenderSucceeded=function(e){return{payload:e,type:"@@previews/excelSheetRenderSucceeded"}},t.fetchPageDataWithMetadata=function(e){return{payload:e,type:"@@previews/fetchPageDataWithMetadata"}},t.fetchPageDataWithMetadataResult=function(e,t){return{type:"@@previews/fetchPageDataWithMetadataResult",payload:e,error:t}},t.refreshBlobAction=function(e){return{payload:e,type:"@@previews/refreshBlob"}},t.refreshBlobSuccessAction=function(e){return{payload:e,type:"@@previews/refreshBlobSuccess"}},t.prewarmUnifiedPreviewAsset=function(e){return{type:"@@previews/fetchUnifiedPreviewAsset",payload:e}},t.updateDocCurrentPageIndex=function(e){return{type:"@@previews/updateDocCurrentPageIndex",payload:e}},t.pageNavigation=function(e){return{type:"@@previews/pageNavigation",payload:e}},t.resolvePageNavigation=function(e){return{type:"@@previews/resolvePageNavigation",payload:e}},t.zoomIn=function(e){return{type:"@@previews/zoomIn",payload:e}},t.zoomOut=function(e){return{type:"@@previews/zoomOut",payload:e}},t.updateFitScaleFactor=function(e){return{type:"@@previews/updateFitScaleFactor",payload:e}},t.zoomOriginalOrFit=function(e){return{type:"@@previews/zoomOriginalOrFit",payload:e}},t.initializeFilePreview=function(e){return{type:"@@previews/initializeFilePreview",payload:e}},t.initializeFilePreviewSession=function(e){return{type:"@@previews/initializeFilePreviewSession",payload:e}},t.openDocSidebar=function(e){return{type:"@@previews/fileViewerUi/openDocSidebar",payload:e}},t.closeDocSidebar=function(e){return{type:"@@previews/fileViewerUi/closeDocSidebar",payload:e}},t.setCurrentFilePreview=function(e){return{type:"@@previews/setCurrentFilePreview",payload:e}},t.updateScaleFactor=function(e){return{type:"@@previews/updateScaleFactor",payload:e}},t.pageDown=function(e){return{type:"@@previews/pageDown",payload:e}},t.pageUp=function(e){return{type:"@@previews/pageUp",payload:e}},t.print=function(e){return{type:"@@previews/print",payload:e}},t.enterFullScreen=function(e){return{type:"@@previews/enterFullscreen",payload:e}},t.exitFullScreen=function(e){return{type:"@@previews/exitFullscreen",payload:e}},t.clickDropboxLogo=function(e){return{type:"@@previews/clickDropboxLogo",payload:e}},t.setInitialFocus=function(e){return{type:"@@previews/setInitialFocus",payload:e}},t.changeMode=function(e){return{type:"@@previews/modes/changeMode",payload:e}},t.sidebarControlClickAction=function(e){return{payload:e,type:"@@previews/sidebarControlClick"}},t.openSidebar=function(e){return{type:"@@previews/openSidebar",payload:e}},t.closeSidebar=function(e){return{type:"@@previews/closeSidebar",payload:e}},t.shareAction=function(e){return{type:"@@previews/share",payload:e}},t.openWith=function(e){return{type:"@@previews/openWith",payload:e}},t.openWithCloudEditor=function(e){return{type:"@@previews/openWithCloudEditor",payload:e}},t.fetchNativeApps=function(e){return{type:"@@previews/fetchNativeApps",payload:e}},t.fetchNativeAppsResult=function(e){return{type:"@@previews/fetchNativeAppsResult",payload:e}},t.initializeFileViewer=function(e){return{type:"@@previews/initializeFileViewer",payload:e}},t.pushSidebarPane=function(e){return{type:"@@previews/pushSidebarPane",payload:e}},t.popSidebarPane=function(e){return{type:"@@previews/popSidebarPane",payload:e}},t.openWebPreview=function(e){return{type:"@@previews/openWebPreview",payload:e}},t.openVersionHistory=function(e){return{type:"@@previews/openVersionHistory",payload:e}},t.openUrl=function(e){return{type:"@@previews/openUrl",payload:e}},t.flipToNextFile=function(e){return{type:"@@previews/navigation/flipToNextFile",payload:e}},t.flipToPreviousFile=function(e){return{type:"@@previews/navigation/flipToPreviousFile",payload:e}},t.setFileMetadata=function(e){return{type:"@@previews/setFileMetadata",payload:e}},t.setSharedLinkInfo=function(e){return{type:"@@previews/setSharedLinkInfo",payload:e}},t.openFullscreenPreview=function(e){return{type:"@@previews/openFullscreenPreview",payload:e}},t.openContainingFolder=function(e){return{type:"@@previews/openContainingFolder",payload:e}},t.setNetworkConnectivityState=function(e){return{type:"@@previews/setNetworkState",payload:e}},t.subscribeNetworkState=function(){return{type:"@@previews/subscribeNetworkState",payload:{}}},t.unsubscribeNetworkState=function(){return{type:"@@previews/unsubscribeNetworkState",payload:{}}},t.setBootstrappedFileId=function(e){return{type:"@@previews/setBootstrappedFileId",payload:e}},t.setErroredFileId=function(e){return{type:"@@previews/setErroredFileId",payload:e}},t.setActivePlugin=function(e){return{type:"@@previews/plugins/setActivePlugin",payload:e}},t.fetchExcelSheetLayoutData=function(e){return{type:"@@previews/fetchExcelSheetLayoutData",payload:e}},t.fetchExcelSheetLayoutDataResult=function(e,t){return{type:"@@previews/fetchExcelSheetLayoutDataResult",payload:e,error:t}},t.switchWorkbookTab=function(e){return{type:"@@previews/switchWorkbookTab",payload:e}},t.fidelitySurveyAsked=function(e){return{type:"@@previews/fidelitySurveyAsked",payload:e}},t.fidelitySurveyAnswered=function(e){return{type:"@@previews/fidelitySurveyAnswered",payload:e}},t.fidelitySurveyDismissed=function(e){return{type:"@@previews/fidelitySurveyDismissed",payload:e}},t.pluginEnabledStateChanged=function(e){return{type:"@@previews/pluginEnabledStateChange",payload:e}},t.copyToDropbox=function(e){return{type:"@@previews/fileSystem/copyToDropbox",payload:e}},t.downloadFile=function(e){return{type:"@@previews/fileSystem/downloadFile",payload:e}}})),define("file-viewer/core/data/models",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewType=void 0,(i=t.PreviewType||(t.PreviewType={})).Archive="archive",i.Audio="audio",i.CloudDoc="cloud_doc",i.Excel="excel",i.Error="error",i.HTML="html",i.Image="image",i.Linkfile="linkfile",i.Other="other",i.SsrDoc="ssr_doc",i.RawHTML="raw_html",i.Restricted="restricted",i.Video="video",i.Doc="doc",i.Photo="photo",i.Text="text"})),define("file-viewer/core/data/modes/types",["require","exports"],(function(e,t){"use strict";var i,r,n,a;Object.defineProperty(t,"__esModule",{value:!0}),t.FileViewerMode=t.SidebarPaneId=t.SidebarControlId=t.SidebarVisibility=void 0,(i=t.SidebarVisibility||(t.SidebarVisibility={})).Closed="closed",i.Open="open",(r=t.SidebarControlId||(t.SidebarControlId={})).Documentation="documentation",r.Comments="comments",r.Watermarking="watermarking",r.Zoom="zoom",r.Slack="slack",r.Markup="markup",r.HelloSign="hellosign",r.ProAnalytics="pro_analytics",(n=t.SidebarPaneId||(t.SidebarPaneId={})).Documentation="documentation",n.Metadata="metadata",n.Comments="comments",n.Activity="activity",n.Watermarking="watermarking",n.Zoom="zoom",n.ZoomCreateMeeting="zoom_create_meeting",n.ZoomMeetingDetail="zoom_meeting_detail",n.SlackHome="slack_home",n.Markup="markup",n.Plugins="plugins",n.HelloSign="hellosign",n.ProAnalytics="pro_analytics",(a=t.FileViewerMode||(t.FileViewerMode={})).Default="default",a.Commenting="commenting",a.Documentation="documentation",a.Watermarking="watermarking",a.Zoom="zoom",a.Slack="slack",a.Markup="markup",a.Plugins="plugins",a.HelloSign="hellosign",a.ProAnalytics="pro_analytics"})),define("file-viewer/core/data/reducer",["require","exports","tslib","file-viewer/core/logging/session","file-viewer/core/data/modes/types","file-viewer/core/uuid","file-viewer/core/constants","file-viewer/core/extension_constants","file-viewer/core/data/utils","file-viewer/core/data/riviera/transform"],(function(e,t,i,r,n,a,o,s,l,c){"use strict";var d;function u(e,t){if(1===t||!e)return 1;var i=Math.round(e*t/o.ZOOM_PERCENT_DELTA)*o.ZOOM_PERCENT_DELTA;return Math.abs(i-e)<o.ZOOM_PERCENT_DELTA&&(i+=t>1?o.ZOOM_PERCENT_DELTA:-o.ZOOM_PERCENT_DELTA),Math.min(Math.max(i,o.MIN_IMG_SCALE_FACTOR),o.MAX_IMG_SCALE_FACTOR)}function p(e,t){return Math.max(Math.min(e*t,o.MAX_DOC_SCALE_FACTOR),o.MIN_DOC_SCALE_FACTOR)}Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=t.modesReducer=t.usersReducer=t.currentFileInfoReducer=t.loggingSessionReducer=t.DEFAULT_DOC_PREVIEW_METADATA=t.DEFAULT_FILE_VIEWER_UI=t.DEFAULT_EXCEL_PREVIEW_UI=t.DEFAULT_DOC_PREVIEW_UI=t.DEFAULT_IMAGE_PREVIEW_UI=t.DEFAULT_FILE_PREVIEW_UI=t.DEFAULT_STATE=t.DEFAULT_MODE=t.DEFAULT_USER=void 0,t.DEFAULT_USER={locale:"en",referral_link:"",is_paired:!1,account_type:{".tag":"basic"},uid:0,user_name:"",root_info:{".tag":"user"},is_deferred_password:!1,is_deferred_password_set:!1,is_business_domain:!1,is_paid:!1,uses_apple_relay_email:!1,has_ever_linked_desktop:!1,has_user_added_files:!1,video_uploads_enabled_default:!1,email_verified:!1,visibility_quota_info:{normal:0,shared:0,quota:0},pending_forced_migration:!1,referral_bonus_info:{bonus_space:0,max_num_bonus:0},quota_info:{normal:0,shared:0,quota:0},account_id:"",disabled:!1,email:"",role:"",teams_member:!1,name:{given_name:"Guest",surname:"",display_name:"Guest",familiar_name:"",abbreviated_name:"G"}};var f={visibility:n.SidebarVisibility.Closed,paneStack:[]};t.DEFAULT_MODE={mode:n.FileViewerMode.Default,sidebar:f},t.DEFAULT_STATE={previewData:{},fileMetadata:{},rivieraData:{},filePreviewUi:{},fileViewerUi:{},currentFileInfo:{},loggingSession:{},users:{},currentUser:t.DEFAULT_USER,modes:{},nativeApps:{},networkConnectivity:{isOffline:!1},uploadInfo:{},fileContentMetadata:{},plugins:{},sharedLinkInfo:{}},t.DEFAULT_FILE_PREVIEW_UI={isFidelitySurveyVisible:!1,isFullScreen:!1,isSidebarOpen:!1},t.DEFAULT_IMAGE_PREVIEW_UI=i.__assign(i.__assign({},t.DEFAULT_FILE_PREVIEW_UI),{fitScaleFactor:0}),t.DEFAULT_DOC_PREVIEW_UI=i.__assign(i.__assign({},t.DEFAULT_FILE_PREVIEW_UI),{currentPageIndex:0,fitScaleFactor:0}),t.DEFAULT_EXCEL_PREVIEW_UI=i.__assign(i.__assign({},t.DEFAULT_FILE_PREVIEW_UI),{currentTabIndex:0,fitScaleFactor:0}),t.DEFAULT_FILE_VIEWER_UI={isDocSidebarOpen:!0};t.DEFAULT_DOC_PREVIEW_METADATA={metadata:{page_count:0,dimensions:[[0,0,0]]},pages:[]};function _(e){return e.payload.fileIdOrRevisionId}t.loggingSessionReducer=function(e,n){var o,l,c;if(void 0===e&&(e=t.DEFAULT_STATE.loggingSession),"@@previews/initializeFilePreviewSession"===n.type){var d=n.payload,u=d.fileViewerId,p=d.sourceSession;return i.__assign(i.__assign({},e),((o={})[u]=r.createFilePreviewSession({file_viewer_session_id:n.payload.fileViewerId,file_preview_session_id:a.v4(),file_id:n.payload.fileId,device_type:n.payload.deviceType,file_extension:s.getWhitelistedFileExtension(n.payload.fileExtension),extra:p}),o))}if("@@previews/updateSession"===n.type)return i.__assign(i.__assign({},e),((l={})[n.payload.file_viewer_session_id]=n.payload,l));if("@@previews/initializeFilePreview"===n.type){var f=n.payload,_=(u=f.fileViewerId,f.fileInfo);return i.__assign(i.__assign({},e),((c={})[u]=i.__assign(i.__assign({},e[u]),{file_id:_.file_id,ns_id:_.ns_id}),c))}return e},t.currentFileInfoReducer=function(e,r){var n,a,o,s;switch(void 0===e&&(e=t.DEFAULT_STATE.currentFileInfo),r.type){case"@@previews/setCurrentFilePreview":return i.__assign(i.__assign({},e),((n={})[r.payload.fileViewerId]=i.__assign(i.__assign({fileId:"0"},r.payload.fileInfo),{bootstrap:{state:"initializing"}}),n));case"@@apiv2_redux/previews/get_preview_data_batch_result":if(r.payload.result){for(var l={},c=0,d=Object.keys(e);c<d.length;c++)for(var u=d[c],p=e[u],f=0,_=r.payload.result.results;f<_.length;f++){var v=_[f];v.file.url!==p.url&&v.file.file_id!==p.file_id||(l[u]=i.__assign(i.__assign({},v.file),{bootstrap:{state:"initializing"}}))}if(Object.keys(l).length>0)return i.__assign(i.__assign({},e),l)}return e;case"@@previews/fetchUnifiedPreviewAsset":return i.__assign(i.__assign({},e),((a={})[r.payload.fileViewerId]=i.__assign(i.__assign({},e[r.payload.fileViewerId]),{prewarm_url:r.payload.assetUrl}),a));case"@@previews/setBootstrappedFileId":if(e[r.payload.fileViewerId].file_id===r.payload.fileId)return i.__assign(i.__assign({},e),((o={})[r.payload.fileViewerId]=i.__assign(i.__assign({},e[r.payload.fileViewerId]),{bootstrap:{state:"ready"}}),o));break;case"@@previews/setErroredFileId":if(e[r.payload.fileViewerId].file_id===r.payload.fileId)return i.__assign(i.__assign({},e),((s={})[r.payload.fileViewerId]=i.__assign(i.__assign({},e[r.payload.fileViewerId]),{bootstrap:{state:"errored",error:r.payload.error}}),s))}return e};t.usersReducer=function(e,r){return void 0===e&&(e=t.DEFAULT_STATE.users),"@@apiv2_redux/users/get_account_batch_result"===r.type&&r.payload.result?i.__assign(i.__assign({},e),r.payload.result.reduce((function(e,t){return e[t.account_id]=t,e}),{})):e};var v=function(e){return e.sidebar.visibility!==n.SidebarVisibility.Open?i.__assign(i.__assign({},e),{sidebar:i.__assign(i.__assign({},e.sidebar),{visibility:n.SidebarVisibility.Open})}):e},g=((d={})[n.FileViewerMode.Default]=function(e){return e.mode===n.FileViewerMode.Default?e:i.__assign(i.__assign({},e),{mode:n.FileViewerMode.Default})},d[n.FileViewerMode.Documentation]=function(e){return e.mode===n.FileViewerMode.Documentation?v(e):i.__assign(i.__assign({},e),{mode:n.FileViewerMode.Documentation,sidebar:i.__assign(i.__assign({},e.sidebar),{paneStack:[n.SidebarPaneId.Documentation],selectedControlId:n.SidebarControlId.Documentation,visibility:n.SidebarVisibility.Open})})},d[n.FileViewerMode.Commenting]=function(e){return e.mode===n.FileViewerMode.Commenting?v(e):i.__assign(i.__assign({},e),{mode:n.FileViewerMode.Commenting,sidebar:i.__assign(i.__assign({},e.sidebar),{paneStack:[n.SidebarPaneId.Comments],selectedControlId:n.SidebarControlId.Comments,visibility:n.SidebarVisibility.Open})})},d[n.FileViewerMode.Watermarking]=function(e){return e.mode===n.FileViewerMode.Watermarking?v(e):i.__assign(i.__assign({},e),{mode:n.FileViewerMode.Watermarking,sidebar:i.__assign(i.__assign({},e.sidebar),{paneStack:[n.SidebarPaneId.Watermarking],selectedControlId:n.SidebarControlId.Watermarking,visibility:n.SidebarVisibility.Open})})},d[n.FileViewerMode.Zoom]=function(e){return e.mode===n.FileViewerMode.Zoom?v(e):i.__assign(i.__assign({},e),{mode:n.FileViewerMode.Zoom,sidebar:i.__assign(i.__assign({},e.sidebar),{paneStack:[n.SidebarPaneId.Zoom],selectedControlId:n.SidebarControlId.Zoom,visibility:n.SidebarVisibility.Open})})},d[n.FileViewerMode.Slack]=function(e){return e.mode===n.FileViewerMode.Slack?v(e):i.__assign(i.__assign({},e),{mode:n.FileViewerMode.Slack,sidebar:i.__assign(i.__assign({},e.sidebar),{paneStack:[n.SidebarPaneId.SlackHome],selectedControlId:n.SidebarControlId.Slack,visibility:n.SidebarVisibility.Open})})},d[n.FileViewerMode.Markup]=function(e){return e},d[n.FileViewerMode.Plugins]=function(e){return e.mode===n.FileViewerMode.Plugins?v(e):i.__assign(i.__assign({},e),{mode:n.FileViewerMode.Plugins,sidebar:i.__assign(i.__assign({},e.sidebar),{paneStack:[n.SidebarPaneId.Plugins],selectedControlId:void 0,visibility:n.SidebarVisibility.Open})})},d[n.FileViewerMode.HelloSign]=function(e){return e},d[n.FileViewerMode.ProAnalytics]=function(e){return e},d);t.modesReducer=function(e,r){var a,o,s,l,c,d,u,p;switch(void 0===e&&(e=t.DEFAULT_STATE.modes),r.type){case"@@previews/initializeFileViewer":return i.__assign(i.__assign({},e),((a={})[r.payload.fileViewerId]=t.DEFAULT_MODE,a));case"@@previews/setInitialFocus":return i.__assign(i.__assign({},e),((o={})[r.payload.fileViewerId]=g[r.payload.mode](t.DEFAULT_MODE),o));case"@@previews/openSidebar":return e[v=r.payload.fileViewerId]&&e[v].sidebar.visibility===n.SidebarVisibility.Open?e:i.__assign(i.__assign({},e),((s={})[v]=i.__assign(i.__assign({},e[v]),{sidebar:i.__assign(i.__assign({},e[v].sidebar),{visibility:n.SidebarVisibility.Open})}),s));case"@@previews/closeSidebar":return e[v=r.payload.fileViewerId]&&e[v].sidebar.visibility===n.SidebarVisibility.Closed?e:i.__assign(i.__assign({},e),((l={})[v]=i.__assign(i.__assign({},e[v]),{sidebar:i.__assign(i.__assign({},e[v].sidebar),{visibility:n.SidebarVisibility.Closed})}),l));case"@@previews/modes/changeMode":var f=g[r.payload.mode](e[r.payload.fileViewerId]);return f!==e[r.payload.fileViewerId]?i.__assign(i.__assign({},e),((c={})[r.payload.fileViewerId]=f,c)):e;case"@@previews/pushSidebarPane":var _=r.payload,v=_.fileViewerId,m=_.paneId;return(h=(w=e[v]||t.DEFAULT_MODE).sidebar.paneStack).includes(m)?e:i.__assign(i.__assign({},e),((d={})[v]=i.__assign(i.__assign({},w),{sidebar:i.__assign(i.__assign({},w.sidebar),{paneStack:i.__spreadArrays(h,[m])})}),d));case"@@previews/popSidebarPane":var h;return 0===(h=(w=e[v=r.payload.fileViewerId]||t.DEFAULT_MODE).sidebar.paneStack).length?e:i.__assign(i.__assign({},e),((u={})[v]=i.__assign(i.__assign({},w),{sidebar:i.__assign(i.__assign({},w.sidebar),{paneStack:h.slice(0,-1)})}),u));case"@@previews/plugins/setActivePlugin":var b=r.payload;v=b.fileViewerId;if(null==b.pluginId)return e;var w=e[v]||t.DEFAULT_MODE;return i.__assign(i.__assign({},e),((p={})[v]=g[n.FileViewerMode.Plugins](w),p));default:return e}};t.reducers={modes:t.modesReducer,previewData:function(e,r){var n,a;switch(void 0===e&&(e=t.DEFAULT_STATE.previewData),r.type){case"@@previews/initializeFilePreview":return e[r.payload.fileInfo.file_id]?e:i.__assign(i.__assign({},e),((n={})[r.payload.fileInfo.file_id]={},n));case"@@apiv2_redux/previews/get_preview_data_batch_result":if(!r.payload||!r.payload.result)return e;var o=r.payload.result.results;return i.__assign(i.__assign({},e),o.reduce((function(e,t){var i=t.file.file_id;if(null==i)throw Error("Invalid response: file_id must be present in FileInfo for get_preview_data_batch");return t.preview&&(e[i]=t.preview),e}),{}));case"@@previews/refreshBlobSuccess":if(!r.payload)return e;var s=r.payload,l=s.fileIdOrRevisionId,c=s.preview,d=e[l]?e[l].content:{};return i.__assign(i.__assign({},e),((a={})[l]=i.__assign(i.__assign({},e[l]),{content:i.__assign(i.__assign({},d),c)}),a))}return e},fileMetadata:function(e,r){var n,a;if(void 0===e&&(e=t.DEFAULT_STATE.fileMetadata),!r.payload)return e;if("@@previews/initializeFilePreview"===r.type){var o=r.payload.fileInfo.file_id;return i.__assign(i.__assign({},e),((n={})[o]=i.__assign(i.__assign({},e[o]),{file_id:o,file_name:r.payload.fileName}),n))}return"@@previews/setFileMetadata"===r.type?i.__assign(i.__assign({},e),((a={})[r.payload.file_id]=r.payload,a)):e},rivieraData:function(e,r){var n,a,o,s,d,u,p,f,v,g,m,h;void 0===e&&(e=t.DEFAULT_STATE.rivieraData);var b=r.payload,w=r.error;if(!b)return e;switch(r.type){case"@@previews/initializeFilePreview":var A=r.payload.fileInfo.file_id;return e[A]?e:i.__assign(i.__assign({},e),((n={})[A]={},n));case"@@previews/fetchPhotoMetadataResult":return i.__assign(i.__assign({},e),((a={})[_(r)]={originalWidth:r.payload.originalWidth,originalHeight:r.payload.originalHeight},a));case"@@previews/fetchPageDataWithMetadataResult":var y=(e[C=_(r)]||t.DEFAULT_DOC_PREVIEW_METADATA).pages;if(w)return y&&y.length?e:i.__assign(i.__assign({},e),((o={})[C]=i.__assign(i.__assign({},t.DEFAULT_DOC_PREVIEW_METADATA),{error:w}),o));if(r.payload&&r.payload.data){var P=r.payload.data,S=P.metadata,E=P.pages;if(!S)return e;var x=y||new Array(S.page_count);return Array.isArray(E)&&E.length&&(x=i.__spreadArrays(x),E.forEach((function(e){return x[e.pageIndex]=i.__assign(i.__assign({},x[e.pageIndex]),e)}))),i.__assign(i.__assign({},e),((s={})[C]={metadata:S,pages:x},s))}break;case"@@previews/fetchExcelSheetLayoutData":if(null!=(T=e[C=_(r)])&&"workbook"in T){if(!l.isExcelPreviewMetadata(T))break;return i.__assign(i.__assign({},e),((p={})[C]=i.__assign(i.__assign({},T),{sheets:i.__assign(i.__assign({},T.sheets),(f={},f[r.payload.sheetIndex]=l.makePendingLoadableData(),f))}),p))}return i.__assign(i.__assign({},e),((d={})[C]={sheets:(u={},u[r.payload.sheetIndex]=l.makePendingLoadableData(),u),workbook:l.makePendingLoadableData()},d));case"@@previews/fetchExcelSheetLayoutDataResult":var C=_(r),I=r.payload,F=I.sheetIndex,R=I.data,T=e[C],O=l.isExcelPreviewMetadata(T)?T.sheets:{};if(R)return i.__assign(i.__assign({},e),((v={})[C]=i.__assign(i.__assign({},T),{sheets:i.__assign(i.__assign({},O),(g={},g[F]=l.makeFulfilledLoadableData(R.sheets[F]),g)),workbook:c.transformExcelResponseToWorkbookMetadata(R)}),v));if(r.error){var D=l.isExcelPreviewMetadata(T)&&"loaded"===T.workbook.state?T.workbook:l.makeRejectedLoadableData(r.error);return i.__assign(i.__assign({},e),((m={})[C]=i.__assign(i.__assign({},T),{sheets:i.__assign(i.__assign({},O),(h={},h[F]=l.makeRejectedLoadableData(r.error),h)),workbook:D}),m))}}return e},filePreviewUi:function(e,r){var n,a,s,c,d,f,_,v,g,m,h,b,w,A,y,P,S,E,x,C,I,F,R,T,O,D,M,k,L,B,N,U,V,j,G,W,z,X,q,H,K,Z;if(void 0===e&&(e=t.DEFAULT_STATE.filePreviewUi),!r.payload)return e;if("@@previews/initializeFileViewer"===r.type)return i.__assign(i.__assign({},e),((n={})[r.payload.fileViewerId]={},n));var Y="@@previews/initializeFilePreview"===r.type?r.payload.fileInfo.file_id:r.payload.fileIdOrRevisionId,J=r.payload.fileViewerId,Q=e[J]||{},$=Q[Y]||{},ee=l.filterZoomableFilePreviewUi($);switch(r.type){case"@@previews/initializeFilePreview":var te=(function(e){switch(e){case"image":return t.DEFAULT_IMAGE_PREVIEW_UI;case"cloud_doc":case"ssr_doc":return t.DEFAULT_DOC_PREVIEW_UI;case"excel":return t.DEFAULT_EXCEL_PREVIEW_UI;default:return t.DEFAULT_FILE_PREVIEW_UI}})(r.payload.previewType);return i.__assign(i.__assign({},e),((a={})[J]=i.__assign(i.__assign({},Q),((s={})[Y]=i.__assign(i.__assign({},te),$),s)),a));case"@@previews/fetchPageDataWithMetadataResult":if(r.payload.data&&r.payload.data.metadata){var ie=r.payload.data.metadata.page_count;return i.__assign(i.__assign({},e),((c={})[J]=i.__assign(i.__assign({},Q),((d={})[Y]=i.__assign(i.__assign({},$),{isDocSidebarOpen:ie>1}),d)),c))}break;case"@@previews/pageNavigation":var re=r.payload,ne=re.sourceContext,ae=re.pageIndex;return i.__assign(i.__assign({},e),((f={})[J]=i.__assign(i.__assign({},Q),((_={})[Y]=i.__assign(i.__assign({},$),{pageNavigation:{sourceContext:ne,pageIndex:ae}}),_)),f));case"@@previews/resolvePageNavigation":return i.__assign(i.__assign({},e),((v={})[J]=i.__assign(i.__assign({},Q),((g={})[Y]=i.__assign(i.__assign({},$),{pageNavigation:void 0}),g)),v));case"@@previews/updateDocCurrentPageIndex":var oe=r.payload.pageCount,se=r.payload.pageIndex;return se<0?se=0:oe&&se>=oe-1&&(se=oe-1),i.__assign(i.__assign({},e),((m={})[J]=i.__assign(i.__assign({},Q),((h={})[Y]=i.__assign(i.__assign({},$),{currentPageIndex:se}),h)),m));case"@@previews/pageUp":if(le=null!==(z=null===(W=l.filterDocFilePreviewUiState($))||void 0===W?void 0:W.currentPageIndex)&&void 0!==z?z:null)return i.__assign(i.__assign({},e),((b={})[J]=i.__assign(i.__assign({},Q),((w={})[Y]=i.__assign(i.__assign({},$),{currentPageIndex:Math.max(le-1,0)}),w)),b));break;case"@@previews/pageDown":var le;if(le=null!==(q=null===(X=l.filterDocFilePreviewUiState($))||void 0===X?void 0:X.currentPageIndex)&&void 0!==q?q:null)return i.__assign(i.__assign({},e),((A={})[J]=i.__assign(i.__assign({},Q),((y={})[Y]=i.__assign(i.__assign({},$),{currentPageIndex:Math.min(le+1,r.payload.pageCount||1)}),y)),A));break;case"@@previews/zoomIn":if(null==ee)return e;var ce=null!==(H=ee.zoomScaleFactor)&&void 0!==H?H:ee.fitScaleFactor;return i.__assign(i.__assign({},e),((P={})[J]=i.__assign(i.__assign({},Q),((S={})[Y]=i.__assign(i.__assign({},$),{zoomScaleFactor:"ssr_doc"===r.payload.previewType?p(ce,o.DOC_ZOOM_MULTIPLIER):u(ce,o.IMG_ZOOM_MULTIPLIER)}),S)),P));case"@@previews/zoomOut":if(null==ee)return e;ce=null!==(K=ee.zoomScaleFactor)&&void 0!==K?K:ee.fitScaleFactor;return i.__assign(i.__assign({},e),((E={})[J]=i.__assign(i.__assign({},Q),((x={})[Y]=i.__assign(i.__assign({},$),{zoomScaleFactor:"ssr_doc"===r.payload.previewType?p(ce,1/o.DOC_ZOOM_MULTIPLIER):u(ce,1/o.IMG_ZOOM_MULTIPLIER)}),x)),E));case"@@previews/zoomOriginalOrFit":if(null==ee)return e;ce=null!==(Z=ee.zoomScaleFactor)&&void 0!==Z?Z:ee.fitScaleFactor;return i.__assign(i.__assign({},e),((C={})[J]=i.__assign(i.__assign({},Q),((I={})[Y]=i.__assign(i.__assign({},$),{zoomScaleFactor:ce===ee.fitScaleFactor?1:void 0}),I)),C));case"@@previews/updateFitScaleFactor":return null==ee?e:ee.fitScaleFactor===r.payload.fitScaleFactor?e:i.__assign(i.__assign({},e),((F={})[J]=i.__assign(i.__assign({},Q),((R={})[Y]=i.__assign(i.__assign({},$),{fitScaleFactor:r.payload.fitScaleFactor}),R)),F));case"@@previews/switchWorkbookTab":return i.__assign(i.__assign({},e),((T={})[J]=i.__assign(i.__assign({},Q),((O={})[Y]=i.__assign(i.__assign({},$),{currentTabIndex:r.payload.tabIndex}),O)),T));case"@@previews/enterFullscreen":return i.__assign(i.__assign({},e),((D={})[J]=i.__assign(i.__assign({},Q),((M={})[Y]=i.__assign(i.__assign({},$),{isFullScreen:!0}),M)),D));case"@@previews/exitFullscreen":return i.__assign(i.__assign({},e),((k={})[J]=i.__assign(i.__assign({},Q),((L={})[Y]=i.__assign(i.__assign({},$),{isFullScreen:!1}),L)),k));case"@@previews/fidelitySurveyAsked":return i.__assign(i.__assign({},e),((B={})[J]=i.__assign(i.__assign({},Q),((N={})[Y]=i.__assign(i.__assign({},$),{isFidelitySurveyVisible:!0}),N)),B));case"@@previews/fidelitySurveyAnswered":return r.payload.isSurveyComplete?i.__assign(i.__assign({},e),((U={})[J]=i.__assign(i.__assign({},Q),((V={})[Y]=i.__assign(i.__assign({},$),{isFidelitySurveyVisible:!1}),V)),U)):e;case"@@previews/fidelitySurveyDismissed":return i.__assign(i.__assign({},e),((j={})[J]=i.__assign(i.__assign({},Q),((G={})[Y]=i.__assign(i.__assign({},$),{isFidelitySurveyVisible:!1}),G)),j))}return e},fileViewerUi:function(e,r){var n,a,o;if(void 0===e&&(e=t.DEFAULT_STATE.fileViewerUi),!r.payload)return e;var s=r.payload.fileViewerId,l=e[s]||{};switch(r.type){case"@@previews/initializeFileViewer":return i.__assign(i.__assign({},e),((n={})[s]={isDocSidebarOpen:!0},n));case"@@previews/fileViewerUi/openDocSidebar":return i.__assign(i.__assign({},e),((a={})[s]=i.__assign(i.__assign({},l),{isDocSidebarOpen:!0}),a));case"@@previews/fileViewerUi/closeDocSidebar":return i.__assign(i.__assign({},e),((o={})[s]=i.__assign(i.__assign({},l),{isDocSidebarOpen:!1}),o));default:return e}},loggingSession:t.loggingSessionReducer,currentFileInfo:t.currentFileInfoReducer,users:t.usersReducer,currentUser:function(e,i){return void 0===e&&(e=t.DEFAULT_STATE.currentUser),"@@apiv2_redux/users/get_current_account_result"===i.type&&i.payload.result?i.payload.result:e},nativeApps:function(e,r){var n,a;return void 0===e&&(e=t.DEFAULT_STATE.nativeApps),"@@previews/initializeFilePreview"===r.type?i.__assign(i.__assign({},e),((n={})[r.payload.fileInfo.file_id]={apps:[]},n)):"@@previews/fetchNativeAppsResult"===r.type?i.__assign(i.__assign({},e),((a={})[r.payload.fileId]=r.payload.result,a)):e},networkConnectivity:function(e,i){return void 0===e&&(e=t.DEFAULT_STATE.networkConnectivity),"@@previews/setNetworkState"===i.type?{isOffline:i.payload.isOffline}:e},uploadInfo:function(e,r){var n;return void 0===e&&(e=t.DEFAULT_STATE.uploadInfo),"@@apiv2_redux/files/get_upload_info_result"===r.type&&r.payload.result?i.__assign(i.__assign({},e),((n={})[r.payload.arg.file_path_or_id]=r.payload.result,n)):e},fileContentMetadata:function(e,r){var n;return void 0===e&&(e=t.DEFAULT_STATE.fileContentMetadata),"@@apiv2_redux/files/get_file_content_metadata_result"===r.type&&r.payload.result?i.__assign(i.__assign({},e),((n={})[r.payload.arg.file_path_or_id]=r.payload.result,n)):e},plugins:function(e,r){var n,a,o;if(void 0===e&&(e=t.DEFAULT_STATE.plugins),"@@previews/initializeFileViewer"===r.type){var s=r.payload.fileViewerId;return i.__assign(i.__assign({},e),((n={})[s]={activePluginId:void 0,runtimeDisabledPlugins:[]},n))}if("@@previews/plugins/setActivePlugin"===r.type){var l=r.payload,c=(s=l.fileViewerId,l.pluginId);return i.__assign(i.__assign({},e),((a={})[s]=i.__assign(i.__assign({},e[s]),{activePluginId:c}),a))}if("@@previews/pluginEnabledStateChange"===r.type){var d=r.payload,u=d.enabled,p=(s=d.fileViewerId,d.pluginId),f=e[s].runtimeDisabledPlugins,_=f;return u&&f.includes(p)?_=f.filter((function(e){return e!==p})):u||f.includes(p)||(_=i.__spreadArrays(f,[p])),i.__assign(i.__assign({},e),((o={})[s]=i.__assign(i.__assign({},e[s]),{runtimeDisabledPlugins:_}),o))}return e},sharedLinkInfo:function(e,r){var n;void 0===e&&(e=t.DEFAULT_STATE.sharedLinkInfo);var a=r.payload;if("@@previews/setSharedLinkInfo"===r.type){var o=a.fileId;if(o)return i.__assign(i.__assign({},e),((n={})[o]=i.__assign(i.__assign({},e[o]),a),n))}return e}}})),define("file-viewer/core/data/riviera/index",["require","exports","file-viewer/core/data/riviera/api","file-viewer/core/data/riviera/types"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RivieraStatus=t.WebRivieraIOClient=t.RivieraClientBase=t.RivieraError=void 0,Object.defineProperty(t,"RivieraError",{enumerable:!0,get:function(){return i.RivieraError}}),Object.defineProperty(t,"RivieraClientBase",{enumerable:!0,get:function(){return i.RivieraClientBase}}),Object.defineProperty(t,"WebRivieraIOClient",{enumerable:!0,get:function(){return i.WebRivieraIOClient}}),Object.defineProperty(t,"RivieraStatus",{enumerable:!0,get:function(){return r.RivieraStatus}})})),define("file-viewer/core/data/riviera/api",["require","exports","tslib"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RivieraClientBase=t.WebRivieraIOClient=t.excelUrl=t.textUrl=t.RivieraError=void 0;var r=(function(e){function t(t,i){void 0===i&&(i=0);var r=e.call(this,t)||this;return r.statusCode=i,r}return i.__extends(t,e),t})(Error);function n(e,t,i){return 401===e&&i?new r("Password required",12):new r("Load Error",t.rivieraStatusCode)}t.RivieraError=r;var a=function(e){var t={};try{e&&(t=JSON.parse(e))}catch(e){}return t};function o(e,t,i,r,n){void 0===i&&(i=0),void 0===r&&(r=50),void 0===n&&(n=!1);var a=new URL(e);return t&&a.searchParams.set("metadata","1"),void 0!==i&&(a.searchParams.set("text","1"),a.searchParams.set("page_start",i.toString()),a.searchParams.set("page_end",r.toString())),n&&a.searchParams.set("canned_file_name","spdf/audi.pdf.json"),a.toString()}function s(e,t){return void 0===t?e:(new URL(e).searchParams.set("sheet",t+""),e.toString())}t.textUrl=o,t.excelUrl=s;var l=(function(){function e(){}return e.prototype.refreshDocBlob=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var r,n,a;return i.__generator(this,(function(i){switch(i.label){case 0:return r=t?{password:t}:{},[4,fetch(e,{headers:{"content-type":"application/json"},body:JSON.stringify(r),credentials:"include",method:"POST"})];case 1:return[4,(n=i.sent()).json()];case 2:return a=i.sent(),[2,{ok:n.ok,status:n.status,data:a,headers:{"x-dropbox-metadata":n.headers.get("x-dropbox-metadata"),"x-dropbox-pdf-password-needed":n.headers.get("x-dropbox-pdf-password-needed")}}]}}))}))},e.prototype.fetchDocMetadata=function(e,t,r,n,a){return i.__awaiter(this,void 0,void 0,(function(){var s,l;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,fetch(o(e,t,r,n,a),{headers:{"content-type":"application/json"},credentials:"include",method:"POST"})];case 1:return[4,(s=i.sent()).json()];case 2:return l=i.sent(),[2,{ok:s.ok,status:s.status,data:l,headers:{"x-dropbox-metadata":s.headers.get("x-dropbox-metadata"),"x-dropbox-pdf-password-needed":s.headers.get("x-dropbox-pdf-password-needed")}}]}}))}))},e.prototype.fetchExcelWorkbookLayoutData=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var r,n,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,fetch(s(e,t),{headers:{"content-type":"application/json"},credentials:"include",method:"POST"})];case 1:return[4,(r=i.sent()).json()];case 2:return n=i.sent(),a=r.headers.get("x-dropbox-metadata")||"",[2,{ok:r.ok,status:r.status,data:n,headers:{"x-dropbox-metadata":a}}]}}))}))},e})();t.WebRivieraIOClient=l;var c=(function(){function e(e){this.ioClient=e}return e.prototype.refreshDocBlob=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,l,c,d,u,p,f,_;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.ioClient.refreshDocBlob(e,t)];case 1:if(r=i.sent(),o=r.data,s=r.status,l=r.ok,c=r.headers,!l)throw d="1"===c["x-dropbox-pdf-password-needed"],u=a(c["x-dropbox-metadata"]),n(s,u,d);return p=o.text,f=o.image,_=o.refresh,[2,{text_url_tmpl:p,image_url_tmpl:f,refresh_url:_}]}}))}))},e.prototype.fetchDocMetadata=function(e,t,r,o,s){return void 0===t&&(t=!1),void 0===r&&(r=0),void 0===o&&(o=50),void 0===s&&(s=!1),i.__awaiter(this,void 0,void 0,(function(){var l,c,d,u,p,f,_;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.ioClient.fetchDocMetadata(e,t,r,o,s)];case 1:if(l=i.sent(),c=l.ok,d=l.data,u=l.status,p=l.headers,c)return[2,d];throw f="1"===p["x-dropbox-pdf-password-needed"],_=a(p["x-dropbox-metadata"]),n(u,_,f)}}))}))},e.prototype.fetchExcelWorkbookLayoutData=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,l,c,d;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.ioClient.fetchExcelWorkbookLayoutData(e,t)];case 1:if(r=i.sent(),o=r.ok,s=r.data,l=r.status,c=r.headers,o)return[2,s];throw d=a(c["x-dropbox-metadata"]),n(l,d,!1)}}))}))},e})();t.RivieraClientBase=c})),define("file-viewer/core/data/riviera/transform",["require","exports","tslib","file-viewer/core/urls","file-viewer/core/data/utils"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformExcelResponseToSheetMetadata=t.transformExcelResponseToWorkbookMetadata=t.processTextAndUrl=void 0;function a(e,t,i){return i&&i.map((function(i){return r.imageUrl(e,t,0,i)+" "+i+"w"})).join(",")}function o(e,t,i){return i&&i[0]?r.imageUrl(e,t,0,i[0]):r.imageUrl(e,t,0)}t.processTextAndUrl=function(e,t,n,s,l,c,d){void 0===t&&(t=[]),void 0===c&&(c=0),void 0===d&&(d=n);var u=(function(e,t,n,s,l,c){void 0===t&&(t=[]);for(var d=t.reduce((function(e,t){for(var i=t[0],r=t[1],n=t[2],a=0;a<n;a++)e.push([i,r]);return e}),[]),u=i.__spreadArrays(Array(n)).map((function(e,t){return{pageIndex:t,dimension:d[t],thumbnailUrl:"",imgUrls:{"1x":"","4x":"",srcset:""},textboxes:[],links:[]}})),p=s;p<l;p++)u[p]={pageIndex:p,dimension:d[p],thumbnailUrl:o(e,p,c),imgUrls:{"1x":r.imageUrl(e,p,0),"4x":r.imageUrl(e,p,400),srcset:a(e,p,c)},textboxes:[],links:[]};return u})(e,t,n,c,d,l);return(function(e){var t=e.text;if(!t||!t.pages)return[];var r=t.links,n=t.pages,a=(t.fonts||[]).reduce((function(e,t){return e[t.f]=(function(e){var t=e.n.lastIndexOf(",");return{fontFamily:'"'+(t>-1?e.n.substr(0,t):e.n)+'", '+(1&e.f?"monospace":"serif"),isBold:(e.f&1<<18)>0,isItalic:(64&e.f)>0}})(t),e}),{});return Object.keys(n).map((function(e){return{pageIndex:+e,textboxes:(n[e]||[]).map((function(e){return i.__assign(i.__assign({},e),{font:a[e.f]})})),links:r&&r[e]||[]}}))})(s).forEach((function(e){var t=e.pageIndex;u[t]=i.__assign(i.__assign({},u[t]),e)})),u},t.transformExcelResponseToWorkbookMetadata=function(e){return n.makeFulfilledLoadableData({name:e.workbook_name,sheetOverview:e.sheets.reduce((function(e,t){var r;return i.__assign(i.__assign({},e),((r={})[t.idx]={hidden:t.hidden,name:t.name},r))}),{})})},t.transformExcelResponseToSheetMetadata=function(e){return e.sheets.reduce((function(e,t){var r;return"dimensions"in t?i.__assign(i.__assign({},e),((r={})[t.idx]=n.makeFulfilledLoadableData(t),r)):e}),{})}})),define("file-viewer/core/data/riviera/types",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.RivieraStatus=void 0,(i=t.RivieraStatus||(t.RivieraStatus={}))[i.Unknown=0]="Unknown",i[i.OK=1]="OK",i[i.ConversionFailure=2]="ConversionFailure",i[i.TemporaryFailure=3]="TemporaryFailure",i[i.InternalFailure=4]="InternalFailure",i[i.UnsupportedFormat=5]="UnsupportedFormat",i[i.Timeout=6]="Timeout",i[i.TooBig=7]="TooBig",i[i.InvalidMetadata=8]="InvalidMetadata",i[i.SourceCorrupt=9]="SourceCorrupt",i[i.TimeBudgetExceeded=10]="TimeBudgetExceeded",i[i.NotFound=11]="NotFound",i[i.PasswordProtected=12]="PasswordProtected",i[i.InvalidRequest=13]="InvalidRequest",i[i.VirusDetected=14]="VirusDetected",i[i.BlockMissing=15]="BlockMissing",i[i.FeatureDisabled=16]="FeatureDisabled"})),define("file-viewer/core/data/selectors",["require","exports","file-viewer/core/data/modes/types","file-viewer/core/data/utils"],(function(e,t,i,r){"use strict";function n(e,t){return(function(e,t){var i=t.fileViewerId;return e.currentFileInfo[i]})(e,{fileViewerId:t.fileViewerId}).file_id}function a(e,t){var i=t.fileViewerId,r=n(e,{fileViewerId:i});return(function(e,t){var i=t.fileViewerId;return e.filePreviewUi[i]})(e,{fileViewerId:i})[r]}function o(e,t){var i=n(e,{fileViewerId:t.fileViewerId});return e.previewData[i]}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsFidelitySurveyVisible=t.getIsFullScreen=t.getPrintUrl=t.getPreviewData=t.isSidebarOpen=t.isPreviewZoomed=t.getCurrentScaleFactorFromFilePreviewUi=t.getFileViewerUi=t.getCurrentFilePreviewUI=t.getCurrentFileMetadata=t.getCurrentRivieraData=void 0,t.getCurrentRivieraData=function(e,t){var i=n(e,{fileViewerId:t.fileViewerId});return e.rivieraData[i]},t.getCurrentFileMetadata=function(e,t){var i=n(e,{fileViewerId:t.fileViewerId});return e.fileMetadata[i]},t.getCurrentFilePreviewUI=a,t.getFileViewerUi=function(e,t){var i=t.fileViewerId;return e.fileViewerUi[i]},t.getCurrentScaleFactorFromFilePreviewUi=function(e){return e.zoomScaleFactor||e.fitScaleFactor},t.isPreviewZoomed=function(e,t){var i=a(e,{fileViewerId:t.fileViewerId});if(!i)return!1;var n=r.filterZoomableFilePreviewUi(i);if(null==n)return!1;var o=n.zoomScaleFactor,s=n.fitScaleFactor;return!!o&&o>s},t.isSidebarOpen=function(e,t){var r=t.fileViewerId;return!!e.modes[r]&&e.modes[r].sidebar.visibility===i.SidebarVisibility.Open},t.getPreviewData=o,t.getPrintUrl=function(e,t){var i,r,n=o(e,{fileViewerId:t.fileViewerId});if(!n)return"";var a=n.content;return"image"===(null==a?void 0:a[".tag"])?null!==(i=null==a?void 0:a.full_size_src)&&void 0!==i?i:"":"ssr_doc"===(null==a?void 0:a[".tag"])&&null!==(r=null==a?void 0:a.autoprint_url)&&void 0!==r?r:""},t.getIsFullScreen=function(e,t){var i,r=a(e,{fileViewerId:t});return null!==(i=null==r?void 0:r.isFullScreen)&&void 0!==i&&i},t.getIsFidelitySurveyVisible=function(e,t){var i,r=a(e,{fileViewerId:t});return null!==(i=null==r?void 0:r.isFidelitySurveyVisible)&&void 0!==i&&i}})),define("file-viewer/core/data/utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterZoomableFilePreviewUi=t.filterDocFilePreviewUiState=t.isExcelApiV2MetadataContent=t.isDocRivieraData=t.isExcelPreviewMetadata=t.makePendingLoadableData=t.makeFulfilledLoadableData=t.makeRejectedLoadableData=void 0,t.makeRejectedLoadableData=function(e){return{state:"errored",error:e}},t.makeFulfilledLoadableData=function(e){return{state:"loaded",data:e}},t.makePendingLoadableData=function(){return{state:"pending"}},t.isExcelPreviewMetadata=function(e){return null!=e&&"sheets"in e},t.isDocRivieraData=function(e){return null!=e&&"metadata"in e&&"pages"in e},t.isExcelApiV2MetadataContent=function(e){return void 0!==e&&"excel"===e[".tag"]},t.filterDocFilePreviewUiState=function(e){return"currentPageIndex"in e?e:null},t.filterZoomableFilePreviewUi=function(e){return"fitScaleFactor"in e?e:null}})),define("file-viewer/core/errors",["require","exports","tslib"],(function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getFvErrorCodeFromRivieraStatus=t.isFVError=t.FVError=t.FVErrorCode=void 0,(r=t.FVErrorCode||(t.FVErrorCode={}))[r.PreviewsDataApiFailure=0]="PreviewsDataApiFailure",r[r.MalformedPreviewsDataApiResponse=1]="MalformedPreviewsDataApiResponse",r[r.RivieraDataFetchFailure=2]="RivieraDataFetchFailure",r[r.MalformedRivieraData=3]="MalformedRivieraData",r[r.FileTooLarge=4]="FileTooLarge",r[r.UnsupportedPreviewType=5]="UnsupportedPreviewType",r[r.NoExtension=6]="NoExtension",r[r.PasswordProtected=7]="PasswordProtected",r[r.FileUploading=8]="FileUploading",r[r.Unknown=9]="Unknown",r[r.FileSwitched=10]="FileSwitched",r[r.InvalidFileInfo=11]="InvalidFileInfo",r[r.InvalidLoggingOrder=12]="InvalidLoggingOrder",r[r.InvalidLoggingSession=13]="InvalidLoggingSession",r[r.UserOffline=14]="UserOffline",r[r.MissingContentMetadata=15]="MissingContentMetadata";var n=(function(e){function t(i,r){var n=e.call(this,r)||this;return n.type=i,Error.captureStackTrace&&Error.captureStackTrace(n,t),n}return i.__extends(t,e),t})(Error);t.FVError=n,t.isFVError=function(e){return e instanceof n},t.getFvErrorCodeFromRivieraStatus=function(e){switch(e){case 0:return t.FVErrorCode.Unknown;case 5:return t.FVErrorCode.UnsupportedPreviewType;case 7:return t.FVErrorCode.FileTooLarge;case 12:return t.FVErrorCode.PasswordProtected;default:return t.FVErrorCode.RivieraDataFetchFailure}}})),define("file-viewer/core/extension_constants",["require","exports","tslib","file-viewer/file_extension/extension_constants","file-viewer/file_extension/extension_constants"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWhitelistedFileExtension=t.brandWhitelistedFileExtension=t.resolvePreviewTypeFromExtension=t.LOGGING_ALLOWED_EXTS_SET=t.DOC_EXTS=t.IMAGE_EXTS=void 0,i.__exportStar(r,t);function a(e){return e}t.IMAGE_EXTS=n.PHOTO_EXTS.concat([".xd"]),t.DOC_EXTS=n.PDF_EXTS.concat(n.DOCUMENT_EXTS,n.PRESENTATION_EXTS,n.WORDPROC_EXTS),t.LOGGING_ALLOWED_EXTS_SET=new Set(n.LOGGING_ALLOWED_EXTS),t.resolvePreviewTypeFromExtension=function(e){return e=e.toLowerCase(),n.MSOFFICE_EXCEL_EXTS.includes(e)?"excel":t.DOC_EXTS.includes(e)?"ssr_doc":t.IMAGE_EXTS.includes(e)?"image":n.TRANSCODE_VIDEO_EXTS.includes(e)?"video":n.AUDIO_EXTS.includes(e)?"audio":n.LINK_FILE_EXTS.includes(e)?"linkfile":n.HTMLIFIED_PREVIEW_EXTS.includes(e)?"html":n.CLOUD_DOC_EXTS.includes(e)?"cloud_doc":"other"},t.brandWhitelistedFileExtension=a,t.getWhitelistedFileExtension=function(e){return t.LOGGING_ALLOWED_EXTS_SET.has(e)?e:n.LOGGING_UNALLOWED_EXT_PLACEHOLDER}})),define("file-viewer/core/i18n",["require","exports","tslib","react-intl"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDuration=t.formatBytes=t.placeholderI18nFormatters=void 0;var n=r.createIntl({locale:"en"});t.placeholderI18nFormatters=i.__assign(i.__assign({},n),{formatMessage:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=e[1];return n.formatMessage(i.__assign(i.__assign({},r),{id:"placeholder"}),a)}}),t.formatBytes=function(e,t){var i={minimumFractionDigits:0,maximumFractionDigits:2};return e<1024?t.formatMessage({id:"JPwjIB",defaultMessage:"{value, plural, one {# byte} other {# bytes}}"},{value:t.formatNumber(e,i)}):e<921600?t.formatMessage({id:"rNMBTS",defaultMessage:"{value} KB"},{value:t.formatNumber(e/1024,i)}):e<900*Math.pow(1024,2)?t.formatMessage({id:"mDrYnG",defaultMessage:"{value} MB"},{value:t.formatNumber(e/Math.pow(1024,2),i)}):e<900*Math.pow(1024,3)?t.formatMessage({id:"g+xqHV",defaultMessage:"{value} GB"},{value:t.formatNumber(e/Math.pow(1024,3),i)}):t.formatMessage({id:"7XWgdi",defaultMessage:"{value} TB"},{value:t.formatNumber(e/Math.pow(1024,4),i)})};t.formatDuration=function(e,t){if(e&&!(isNaN(e)||e<=0))return e<6e4?t.formatMessage({id:"XJTRCn",defaultMessage:"{value, plural, one{# second} other{# seconds}}"},{value:Math.round(e/1e3)}):e<36e5?t.formatMessage({id:"hYCfnh",defaultMessage:"{value, plural, one{# minute} other{# minutes}}"},{value:Math.round(e/6e4)}):e<864e5?t.formatMessage({id:"5vUoeT",defaultMessage:"{value, plural, one{# hour} other{# hours}}"},{value:Math.round(e/36e5)}):e<6048e5?t.formatMessage({id:"VUIAfM",defaultMessage:"{value, plural, one{# day} other{# days}}"},{value:Math.round(e/864e5)}):e<2592e6?t.formatMessage({id:"0wIJlM",defaultMessage:"{value, plural, one{# week} other{# weeks}}"},{value:Math.round(e/6048e5)}):e<31536e6?t.formatMessage({id:"MPX3Ow",defaultMessage:"{value, plural, one{# month} other{# months}}"},{value:Math.round(e/2592e6)}):t.formatMessage({id:"toXz6N",defaultMessage:"{value, plural, one{# year} other{# years}}"},{value:Math.round(e/31536e6)})}})),define("file-viewer/core/invariant",["require","exports","file-viewer/core/errors"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invariant=void 0,t.invariant=function(e,t,r){if(void 0===t&&(t=i.FVErrorCode.Unknown),!e){var n=void 0;throw(n=void 0===r?new i.FVError(t,"An error occurred for unknown reason"):new i.FVError(t,r)).framesToPop=1,n}return e}})),define("file-viewer/core/logging/actions",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.logTTI=t.logEvent=t.Action=void 0,(i=t.Action||(t.Action={})).UpdateSession="@@previews/updateSession",i.Log="@@previews/log",i.LogTTI="@@previews/logTTI",t.logEvent=function(e){return{type:"@@previews/log",payload:e}},t.logTTI=function(e){return{type:"@@previews/logTTI",payload:e}},t.updateSession=function(e){return{type:"@@previews/updateSession",payload:e}}})),define("file-viewer/core/logging/session",["require","exports","tslib","file-viewer/core/uuid","file-viewer/core/invariant","file-viewer/core/errors","file-viewer/core/extension_constants"],(function(e,t,i,r,n,a,o){"use strict";var s,l,c,d,u,p;Object.defineProperty(t,"__esModule",{value:!0}),t.markTTI=t.recordExtra=t.updateSessionLastEvent=t.recordEvent=t.createFilePreviewSession=t.UserActionContext=t.UserAction=t.SourceContext=t.EventType=t.SourceAction=t.DeviceType=void 0,(s=t.DeviceType||(t.DeviceType={})).mobile="mobile",s.tablet="tablet",s.desktop="desktop",(l=t.SourceAction||(t.SourceAction={})).Click="click",l.DoubleClick="double_click",l.Visit="visit",(c=t.EventType||(t.EventType={})).FilePreviewSessionEnded="preview_session_ended",c.FilePreviewAttemptStarted="preview_attempted",c.FilePreviewSupportConfirmed="support_confirmed",c.FilePreviewSupportDenied="support_denied",c.FilePreviewDownloadAttempted="download_attempted",c.FilePreviewDownloadSucceeded="download_succeeded",c.FilePreviewDownloadFailed="download_failed",c.FilePreviewRenderSucceeded="render_succeeded",c.FilePreviewRenderFailed="render_failed",c.UserAction="user_action",c.LifecycleFailure="lifecycle_failure",c.FidelitySurveyAsked="fidelity_survey_asked",c.FidelitySurveyAnswered="fidelity_survey_answered",c.FidelitySurveyDismissed="fidelity_survey_dismissed",c.ExcelSheetDownloadAttempted="excel_sheet_download_attempted",c.ExcelSheetDownloadSucceeded="excel_sheet_download_succeeded",c.ExcelSheetDownloadFailed="excel_sheet_download_failed",c.ExcelSheetRenderSucceeded="excel_sheet_render_succeeded",c.ExcelSheetRenderFailed="excel_sheet_render_failed",(d=t.SourceContext||(t.SourceContext={})).ArchiveFile="archive_file",d.Browse="browse",d.CollabBrowse="collab_browse",d.DesktopCommentNotification="desktop_comment_notification",d.Desktop="desktop",d.DesktopDetailsPaneMenu="desktop_details_pane_menu",d.DesktopPreviewPane="desktop_preview_pane",d.DesktopTray="desktop_tray",d.DesktopTrayPopoverExpand="desktop_tray_popover_expand",d.DesktopTrayContextMenu="desktop_tray_context_menu",d.EmbeddedSharedLinkFile="embedded_sl_file",d.FileViewer="file_viewer",d.Workflow="workflow",d.SharedLinkCollection="sl_collection",d.SharedLinkFile="sl_file",d.SharedLinkFolder="sl_folder",d.TrelloPreview="trello_preview",d.Unknown="unknown",d.VersionHistory="version_history",(u=t.UserAction||(t.UserAction={})).Share="share",u.Download="download",u.PageChange="page_change",u.PageUp="page_up",u.PageDown="page_down",u.ToggleFullscreenOn="toggle_fullscreen_on",u.ToggleFullscreenOff="toggle_fullscreen_off",u.CloseDocSidebar="close_doc_sidebar",u.OpenDocSidebar="open_doc_sidebar",u.FlipNext="flip_next",u.FlipPrevious="flip_prev",u.ZoomIn="zoom_in",u.ZoomOut="zoom_out",u.ZoomOriginalOrFit="zoom_original_or_fit",u.ToggleSidebarOn="toggle_sidebar_on",u.ToggleSidebarOff="toggle_sidebar_off",u.PageJump="page_jump",u.ModeChange="mode_change",u.OpenWith="open_with",u.OpenWebPreview="open_web_preview",u.OpenVersionHistory="open_version_history",u.OpenFullscreenPreview="open_fullscreen_preview",u.SwitchWorkbookTab="switch_workbook_tab",u.SaveToDropbox="save_to_dropbox",u.Print="print",u.ClickDropboxLogo="click_dropbox_logo",(p=t.UserActionContext||(t.UserActionContext={})).Default="",p.Toolbar="toolbar",p.DocSidebar="doc_sidebar",p.Sidebar="sidebar",p.MouseWheel="mouse_wheel",p.DocReset="doc_reset",p.DocLink="doc_link",p.SurfaceGesture="surface_gesture",p.PreviewError="preview_error",p.TrayButton="tray_button",p.TitleBarMain="title_bar_main",p.Initialization="initialization",p.Keyboard="keyboard",p.FidelitySurvey="fidelity_survey",p.WorkbookTabs="workbook_tabs",t.createFilePreviewSession=function(e){var t=e||{},n=t.file_viewer_session_id,a=void 0===n?r.v4():n,s=t.file_preview_session_id,l=void 0===s?r.v4():s,c=t.file_id,d=void 0===c?"":c,u=t.file_extension,p=void 0===u?o.getWhitelistedFileExtension(""):u,f=t.device_type,_=void 0===f?"desktop":f,v=t.extra,g=void 0===v?{}:v;return{file_viewer_session_id:a,file_preview_session_id:l,file_id:d,file_extension:p,device_type:_,extra:i.__assign(i.__assign({},g),{source_action:g.source_action||"visit",source_context:g.source_context||"file_viewer",file_preview_timeline:{}})}},t.recordEvent=function(e,t,r){var o,s=e.extra.last_event;switch(n.invariant(s!==t,a.FVErrorCode.InvalidLoggingOrder,"Cannot log duplicate event "+t),t){case"support_confirmed":case"support_denied":n.invariant("preview_attempted"===s,a.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'preview_attempted' but was '"+s+"'");break;case"download_attempted":n.invariant("support_confirmed"===s,a.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'support_confirmed' but was '"+s+"'");break;case"download_failed":case"download_succeeded":n.invariant("download_attempted"===s,a.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'download_attempted' but was '"+s+"'");break;case"render_succeeded":case"render_failed":n.invariant("download_succeeded"===s,a.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'download_succeeded' but was '"+s+"'")}return i.__assign(i.__assign({},e),{extra:i.__assign(i.__assign(i.__assign({},e.extra),{file_preview_timeline:i.__assign(i.__assign({},e.extra.file_preview_timeline),(o={},o[t]=Date.now(),o))}),r||{})})},t.updateSessionLastEvent=function(e,t){return i.__assign(i.__assign({},e),{extra:i.__assign(i.__assign({},e.extra),{last_event:t})})},t.recordExtra=function(e,t){return i.__assign(i.__assign({},e),{extra:i.__assign(i.__assign({},e.extra),t)})},t.markTTI=function(e){var t=i.__assign({},e.extra);if(t.time_to_primary_mark)return e;switch(t.primary_mark_ts||(t.primary_mark_ts=Date.now()),t.source_action){case"visit":n.invariant(!!t.page_start_ts,a.FVErrorCode.InvalidLoggingSession,"Cannot calculate 1st page TTI without page_start_ts"),t.time_to_primary_mark=t.primary_mark_ts-t.page_start_ts;break;case"click":n.invariant(t.file_preview_timeline&&!!t.file_preview_timeline.preview_attempted,a.FVErrorCode.InvalidLoggingSession,"Cannot calculate subsequent page TTI without preview_attempted timestamp"),t.time_to_primary_mark=t.primary_mark_ts-t.file_preview_timeline.preview_attempted}return i.__assign(i.__assign({},e),{extra:t})}})),define("file-viewer/core/middlewares/analytics",["require","exports","tslib","file-viewer/core/logging/actions","file-viewer/core/logging/session","file-viewer/core/data/modes/types","file-viewer/core/extension_constants"],(function(e,t,i,r,n,a,o){"use strict";var s;function l(e){return Object.keys(e).reduce((function(t,i){var r=e[i];return"string"==typeof r||"number"==typeof r?t[i]=String(r):"boolean"==typeof r?t[i]=String(+r):"object"==typeof r&&r&&(t[i]=JSON.stringify(r)),t}),{})}function c(e){return i.__assign(i.__assign({},e),{file_extension:o.getWhitelistedFileExtension(e.file_extension||""),extra:l(e.extra)})}Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsMiddleware=void 0;var d=((s={})["@@previews/zoomIn"]="zoom_in",s["@@previews/zoomOut"]="zoom_out",s["@@previews/fileViewerUi/closeDocSidebar"]="close_doc_sidebar",s["@@previews/fileViewerUi/openDocSidebar"]="open_doc_sidebar",s["@@previews/zoomOriginalOrFit"]="zoom_original_or_fit",s["@@previews/modes/changeMode"]="mode_change",s["@@previews/updateDocCurrentPageIndex"]="page_jump",s["@@previews/pageDown"]="page_down",s["@@previews/pageUp"]="page_up",s["@@previews/share"]="share",s["@@previews/openWith"]="open_with",s["@@previews/openWebPreview"]="open_web_preview",s["@@previews/navigation/flipToNextFile"]="flip_next",s["@@previews/navigation/flipToPreviousFile"]="flip_prev",s["@@previews/openFullscreenPreview"]="open_fullscreen_preview",s["@@previews/openVersionHistory"]="open_version_history",s["@@previews/openSidebar"]="toggle_sidebar_on",s["@@previews/closeSidebar"]="toggle_sidebar_off",s["@@previews/switchWorkbookTab"]="switch_workbook_tab",s["@@previews/fileSystem/copyToDropbox"]="save_to_dropbox",s["@@previews/fileSystem/downloadFile"]="download",s["@@previews/print"]="print",s["@@previews/enterFullscreen"]="toggle_fullscreen_on",s["@@previews/exitFullscreen"]="toggle_fullscreen_off",s["@@previews/clickDropboxLogo"]="click_dropbox_logo",s);t.analyticsMiddleware=function(e){return function(t){var o=t.getState;return function(t){return function(s){return"@@previews/log"===s.type?t((function(e,t,i){var a=i.payload,o=a.event,s=a.fileViewerId,l=a.previewSessionId,d=a.extra,u=t.loggingSession[s];return l===u.file_preview_session_id&&(u=n.recordEvent(t.loggingSession[s],o,d),e.log(o,c(u)),u=n.updateSessionLastEvent(u,o)),r.updateSession(u)})(e,o(),s)):"@@previews/logTTI"===s.type?t((function(e,t,i){var a;return a=n.markTTI(t.loggingSession[i.payload]),e.logTTI(),r.updateSession(a)})(e,o(),s)):"@@previews/fidelitySurveyAsked"===s.type||"@@previews/fidelitySurveyAnswered"===s.type||"@@previews/fidelitySurveyDismissed"===s.type?t((function(e,t,r){var n=r.payload.fileViewerId,a=t.loggingSession[n];switch(r.type){case"@@previews/fidelitySurveyAsked":e.log("fidelity_survey_asked",c(i.__assign(i.__assign({},a),{extra:{}})));break;case"@@previews/fidelitySurveyAnswered":e.log("fidelity_survey_answered",c(i.__assign(i.__assign({},a),{extra:i.__assign({question_id:r.payload.questionId},r.payload.submission)})));break;case"@@previews/fidelitySurveyDismissed":e.log("fidelity_survey_dismissed",c(i.__assign(i.__assign({},a),{extra:{question_id:r.payload.questionId,dismissal_method:r.payload.dismissalMethod}})))}return r})(e,o(),s)):"@@previews/excelSheetRenderFailed"===s.type||"@@previews/excelSheetRenderSucceeded"===s.type||"@@previews/fetchExcelSheetLayoutData"===s.type||"@@previews/fetchExcelSheetLayoutDataResult"===s.type?t((function(e,t,r){var n=r.payload,a=n.fileViewerId,o=n.sheetIndex,s=t.loggingSession[a],d=c(i.__assign(i.__assign({},s),{extra:l({tab_index:o,ts:Date.now()})}));switch(r.type){case"@@previews/fetchExcelSheetLayoutData":e.log("excel_sheet_download_attempted",d);break;case"@@previews/fetchExcelSheetLayoutDataResult":null!=r.error?e.log("excel_sheet_download_failed",d):e.log("excel_sheet_download_succeeded",d);break;case"@@previews/excelSheetRenderFailed":e.log("excel_sheet_render_failed",d);break;case"@@previews/excelSheetRenderSucceeded":e.log("excel_sheet_render_succeeded",d)}return r})(e,o(),s)):s.type in d?t((function(e,t,r){var n=r.payload,o=n.fileViewerId,s=n.sourceContext,u=t.loggingSession,p=t.modes,f=u[o],_=p[o]?p[o].mode:a.FileViewerMode.Default,v={context:s,action:d[r.type],mode:_};return"@@previews/modes/changeMode"===r.type?v.next_mode=r.payload.mode:"@@previews/switchWorkbookTab"===r.type&&(v.tab_index=r.payload.tabIndex),e.log("user_action",c(i.__assign(i.__assign({},f),{extra:l(v)}))),r})(e,o(),s)):t(s)}}}}})),define("file-viewer/core/middlewares/local_cache_data",["require","exports","tslib","modules/clean/api_v2/redux/previews","file-viewer/core/logging/session","file-viewer/core/logging/actions"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localCacheMiddleware=void 0,t.localCacheMiddleware=function(e){var t=this;return function(o){var s=o.getState,l=o.dispatch;return function(o){return function(c){return i.__awaiter(t,void 0,void 0,(function(){var t,d,u,p;return i.__generator(this,(function(i){switch(i.label){case 0:return"@@apiv2_redux/previews/get_preview_data_batch"!=c.type?[3,2]:e.previewDataCacheClient?[4,e.previewDataCacheClient.getByFileIds(c.payload.arg.files.map((function(e){return e.file_id})).filter((function(e){return"string"==typeof e})))]:[3,2];case 1:if(t=i.sent(),Array.isArray(t.results)&&t.results.length>0)return d={arg:c.payload.arg,result:t},c.meta&&c.meta.fileViewerId&&(p=n.recordExtra(s().loggingSession[c.meta.fileViewerId],{preview_data_cache_hit:"1"}),l(a.updateSession(p))),u=r.getPreviewDataBatchResultAction(d,c.meta),[2,l(u)];c.meta&&c.meta.fileViewerId&&(p=n.recordExtra(s().loggingSession[c.meta.fileViewerId],{preview_data_cache_hit:"0"}),l(a.updateSession(p))),i.label=2;case 2:return[2,o(c)]}}))}))}}}}})),define("file-viewer/core/middlewares/native_apps",["require","exports","tslib","file-viewer/core/data/actions"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){var t=this;return function(n){var a=n.dispatch;return function(n){return function(o){return i.__awaiter(t,void 0,void 0,(function(){var t,s,l,c;return i.__generator(this,(function(i){switch(i.label){case 0:return t=n(o),"@@previews/fetchNativeApps"!==o.type?[3,2]:(s=a,l=r.fetchNativeAppsResult,c={fileId:o.payload.fileId},[4,e.getAppsForCurrentFile()]);case 1:s.apply(void 0,[l.apply(void 0,[(c.result=i.sent(),c)])]),i.label=2;case 2:return[2,t]}}))}))}}}}})),define("file-viewer/core/middlewares/navigation",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){return function(t){var i=t.getState;return function(t){return function(r){var n,a,o,s,l,c;if("@@previews/share"===r.type)null===(n=e.openShareModal)||void 0===n||n.call(e);else if("@@previews/openWith"===r.type)null===(a=e.openDefaultNativeApp)||void 0===a||a.call(e);else if("@@previews/openWebPreview"===r.type)null===(o=e.openWebPreview)||void 0===o||o.call(e);else if("@@previews/openVersionHistory"===r.type)e.openVersionHistory&&e.openVersionHistory();else if("@@previews/openFullscreenPreview"===r.type)e.openFullScreenPreview&&e.openFullScreenPreview();else if("@@previews/openContainingFolder"===r.type)e.openContainingFolder&&e.openContainingFolder();else if("@@previews/openUrl"===r.type){var d=r.payload,u=d.url,p=d.fallbackUrl;e.openUrl&&e.openUrl(u,p)}if("@@previews/navigation/flipToNextFile"===r.type&&(null===(s=e.flipToNextFile)||void 0===s||s.call(e)),"@@previews/navigation/flipToPreviousFile"===r.type&&(null===(l=e.flipToPreviousFile)||void 0===l||l.call(e)),"@@previews/openWithCloudEditor"===r.type){var f=r.payload,_=f.editorName,v=f.fileIdOrRevisionId,g=i().currentUser;null===(c=e.openWithCloudEditor)||void 0===c||c.call(e,v,null==g?void 0:g.uid,_)}return t(r)}}}}})),define("file-viewer/core/middlewares/network_state",["require","exports","file-viewer/core/data/actions"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){var t=e.dispatch;function r(){t(i.setNetworkConnectivityState({isOffline:!navigator.onLine}))}return function(e){return function(n){if("undefined"==typeof window)return e(n);switch(n.type){case"@@previews/initializeFilePreviewSession":t(i.setNetworkConnectivityState({isOffline:!navigator.onLine}));break;case"@@previews/subscribeNetworkState":window.addEventListener("offline",r);break;case"@@previews/unsubscribeNetworkState":window.removeEventListener("offline",r)}return e(n)}}}})),define("file-viewer/core/middlewares/riviera_data",["require","exports","tslib","file-viewer/core/data/actions","file-viewer/core/data/riviera/index","file-viewer/core/data/riviera/transform","file-viewer/core/invariant","file-viewer/core/errors","file-viewer/core/utils/index","file-viewer/core/data/utils"],(function(e,t,i,r,n,a,o,s,l,c){"use strict";function d(e){var t=e.payload;return{fileIdOrRevisionId:t.fileIdOrRevisionId,fileViewerId:t.fileViewerId}}Object.defineProperty(t,"__esModule",{value:!0}),t.rivieraDataMiddleware=void 0,t.rivieraDataMiddleware=function(e){var t=this,u=new n.RivieraClientBase(e);return function(e){var n=e.getState,p=e.dispatch;return function(e){return function(f){return i.__awaiter(t,void 0,void 0,(function(){var t,_,v,g,m,h,b,w,A,y,P,S,E,x,C,I,F,R,T,O,D,M,k,L,B,N,U,V,j,G,W;return i.__generator(this,(function(i){switch(i.label){case 0:switch(v=n(),f.type){case"@@previews/fetchPageDataWithMetadata":return[3,1];case"@@previews/refreshBlob":return[3,5];case"@@previews/fetchExcelSheetLayoutData":return[3,9]}return[3,13];case 1:g=f.payload,m=g.textUrlTmpl,h=g.startPage,b=g.endPage,w=g.loadPartialPages,A=d(f),B=A.fileIdOrRevisionId,N=A.fileViewerId,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,u.fetchDocMetadata(m,!0,h,b)];case 3:return G=i.sent(),o.invariant(!!v.previewData[B],s.FVErrorCode.InvalidFileInfo,"Preview Data for "+B+" should have been available"),y=v.previewData[B].content,P=y.image_url_tmpl,S=y.supported_widths,E=G.metadata,o.invariant(!!E,s.FVErrorCode.MalformedRivieraData,"Response from riviera ssr_doc has no metadata and we also have no existing metadata"),x=E.page_count,I=(C=w?[h,b]:[0,x])[0],F=C[1],[2,e(r.fetchPageDataWithMetadataResult({fileViewerId:N,fileIdOrRevisionId:B,data:{metadata:E,pages:a.processTextAndUrl(P,E.dimensions,x,G,S,I,Math.min(null!=F?F:x,x))}}))];case 4:return R=i.sent(),[2,e(r.fetchPageDataWithMetadataResult({fileViewerId:f.payload.fileViewerId,fileIdOrRevisionId:B,data:void 0},R))];case 5:T=d(f),B=T.fileIdOrRevisionId,N=T.fileViewerId,i.label=6;case 6:return i.trys.push([6,8,,9]),[4,u.refreshDocBlob(f.payload.refreshUrl,f.payload.password)];case 7:return G=i.sent(),e(r.refreshBlobSuccessAction({fileIdOrRevisionId:B,preview:G})),o.invariant(!!v.previewData[B],s.FVErrorCode.InvalidFileInfo,"Preview Data for "+B+" should have been available"),f.payload.password?[2,p(r.fetchPageDataWithMetadata({fileViewerId:N,fileIdOrRevisionId:B,textUrlTmpl:G.text_url_tmpl}))]:(O=v.filePreviewUi[f.payload.fileViewerId][B],D=null!==(_=null===(t=c.filterDocFilePreviewUiState(O))||void 0===t?void 0:t.currentPageIndex)&&void 0!==_?_:0,M=l.calculatePageRange(D),[2,p(r.fetchPageDataWithMetadata({fileViewerId:N,fileIdOrRevisionId:B,textUrlTmpl:G.text_url_tmpl,startPage:M[0],endPage:M[1]}))]);case 8:return k=i.sent(),[2,e(r.fetchPageDataWithMetadataResult({fileViewerId:N,fileIdOrRevisionId:B,data:void 0},k))];case 9:L=d(f),B=L.fileIdOrRevisionId,N=L.fileViewerId,e(f),U=f.payload,V=U.sheetIndex,j=U.workbookDataUrlTmpl,i.label=10;case 10:return i.trys.push([10,12,,13]),[4,u.fetchExcelWorkbookLayoutData(j,V)];case 11:return G=i.sent(),[2,p(r.fetchExcelSheetLayoutDataResult({fileViewerId:N,fileIdOrRevisionId:B,sheetIndex:V,data:G}))];case 12:return W=i.sent(),[2,p(r.fetchExcelSheetLayoutDataResult({fileViewerId:N,fileIdOrRevisionId:B,sheetIndex:V,data:void 0},W))];case 13:return[2,e(f)]}}))}))}}}}})),define("file-viewer/core/middlewares/ui_action_redispatcher",["require","exports","tslib","file-viewer/core/data/actions","file-viewer/core/data/utils"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiActionRedispatcher=void 0,t.uiActionRedispatcher=function(e){var t=e.getState;return function(e){return function(a){var o=t(),s=o.filePreviewUi,l=o.previewData,c=o.rivieraData,d=a.payload,u=d.fileIdOrRevisionId,p=d.fileViewerId,f=l[u],_=c[u];if(!(s[p]&&f&&f.content&&_))return e(a);if(!s[p][u])return e(a);switch(a.type){case"@@previews/zoomIn":return e(r.zoomIn(i.__assign(i.__assign({},a.payload),{previewType:"ssr_doc"===f.content[".tag"]?"ssr_doc":"image"})));case"@@previews/zoomOut":return e(r.zoomOut(i.__assign(i.__assign({},a.payload),{previewType:"ssr_doc"===f.content[".tag"]?"ssr_doc":"image"})));case"@@previews/updateDocCurrentPageIndex":if(("ssr_doc"===f.content[".tag"]||"cloud_doc"===f.content[".tag"])&&n.isDocRivieraData(_)&&_.metadata)return e(r.updateDocCurrentPageIndex(i.__assign(i.__assign({},a.payload),{pageCount:_.metadata.page_count})));break;case"@@previews/pageDown":if(("ssr_doc"===f.content[".tag"]||"cloud_doc"===f.content[".tag"])&&n.isDocRivieraData(_)&&_.metadata)return e(r.pageDown(i.__assign(i.__assign({},a.payload),{pageCount:_.metadata.page_count})))}return e(a)}}}})),define("file-viewer/core/ui/types",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Theme=void 0,(i=t.Theme||(t.Theme={})).win="win",i.osx="osx",i.web="web"})),define("file-viewer/core/urls",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getXlsImgUrl=t.imageUrl=t.updateQueryParam=void 0,t.updateQueryParam=function(e,t){Object.keys(t).forEach((function(i){e.searchParams.set(i,t[i])}))},t.imageUrl=function(e,t,i,r){var n=new URL(e);return n.searchParams.set("page",t.toString()),n.searchParams.set("scale_percent",i.toString()),null!=r&&n.searchParams.set("width",r.toString()),n.toString()},t.getXlsImgUrl=function(e,t,i){var r=new URL(e,"https://www.dropbox.com");return"/previews_asset/"===r.pathname?(r.pathname+r.search).replace(/SHEET_PLACEHOLDER/,t.toString()).replace(/TILE_PLACEHOLDER/,i.toString()):(r.searchParams.set("sheet",t.toString()),r.searchParams.set("tile",i.toString()),r.toString())}})),define("file-viewer/core/utils/index",["require","exports","file-viewer/core/extension_constants","file-viewer/core/utils/support","file-viewer/core/utils/support"],(function(e,t,i,r,n){"use strict";function a(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}Object.defineProperty(t,"__esModule",{value:!0}),t.isPreviewTypeSupported=t.resolvePreviewType=t.calculatePageRange=t.resolveAsset=t.fileSizeSupported=t.getFileSizeLimit=t.canPreviewInPreviewDoc=t.getParentFolderFromPath=t.getFileExtension=t.calculateFitBox=t.memoizeOne=t.shallowEqual=void 0,t.shallowEqual=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(!Object.prototype.hasOwnProperty.call(t,i[n])||!a(e[i[n]],t[i[n]]))return!1;return!0},t.memoizeOne=function(e){var t,i,r=!1;return function(n){return r&&t===n?i:(i=e(n),t=n,r=!0,i)}},t.calculateFitBox=function(e,t,i){var r=e/t;return isNaN(i)||isNaN(r)||!isFinite(r)||!isFinite(i)?[0,0]:r>i?[t*i,t]:[e,e/i]};var o=/\.\w+$/;function s(e){var t=e.toLowerCase().match(o);return t?t[0]:""}function l(e,t,r){var n=s(e);return".pdf"===n?r.pdf_size_limit:i.PRESENTATION_EXTS.includes(n)?r.ppt_size_limit:i.DOC_EXTS.includes(n)?r.word_doc_size_limit:"archive"===t?r.archive_size_limit:"html"===t||"text"===t?r.text_size_limit:"linkfile"===t?r.linkfile_size_limit:"excel"===t?r.excel_size_limit:0}t.getFileExtension=s,t.getParentFolderFromPath=function(e){if(!e)return null;var t=e.split("/");return t.length<2?null:t[t.length-2]},t.canPreviewInPreviewDoc=function(e){return["cloud_doc","ssr_doc"].includes(r.resolvePreviewType(e))},t.getFileSizeLimit=l,t.fileSizeSupported=function(e,t,i,r){if(!isFinite(t))return!0;var n=l(e,i,r);return!n||t<=n},t.resolveAsset=function(e,t){return e[t]||t};t.calculatePageRange=function(e){var t=50*Math.floor(e/50);return t+50-e<15&&(t+=50),[t,t+50]},Object.defineProperty(t,"resolvePreviewType",{enumerable:!0,get:function(){return n.resolvePreviewType}}),Object.defineProperty(t,"isPreviewTypeSupported",{enumerable:!0,get:function(){return n.isPreviewTypeSupported}})})),define("file-viewer/core/utils/support",["require","exports","file-viewer/core/constants"],(function(e,t,i){"use strict";function r(e){if(!e||!e.content)return"error";switch(e.content[".tag"]){case"archive":return"archive";case"audio":return"audio";case"cloud_doc":return"cloud_doc";case"excel":return"excel";case"html":return"html";case"image":return"image";case"linkfile":return"linkfile";case"raw_html":return"raw_html";case"restricted":return"restricted";case"ssr_doc":return"ssr_doc";case"video":return"video";default:return"other"}}Object.defineProperty(t,"__esModule",{value:!0}),t.isPreviewTypeSupported=t.resolvePreviewType=void 0,t.resolvePreviewType=r,t.isPreviewTypeSupported=function(e,t){var n=r(e);return i.DEFAULT_SUPPORTED_PREVIEW_TYPES.concat(t).includes(n)}})),define("file-viewer/core/uuid",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v4=void 0;var i=(function(){var e,t,i=[];for(t=e=0;e<=255;t=++e)i.push((t+256).toString(16).substr(1));return i})();function r(e){return e.map((function(e){return i[e]})).join("")}t.v4=function(){var e=(function(){var e=new Uint8Array(16);return window.crypto&&window.crypto.getRandomValues(e),e})();e[6]=15&e[6]|64,e[8]=63&e[8]|128;var t=Array.prototype.slice.call(e);return[t.slice(0,4),t.slice(4,6),t.slice(6,8),t.slice(8,10),t.slice(10,16)].map(r).join("-")}})),define("file-viewer/file_extension/extension_constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORDPROC_EXTS=t.WEBLOC_FILE_EXTS=t.URL_FILE_EXTS=t.TRANSCODE_VIDEO_EXTS=t.TRANSCODE_IWORK_EXTS=t.THUMBNAIL_IMAGE_EXTS=t.THUMBNAIL_EXTS=t.SCANNABLE_EXTS=t.ROOT_VIDEO_EXTS=t.ROOT_PHOTO_NON_CU_EXTS=t.ROOT_PHOTO_EXTS=t.ROOT_PHOTO_CU_EXTS=t.ROOT_PHOTO_AND_VIDEO_NON_CU_EXTS=t.ROOT_PHOTO_AND_VIDEO_EXTS=t.ROOT_PHOTO_AND_VIDEO_CU_EXTS=t.RAW_FILE_FOR_PREVIEW_EXTS=t.PRESENTATION_EXTS=t.POINTER_CLOUD_DOC_EXTS=t.PLAINTEXT_EXTS=t.PHOTO_EXTS=t.PDF_EXTS=t.PAPER_CLOUD_DOC_NON_BINDER_EXTS=t.PAPER_CLOUD_DOC_BINDER_EXTS=t.PAPER_CLOUD_DOC_ALL_EXTS=t.PACKAGE_EXTS=t.NON_GENERATED_HTML_EXTS=t.MSOFFICE_WORDPROC_EXTS=t.MSOFFICE_PRESENTATION_EXTS=t.MSOFFICE_PDF_PREVIEW_EXTS=t.MSOFFICE_NONEXCEL_EXTS=t.MSOFFICE_EXCEL_EXTS=t.MSOFFICE_DOC_EXTS=t.MEDIA_TRANSCODE_EXTS=t.MARKDOWN_EXTS=t.LOGGING_UNALLOWED_EXT_PLACEHOLDER=t.LOGGING_ALLOWED_EXTS=t.LINK_FILE_EXTS=t.LIBRE_OFFICE_WORDPROC_EXTS=t.LIBRE_OFFICE_PRESENTATION_EXTS=t.LIBRE_OFFICE_PDF_PREVIEW_EXTS=t.IWORK_EXTS=t.INDEXED_VIDEO_EXTS=t.INDEXED_PHOTO_EXTS=t.INDEXED_PHOTO_AND_VIDEO_EXTS=t.INDESIGN_EXTS=t.IMAGE_EXIF_EXTS=t.HTMLIFIED_PREVIEW_EXTS=t.GOOGLE_CLOUD_DOC_NON_GSHEET_EXTS=t.GOOGLE_CLOUD_DOC_GSHEET_EXTS=t.GOOGLE_CLOUD_DOC_EXTS=t.GENERATED_PREVIEW_EXTS=t.GALLERY_IMAGE_EXTS=t.GALLERY_EXTS=t.FORMS_CLOUD_DOC_EXTS=t.FONT_EXTS=t.EPUB_EXTS=t.DOC_THUMBNAIL_PDF_EXTS=t.DOC_THUMBNAIL_HTML_EXTS=t.DOC_THUMBNAIL_EXTS=t.DOC_PDF_PREVIEW_EXTS=t.DOCUMENT_EXTS=t.CREATIVE_DOC_EXTS=t.CODE_EXTS=t.CLOUD_DOC_EXTS=t.AUTOCAD_EXTS=t.AUDIO_EXTS=t.ADOBECS_EXTS=void 0,t.ADOBECS_EXTS=[".ai",".eps"],t.AUDIO_EXTS=[".aac",".aif",".aiff",".flac",".m4a",".m4r",".mp3",".oga",".wav",".wma"],t.AUTOCAD_EXTS=[".dwg"],t.CLOUD_DOC_EXTS=[".binder",".form",".gdoc",".gsheet",".gslides",".paper",".papert",".result",".web"],t.CODE_EXTS=[".abap",".ada",".ahk",".as",".as3",".ascx",".asm",".aspx",".awk",".bash",".bat",".bib",".build",".c",".cc",".cfc",".cfm",".cfml",".cl",".clj",".cls",".cmake",".cmd",".coffee",".cpp",".cpy",".cs",".css",".cxx",".d",".di",".diff",".dtd",".el",".erb",".erl",".f",".fs",".fsi",".gemfile",".gemspec",".go",".groovy",".gry",".h",".haml",".handlebars",".hbs",".hh",".hpp",".hrl",".hs",".hxx",".idl",".inc",".inf",".ini",".jade",".java",".js",".json",".jsp",".jsx",".less",".lhs",".lisp",".lst",".lua",".m",".make",".ml",".mli",".mll",".mly",".mm",".out",".p",".pas",".patch",".php",".phtml",".pl",".plist",".pm",".pp",".properties",".py",".pyw",".r",".rake",".rb",".rbx",".reg",".rest",".rhtml",".rprofile",".rs",".rss",".rst",".s",".sass",".scala",".scm",".sconscript",".sconstruct",".script",".scss",".sh",".sml",".sql",".swift",".tex",".tmpl",".tpl",".tsx",".vb",".vi",".vim",".wsdl",".xhtml",".xml",".xsd",".xsl",".xslt",".yaml",".yml",".zsh"],t.CREATIVE_DOC_EXTS=[".psd",".svg",".svgz"],t.DOCUMENT_EXTS=[".ai",".csv",".doc",".docm",".docx",".dwg",".eps",".key",".keynote",".ods",".pdf",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf",".xls",".xlsm",".xlsx"],t.DOC_PDF_PREVIEW_EXTS=[".doc",".docm",".docx",".odp",".odt",".pdf",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf",".wpd"],t.DOC_THUMBNAIL_EXTS=[".csv",".doc",".docm",".docx",".ods",".pdf",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf",".xls",".xlsm",".xlsx"],t.DOC_THUMBNAIL_HTML_EXTS=[".csv",".ods",".xls",".xlsm",".xlsx"],t.DOC_THUMBNAIL_PDF_EXTS=[".doc",".docm",".docx",".pdf",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf"],t.EPUB_EXTS=[".azw4",".djvu",".epub",".mobi"],t.FONT_EXTS=[".otf",".ttf"],t.FORMS_CLOUD_DOC_EXTS=[".form",".result"],t.GALLERY_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".bmp",".dv",".flv",".gif",".jpeg",".jpg",".m2t",".m2ts",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".mxf",".oggtheora",".ogv",".png",".rm",".tif",".tiff",".ts",".vob",".wbmp",".webm",".webp",".wmv"],t.GALLERY_IMAGE_EXTS=[".bmp",".gif",".jpeg",".jpg",".png",".tif",".tiff",".wbmp",".webp"],t.GENERATED_PREVIEW_EXTS=[".ai",".csv",".doc",".docm",".docx",".dwg",".eps",".gdoc",".gsheet",".gslides",".odp",".ods",".odt",".paper",".papert",".pdf",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf",".wpd",".xls",".xlsm",".xlsx"],t.GOOGLE_CLOUD_DOC_EXTS=[".gdoc",".gsheet",".gslides"],t.GOOGLE_CLOUD_DOC_GSHEET_EXTS=[".gsheet"],t.GOOGLE_CLOUD_DOC_NON_GSHEET_EXTS=[".gdoc",".gslides"],t.HTMLIFIED_PREVIEW_EXTS=[".abap",".ada",".adp",".ahk",".as",".as3",".asc",".ascx",".asm",".asp",".aspx",".awk",".bash",".bash_login",".bash_logout",".bash_profile",".bashrc",".bat",".bib",".bsh",".build",".builder",".c",".c++",".capfile",".cc",".cfc",".cfm",".cfml",".cl",".clj",".cls",".cmake",".cmd",".coffee",".cpp",".cpt",".cpy",".cs",".cshtml",".cson",".csproj",".css",".csv",".ctp",".cxx",".d",".ddl",".di",".dif",".diff",".disco",".dml",".dtd",".dtml",".el",".emakefile",".erb",".erl",".f",".f90",".f95",".fs",".fsi",".fsscript",".fsx",".gemfile",".gemspec",".gitconfig",".go",".groovy",".gry",".gvy",".h",".h++",".haml",".handlebars",".hbs",".hcp",".hh",".hpp",".hrl",".hs",".htc",".hxx",".idl",".iim",".inc",".inf",".ini",".inl",".ipp",".irbrc",".jade",".jav",".java",".js",".json",".jsp",".jsx",".l",".less",".lhs",".lisp",".log",".lst",".ltx",".lua",".m",".make",".markdn",".markdown",".md",".mdown",".mkdn",".ml",".mli",".mll",".mly",".mm",".mud",".nfo",".opml",".osascript",".out",".p",".pas",".patch",".php",".php2",".php3",".php4",".php5",".phtml",".pl",".plist",".pm",".pod",".pp",".profile",".properties",".ps1",".psd1",".psm1",".pt",".py",".pyw",".r",".rake",".rb",".rbx",".rc",".re",".readme",".reg",".rest",".resw",".resx",".rhtml",".rjs",".rprofile",".rpy",".rs",".rss",".rst",".rxml",".s",".sass",".scala",".scm",".sconscript",".sconstruct",".script",".scss",".sgml",".sh",".shtml",".sml",".sql",".sty",".swift",".tcl",".tex",".text",".textile",".tld",".tli",".tmpl",".tpl",".tsx",".txt",".vb",".vi",".vim",".wsdl",".xhtml",".xml",".xoml",".xsd",".xsl",".xslt",".yaml",".yaws",".yml",".zsh"],t.IMAGE_EXIF_EXTS=[".3fr",".arw",".cr2",".crw",".dcr",".dcs",".dng",".erf",".heic",".jpeg",".jpg",".kdc",".mef",".mos",".mrw",".nef",".nrw",".orf",".pef",".r3d",".raf",".rw2",".rwl",".sr2",".tif",".tiff",".x3f"],t.INDESIGN_EXTS=[".indd"],t.INDEXED_PHOTO_AND_VIDEO_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".bmp",".gif",".jpeg",".jpg",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".png",".tif",".tiff",".ts",".wbmp",".webm",".webp",".wmv"],t.INDEXED_PHOTO_EXTS=[".bmp",".gif",".jpeg",".jpg",".png",".tif",".tiff",".wbmp",".webp"],t.INDEXED_VIDEO_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".ts",".webm",".wmv"],t.IWORK_EXTS=[".key",".kth",".numbers",".pages"],t.LIBRE_OFFICE_PDF_PREVIEW_EXTS=[".odp",".odt",".wpd"],t.LIBRE_OFFICE_PRESENTATION_EXTS=[".odp"],t.LIBRE_OFFICE_WORDPROC_EXTS=[".odt",".wpd"],t.LINK_FILE_EXTS=[".url",".webloc",".website"],t.LOGGING_ALLOWED_EXTS=[".3dm",".3ds",".3fr",".3ga",".3gp",".3gpp",".3gpp2",".7z",".aac",".abap",".abr",".abs",".accdb",".accde",".accdr",".accdt",".ace",".ada",".adp",".aep",".ahk",".ai",".aif",".aiff",".als",".amr",".apk",".apkg",".app",".application",".arf",".arj",".arw",".as",".as3",".asc",".ascx",".asf",".asm",".asp",".aspx",".ass",".atn",".attributes",".au",".avi",".awk",".azw4",".bak",".band",".bas",".bash",".bash_login",".bash_logout",".bash_profile",".bashrc",".bat",".bdoc",".bib",".bimx",".bin",".binder",".blend",".bmp",".brush",".bsh",".bsp",".build",".builder",".bundle",".bup",".bz",".bz2",".c",".c++",".c4d",".cab",".capfile",".capx",".catpart",".cbr",".cc",".cda",".cdr",".cetrainer",".cfc",".cfg",".cfm",".cfml",".chm",".civ5mod",".cl",".class",".clip",".clj",".cls",".cmake",".cmap",".cmd",".coffee",".com",".cpio",".cpl",".cpp",".cpt",".cptx",".cpy",".cr2",".crdownload",".crw",".crx",".cs",".cshtml",".cson",".csproj",".css",".csv",".ct",".ctb",".ctp",".curio",".cxx",".d",".dat",".db",".dbf",".dbs",".dcm",".dcr",".dcs",".ddl",".deb",".dem",".dgn",".di",".dif",".diff",".disco",".djvu",".dll",".dmbot",".dmg",".dml",".dng",".do",".doc",".docb",".docm",".docx",".dot",".dotm",".dotx",".dpx",".drv",".ds_store",".dst",".dta",".dtbase",".dtd",".dtml",".dv",".dwf",".dwg",".dwl",".dwl2",".dxf",".egg",".ehi",".el",".emakefile",".eml",".enc",".enl",".eps",".epub",".erb",".erf",".erl",".ex4",".exe",".f",".f4v",".f90",".f95",".fbx",".fdx",".fig",".filter",".fla",".flac",".flipchart",".flp",".flv",".fmf",".fmp12",".form",".framework",".fs",".fsi",".fsscript",".fsx",".fxp",".gadget",".gba",".gdoc",".gemfile",".gemspec",".ggb",".gif",".gitconfig",".gmz",".go",".gp5",".gpx",".graffle",".groovy",".gry",".gsheet",".gslides",".gvy",".gz",".gzip",".h",".h++",".haml",".handlebars",".hbs",".hcp",".heic",".hex",".hh",".hpp",".hrl",".hs",".hta",".htc",".htm",".html",".hwp",".hxx",".ibooks",".ico",".ics",".idl",".idml",".ifc",".ifo",".igs",".iim",".iiq",".img",".inc",".indd",".inf",".ini",".inl",".ino",".ipa",".ipk",".ipp",".ips",".ipt",".ipynb",".irbrc",".iso",".jade",".jar",".jav",".java",".jpeg",".jpg",".js",".jse",".json",".jsp",".jsx",".jww",".kdb",".kdbx",".kdc",".kext",".key",".keynote",".kfn",".kml",".kmz",".kth",".l",".less",".lha",".lhs",".lib4d",".lisp",".lnk",".log",".lrcat",".lrec",".lrtemplate",".lst",".ltx",".lua",".lz",".lzh",".lzma",".m",".m2t",".m2ts",".m3u",".m3u8",".m4a",".m4r",".m4v",".ma",".maff",".make",".mapset",".markdn",".markdown",".mat",".max",".mb",".mcmeta",".mcworld",".md",".md5",".mdb",".mdown",".mef",".mht",".mid",".mjdoc",".mkdn",".mkv",".ml",".mli",".mll",".mly",".mm",".mmap",".mobi",".mod",".mos",".mov",".mp3",".mp4",".mpeg",".mpg",".mpkg",".mpp",".mq4",".mrw",".msc",".mscz",".msg",".msh",".msh1",".msh1xml",".msh2",".msh2xml",".mshxml",".msi",".msm",".msp",".mst",".mts",".mtw",".mud",".mus",".musx",".mxf",".mxm",".myo",".nb",".nef",".nfo",".notebook",".nrw",".numbers",".nwd",".obj",".odg",".odp",".ods",".odt",".oga",".ogg",".oggtheora",".ogv",".omf",".omniplan",".one",".onetoc2",".oo3",".opj",".opml",".opus",".orf",".osascript",".osk",".osm",".osz",".otf",".out",".ova",".p",".p7m",".package",".pages",".paper",".papert",".part",".partial",".pas",".patch",".pbo",".pde",".pdf",".pdo",".pef",".pes",".pfx",".php",".php2",".php3",".php4",".php5",".phtml",".pif",".pk3",".pka",".pkg",".pkt",".pl",".plist",".pln",".plugin",".pm",".png",".pod",".pot",".potm",".potx",".pp",".ppam",".ppm",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".prc",".prj",".prn",".pro",".profile",".properties",".prproj",".prt",".ps",".ps1",".ps1xml",".ps2",".ps2xml",".psarc",".psb",".psc",".psc1",".psc2",".psd",".psd1",".psm1",".pst",".pt",".ptm",".ptp",".ptx",".pub",".py",".pyw",".pzf",".pzfx",".qbb",".qbm",".qbw",".qbx",".qdfm",".qpkg",".qtz",".r",".r3d",".raf",".rake",".rar",".razersynapse",".rb",".rbx",".rbz",".rc",".rdata",".rdp",".re",".readme",".reg",".rest",".result",".resw",".resx",".rfa",".rhtml",".rjs",".rm",".rpm",".rprofile",".rpy",".rs",".rss",".rst",".rte",".rtf",".rtfd",".run",".rvt",".rw2",".rwl",".rwsw",".rwtheme",".rxml",".s",".sas",".sass",".sav",".sb2",".scala",".scf",".schematic",".scm",".sconscript",".sconstruct",".scr",".script",".scriv",".scs",".scss",".sfx",".sgml",".sh",".shp",".shtml",".shx",".sib",".sims3pack",".sit",".sitx",".skb",".sketch",".skp",".sldasm",".slddrw",".sldm",".sldprt",".sldx",".slx",".smi",".sml",".sookasa",".space",".sps",".spv",".sql",".sr2",".src",".srt",".step",".stl",".story",".stp",".studio",".studio3",".sty",".svg",".svgz",".swf",".swift",".tac",".tar",".taz",".tbz",".tbz2",".tcl",".tex",".text",".textclipping",".textile",".tga",".tgz",".thm",".tif",".tiff",".tld",".tli",".tlz",".tmod",".tmp",".tmpl",".torrent",".tpl",".ts",".tst",".tsx",".ttf",".twbx",".txt",".txz",".tz",".ufo",".unitypackage",".ups",".url",".utf8",".uue",".vb",".vbe",".vbs",".vcf",".vdx",".vi",".vim",".vob",".vpdoc",".vsd",".vsdx",".vtt",".vwx",".vxd",".wad",".war",".watch",".wav",".wbk",".wbmp",".web",".webarchive",".webloc",".webm",".webp",".website",".wire",".wlmp",".wma",".wmv",".world",".wpd",".wps",".ws",".wsc",".wsdl",".wsf",".wsh",".wxy",".x3f",".x_t",".xar",".xcf",".xcodeproj",".xd",".xhtml",".xla",".xlam",".xll",".xlm",".xls",".xlsb",".xlsm",".xlsx",".xlt",".xltm",".xltx",".xlw",".xmind",".xml",".xmp",".xnb",".xoml",".xps",".xsd",".xsl",".xslt",".xz",".yaml",".yaws",".ydk",".yml",".z",".z2f",".zip",".zipx",".zsh"],t.LOGGING_UNALLOWED_EXT_PLACEHOLDER="OTHER",t.MARKDOWN_EXTS=[".markdown",".md",".mdown",".mkdn"],t.MEDIA_TRANSCODE_EXTS=[".3gp",".3gpp",".3gpp2",".aac",".aif",".aiff",".asf",".avi",".dv",".flac",".flv",".m2t",".m2ts",".m4a",".m4r",".m4v",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".mts",".mxf",".oga",".oggtheora",".ogv",".rm",".ts",".vob",".wav",".webm",".wma",".wmv"],t.MSOFFICE_DOC_EXTS=[".csv",".doc",".docm",".docx",".ods",".pdf",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf",".xls",".xlsm",".xlsx"],t.MSOFFICE_EXCEL_EXTS=[".csv",".ods",".xls",".xlsm",".xlsx"],t.MSOFFICE_NONEXCEL_EXTS=[".doc",".docm",".docx",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf"],t.MSOFFICE_PDF_PREVIEW_EXTS=[".doc",".docm",".docx",".pdf",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx",".rtf"],t.MSOFFICE_PRESENTATION_EXTS=[".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx"],t.MSOFFICE_WORDPROC_EXTS=[".doc",".docm",".docx",".rtf"],t.NON_GENERATED_HTML_EXTS=[".htm",".html"],t.PACKAGE_EXTS=[".app",".band",".bundle",".curio",".dtbase",".framework",".graffle",".kext",".key",".keynote",".mapset",".mjdoc",".mpkg",".numbers",".omniplan",".oo3",".pages",".pkg",".plugin",".qdfm",".rtfd",".rwsw",".rwtheme",".scriv",".sketch",".ufo",".vpdoc",".xcodeproj",".xd"],t.PAPER_CLOUD_DOC_ALL_EXTS=[".binder",".paper",".papert"],t.PAPER_CLOUD_DOC_BINDER_EXTS=[".binder"],t.PAPER_CLOUD_DOC_NON_BINDER_EXTS=[".paper",".papert"],t.PDF_EXTS=[".pdf"],t.PHOTO_EXTS=[".bmp",".gif",".jpeg",".jpg",".png",".tif",".tiff",".wbmp",".webp"],t.PLAINTEXT_EXTS=[".adp",".asc",".asp",".bash_login",".bash_logout",".bash_profile",".bashrc",".bsh",".builder",".c++",".capfile",".cpt",".cshtml",".cson",".csproj",".csv",".ctp",".ddl",".dif",".disco",".dml",".dtml",".emakefile",".f90",".f95",".fsscript",".fsx",".gitconfig",".gvy",".h++",".hcp",".htc",".iim",".inl",".ipp",".irbrc",".jav",".l",".log",".ltx",".markdn",".mud",".nfo",".opml",".osascript",".php2",".php3",".php4",".php5",".pod",".profile",".ps1",".psd1",".psm1",".pt",".rc",".re",".readme",".resw",".resx",".rjs",".rpy",".rxml",".sgml",".shtml",".sty",".tcl",".text",".textile",".tld",".tli",".txt",".xoml",".yaws"],t.POINTER_CLOUD_DOC_EXTS=[".web"],t.PRESENTATION_EXTS=[".odp",".pps",".ppsm",".ppsx",".ppt",".pptm",".pptx"],t.RAW_FILE_FOR_PREVIEW_EXTS=[".gif",".svg"],t.ROOT_PHOTO_AND_VIDEO_CU_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".bmp",".dv",".flv",".gif",".heic",".jpeg",".jpg",".m2t",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".png",".tif",".tiff",".ts",".vob",".wbmp",".webm",".webp",".wmv"],t.ROOT_PHOTO_AND_VIDEO_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".bmp",".dv",".flv",".gif",".heic",".jpeg",".jpg",".m2t",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".png",".tif",".tiff",".ts",".vob",".wbmp",".webm",".webp",".wmv"],t.ROOT_PHOTO_AND_VIDEO_NON_CU_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".dv",".flv",".heic",".jpeg",".jpg",".m2t",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".tif",".tiff",".ts",".vob",".webm",".wmv"],t.ROOT_PHOTO_CU_EXTS=[".bmp",".gif",".heic",".jpeg",".jpg",".png",".tif",".tiff",".wbmp",".webp"],t.ROOT_PHOTO_EXTS=[".bmp",".gif",".heic",".jpeg",".jpg",".png",".tif",".tiff",".wbmp",".webp"],t.ROOT_PHOTO_NON_CU_EXTS=[".heic",".jpeg",".jpg",".tif",".tiff"],t.ROOT_VIDEO_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".dv",".flv",".m2t",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".ts",".vob",".webm",".wmv"],t.SCANNABLE_EXTS=[".jpeg",".jpg",".tif",".tiff"],t.THUMBNAIL_EXTS=[".3gp",".3gpp",".3gpp2",".ai",".asf",".avi",".bmp",".dv",".eps",".flv",".gif",".indd",".jpeg",".jpg",".m2t",".m2ts",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".mxf",".oggtheora",".ogv",".otf",".png",".psd",".rm",".svg",".svgz",".tif",".tiff",".ts",".ttf",".vob",".wbmp",".webm",".webp",".wmv"],t.THUMBNAIL_IMAGE_EXTS=[".ai",".bmp",".eps",".gif",".indd",".jpeg",".jpg",".otf",".png",".psd",".svg",".svgz",".tif",".tiff",".ttf",".wbmp",".webp"],t.TRANSCODE_IWORK_EXTS=[".key",".keynote"],t.TRANSCODE_VIDEO_EXTS=[".3gp",".3gpp",".3gpp2",".asf",".avi",".dv",".flv",".m2t",".m2ts",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".mxf",".oggtheora",".ogv",".rm",".ts",".vob",".webm",".wmv"],t.URL_FILE_EXTS=[".url",".website"],t.WEBLOC_FILE_EXTS=[".webloc"],t.WORDPROC_EXTS=[".doc",".docm",".docx",".odt",".rtf",".wpd"]})),define("file-viewer/file_viewer/file_viewer",["require","exports","tslib","react","react-dom","file-viewer/core/data/actions","file-viewer/app","file-viewer/core/urls","file-viewer/core/uuid","modules/clean/api_v2/redux/previews","file-viewer/core/invariant","modules/clean/api_v2/redux/users","file-viewer/core/utils/index","file-viewer/core/logging/actions","file-viewer/core/errors","file-viewer/core/constants","file-viewer/plugins/queries","file-viewer/plugins/context","file-viewer/plugins/selectors/index","file-viewer/plugins/navigation","file-viewer/core/data/store_utils","file-viewer/plugins/sidebar","modules/clean/api_v2/redux/seen_state","file-viewer/pass/index"],(function(e,t,i,r,n,a,o,s,l,c,d,u,p,f,_,v,g,m,h,b,w,A,y,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileViewer=t.FileViewer=t.defaultPlatformConfig=void 0,r=i.__importStar(r),n=i.__importStar(n),t.defaultPlatformConfig={osModifierKey:"ctrlKey",theme:"web"};var S=(function(){function e(e,t,m){var w=this;this.mounted=!1,this.loadPreviewMetadata=function(e){return i.__awaiter(w,void 0,void 0,(function(){var e,t,r,n,o,l,c,u,p,f,v,g;return i.__generator(this,(function(i){switch(i.label){case 0:if(e=this.store,t=this.id,r=e.getState().currentFileInfo[t].file_id,!(n=e.getState().previewData[r])||!n.content)throw new _.FVError(_.FVErrorCode.MalformedPreviewsDataApiResponse,"Missing `content` from preview data api payload");switch(o=[],l=this.getPlatformProps().config,n.content[".tag"]){case"ssr_doc":case"cloud_doc":c=n.content,u=c.text_url_tmpl,p=c.image_url_tmpl,d.invariant(!(!u&&!p),_.FVErrorCode.MissingContentMetadata,"Content metadata is not present"),null!=u&&null!=p&&(f=e.dispatch(a.fetchPageDataWithMetadata({fileViewerId:t,fileIdOrRevisionId:r,textUrlTmpl:u,startPage:0,endPage:15,loadPartialPages:!0})),"small"!==l.size_class&&o.push(f),v="ssr_doc"===n.content[".tag"]?Math.min.apply(Math,(n.content.supported_widths||[]).concat([480])):void 0,e.dispatch(a.prewarmUnifiedPreviewAsset({fileViewerId:t,fileIdOrRevisionId:r,assetUrl:s.imageUrl(p,0,0,v)})));break;case"excel":if(!l.excel_support)break;g=n.content.workbook_data_url_tmpl,d.invariant(!!g,_.FVErrorCode.MissingContentMetadata,"Content metadata is not present"),null!=g&&o.push(e.dispatch(a.fetchExcelSheetLayoutData({fileViewerId:t,fileIdOrRevisionId:r,sheetIndex:0,workbookDataUrlTmpl:g})))}return[4,Promise.all(o)];case 1:return i.sent(),[2]}}))}))},this.selectDefaultPlugin=function(){return i.__awaiter(w,void 0,void 0,(function(){var e,t,r,n,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.plugins.promisedInstances];case 1:return r=i.sent(),n=Object.keys(r),o=this.store.getState(),s=o.currentFileInfo[this.id].file_id,this.store.dispatch(a.setActivePlugin({fileViewerId:this.id,fileIdOrRevisionId:s,sourceContext:"sidebar",pluginId:null!==(t=null!==(e=this.defaultPlugin)&&void 0!==e?e:this.plugins.initialDefaultPlugin)&&void 0!==t?t:n[0]})),[2]}}))}))},this.reinitializeFileViewer=function(e){return i.__awaiter(w,void 0,void 0,(function(){var t,r;return i.__generator(this,(function(i){switch(e.userAction){case"click":t="click";break;case"double_click":t="double_click";break;case"visit":t="visit"}switch(e.sourceContext){case"workflow":r="workflow"}return this.selectDefaultPlugin(),this.initialize({fileSize:e.fileSize,sourceSession:{source_action:t,source_context:r},fileMetadata:{file_id:e.fileId,file_name:e.fileName},fileInfo:{ns_id:e.nsId,sj_id:e.sjId,file_id:e.fileId}}),[2]}))}))},this.resolveFilePreview=function(e){return i.__awaiter(w,void 0,void 0,(function(){var t;return i.__generator(this,(function(i){switch(i.label){case 0:return d.invariant(!(!e.url&&!e.file_id),_.FVErrorCode.InvalidFileInfo,"You have to either provide a file ID or shared link url to fetch the preview data"),t=this.getPlatformProps().config,[4,this.store.dispatch(c.getPreviewDataBatchAction({arg:{files:[{url:e.url,file_id:e.file_id}],include_dimensions:t.img_size_optimization||Boolean(Object.keys(this.plugins.promisedInstances).length)},params:{}},{fileViewerId:this.id}))];case 1:return i.sent(),[2]}}))}))},this.initialize=function(e){return i.__awaiter(w,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.initializeInternalState(e)];case 1:return t.sent(),[2]}}))}))},this.initializeInternalState=function(e){var t=e.fileMetadata,r=e.fileSize,n=e.fileInfo,o=e.sourceSession,s=e.defaultPlugin,l=e.pluginParams,c=void 0===l?{}:l,u=e.supportedPreviewTypes,g=void 0===u?v.DEFAULT_SUPPORTED_PREVIEW_TYPES:u,m=e.sharedLinkInfo,h=e.unsafe_onPreviewInitialized,b=void 0===h?function(){}:h;return i.__awaiter(w,void 0,void 0,(function(){var e,l,u,v,h,w,A,S,E,x,C,I,F,R,T,O,D,M,k,L,B,N,U,V,j,G;return i.__generator(this,(function(W){switch(W.label){case 0:return e=t.file_name,l=n.file_id,u=this.getPlatformProps(),v=u.store,h=u.config,w=u.deviceType,A=p.getFileExtension(e),S=this.id,E=p.getFileExtension(e),x=function(){return v.getState().networkConnectivity.isOffline},(C=v.getState().currentFileInfo[this.id])&&this.mounted?[4,this.doTeardown()]:[3,2];case 1:W.sent(),W.label=2;case 2:this.setCurrentFileInfo(n),v.dispatch(a.setFileMetadata(t)),v.dispatch(a.initializeFilePreviewSession({fileViewerId:S,fileId:l,deviceType:w,fileExtension:E,sourceSession:o})),I=v.getState().loggingSession[this.id].file_preview_session_id,v.dispatch(f.logEvent({event:"preview_attempted",fileViewerId:S,previewSessionId:I})),W.label=3;case 3:return W.trys.push([3,5,,6]),[4,this.triggerPluginsPreviewWillInitialize(n)];case 4:return W.sent(),[3,6];case 5:return F=W.sent(),v.dispatch(f.logEvent({event:"lifecycle_failure",fileViewerId:this.id,previewSessionId:I,extra:{e:F}})),[3,6];case 6:W.trys.push([6,17,,18]),d.invariant(!!A,_.FVErrorCode.NoExtension,"Missing file extension"),d.invariant(!!n.url||!!n.file_id,_.FVErrorCode.InvalidFileInfo,"You have to either provide a file ID or shared link url to fetch the preview data"),W.label=7;case 7:return W.trys.push([7,9,,10]),[4,this.resolveFilePreview(n)];case 8:if(W.sent(),x())throw new _.FVError(_.FVErrorCode.UserOffline,"There is a network connectivity issue");return[3,10];case 9:throw R=W.sent(),_.isFVError(R)?R:new _.FVError(_.FVErrorCode.PreviewsDataApiFailure,R.message);case 10:return T=v.getState().currentFileInfo[S],O=T.file_id,D=T.url,M=T.ns_id,k=T.sj_id,m&&v.dispatch(a.setSharedLinkInfo(i.__assign(i.__assign({},m),{fileId:O}))),v.dispatch(a.fetchNativeApps({fileId:O})),d.invariant(!!O,_.FVErrorCode.MalformedPreviewsDataApiResponse,"Missing `file_id` in `file_info`"),d.invariant(!(n.url&&D!==n.url||n.file_id&&O!==n.file_id),_.FVErrorCode.FileSwitched,"We have flipped to another file"),[4,this.setDefaultActivePlugin(O,s)];case 11:return W.sent(),null==C&&(L=h.open_sidebar_by_default?a.openSidebar:a.closeSidebar,v.dispatch(L({fileViewerId:this.id,fileIdOrRevisionId:O,sourceContext:"initialization"}))),B=p.resolvePreviewType(v.getState().previewData[O]),v.dispatch(a.initializeFilePreview({fileViewerId:S,fileInfo:{file_id:O,ns_id:M,sj_id:k},fileExtension:E,fileName:e,previewType:B})),d.invariant("error"!==B,_.FVErrorCode.MalformedPreviewsDataApiResponse,"Preview Type got resolved to PreviewType.Error, possibly because of missing `content`"),d.invariant(g.includes(B),_.FVErrorCode.UnsupportedPreviewType,"Unsupported preview type"),d.invariant(p.fileSizeSupported(e,r,B,h),_.FVErrorCode.FileTooLarge,"Unsupported file size"),v.dispatch(f.logEvent({event:"support_confirmed",fileViewerId:S,previewSessionId:I})),v.dispatch(f.logEvent({event:"download_attempted",fileViewerId:S,previewSessionId:I})),[4,this.loadPreviewMetadata(n).catch((function(e){throw _.isFVError(e)?e:new _.FVError(_.FVErrorCode.RivieraDataFetchFailure,e.message)}))];case 12:if(W.sent(),N=v.getState().rivieraData[O],U=void 0,N&&(U=N.error)&&12!==U.statusCode){if(null==U.statusCode||x())throw new _.FVError(_.FVErrorCode.UserOffline,"There is a network connectivity issue");throw new _.FVError(_.FVErrorCode.RivieraDataFetchFailure,'Riviera Failure, status code "'+U.statusCode+'"')}v.dispatch(f.logEvent({event:"download_succeeded",fileViewerId:S,previewSessionId:I})),v.dispatch(a.setBootstrappedFileId({fileViewerId:S,fileId:O})),h.log_views_to_pass&&v.dispatch(y.logFileViewAction({arg:{file_views:[{file_info:{file_identifier:O},platform_type:{".tag":"desktop"===w?"desktop":"web"}}]}})),W.label=13;case 13:return W.trys.push([13,15,,16]),b(this,O),h.enable_pass&&P.initializePASS(v,O,I),[4,this.triggerPluginsPreviewDidInitialize(c)];case 14:return W.sent(),[3,16];case 15:return V=W.sent(),v.dispatch(f.logEvent({event:"lifecycle_failure",fileViewerId:this.id,previewSessionId:I,extra:{e:V}})),[3,16];case 16:return this.subscribeToPluginActivation(I),[3,18];case 17:switch(j=W.sent(),_.isFVError(j)||(j=new _.FVError(_.FVErrorCode.Unknown)),j.type){case _.FVErrorCode.PreviewsDataApiFailure:case _.FVErrorCode.NoExtension:case _.FVErrorCode.InvalidFileInfo:case _.FVErrorCode.UnsupportedPreviewType:case _.FVErrorCode.MalformedPreviewsDataApiResponse:v.dispatch(f.logEvent({event:"support_denied",fileViewerId:this.id,previewSessionId:I,extra:{error_code:_.FVErrorCode[j.type]}}));break;case _.FVErrorCode.RivieraDataFetchFailure:v.dispatch(f.logEvent({event:"download_failed",fileViewerId:this.id,previewSessionId:I,extra:{error_code:_.FVErrorCode[j.type]}}))}return G=v.getState().currentFileInfo[S].file_id,v.dispatch(a.setErroredFileId({fileViewerId:S,fileId:G,error:j})),this.triggerPluginsPreviewDidError(j),[3,18];case 18:return[2]}}))}))},this.triggerPluginsPreviewDidRender=function(){return i.__awaiter(w,void 0,void 0,(function(){var e,t,r,n;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.plugins.promisedInstances];case 1:for(e=i.sent(),t=0,r=Object.values(e);t<r.length;t++)(n=r[t]).lifecycle.previewDidRender&&n.lifecycle.previewDidRender();return[2]}}))}))},this.render=function(e,t,i){var a,s=w.getPlatformProps(),l=s.store,c=s.intl,d=s.config,u=s.platformConfig,p=s.resolveAsset,f=s.callbacks,_=w.id,v=null!==(a=null==t?void 0:t(w.getPlatformProps))&&void 0!==a?a:{},g=v.registerSidebarPanesFn,m=v.renderSidebarControlsFn,b=v.renderSidebarCallToActionsFn,y=v.shouldRenderBetaBadge,P=w.plugins.instances;if(null==P)return null;var S={pluginInstances:P,pluginNavigation:w.plugins.navigation,pluginQueryBus:w.plugins.queryBus,getRuntimeDisabledPlugins:function(){return h.getRuntimeDisabledPlugins(w.store.getState(),{fileViewerId:w.id})}},E=Object.keys(P).length>0,x=null!=g?g:E?A.registerSidebarPanesFn(S):void 0,C=null!=m?m:E?A.renderSidebarControlsFn(S):void 0;return n.render(r.createElement(o.AppWithProvider,{resolveAsset:p,store:l,intl:c,theme:u.theme,id:_,callbacks:f,config:d,pluginInstances:P,pluginQueryBus:w.plugins.queryBus,pluginNavigation:w.plugins.navigation,shouldRenderBetaBadge:y,registerSidebarPanesFn:x,renderSidebarControlsFn:C,renderSidebarCallToActionsFn:b,onDestroy:w.handleAppDestroy,onMount:w.handleAppMount,osModifierKey:u.osModifierKey,viewport:i}),e,w.triggerPluginsPreviewDidRender)},this.doTeardown=function(){return i.__awaiter(w,void 0,void 0,(function(){var e,t,r,n,a,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=this.getPlatformProps(),t=e.config,r=e.store,n=r.getState().currentFileInfo[this.id],a=r.getState().loggingSession[this.id].file_preview_session_id,this.endSession();try{this.triggerPluginDidDeactivateForCurrent()}catch(e){r.dispatch(f.logEvent({event:"lifecycle_failure",fileViewerId:this.id,previewSessionId:a,extra:{e:e}}))}this.unsubscribeFromPluginActivation&&this.unsubscribeFromPluginActivation(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.triggerPluginsPreviewWillTeardown()];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),r.dispatch(f.logEvent({event:"lifecycle_failure",fileViewerId:this.id,previewSessionId:a,extra:{e:o}})),[3,4];case 4:return t.enable_pass&&(null==n?void 0:n.file_id)&&P.teardownPASS(r,n.file_id),[2]}}))}))},this.endSession=function(){var e=w.getPlatformProps().store,t=e.getState().loggingSession[w.id].file_preview_session_id;e.dispatch(f.logEvent({event:"preview_session_ended",fileViewerId:w.id,previewSessionId:t}))},this.handleAppDestroy=function(){return i.__awaiter(w,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.mounted=!1,[4,this.doTeardown()];case 1:return e.sent(),[2]}}))}))},this.handleAppMount=function(){w.mounted=!0};var S=this.id=t||l.v4();this.getPlatformProps=e;var E=e(),x=E.store,C=E.deviceType,I=void 0===C?"desktop":C;this.store=x;var F=m?Object.keys(m)[0]:void 0;this.plugins={navigation:b.makeNavigation({store:x,fileViewerId:S,reinitializeFileViewer:this.reinitializeFileViewer,selectDefaultPlugin:this.selectDefaultPlugin}),instances:null,promisedInstances:this.loadPlugins(m),count:null==m?0:Object.keys(m).length,queryBus:new g.PluginQueryBus({getPageForSelection:function(){}}),initialDefaultPlugin:F},this.defaultPlugin=void 0,x.dispatch(a.initializeFileViewer({fileViewerId:S,deviceType:I})),x.dispatch(u.getCurrentAccountAction({arg:void 0,params:{}})),window.addEventListener("beforeunload",this.endSession,{once:!0})}return e.prototype.setCurrentFileInfo=function(e){this.store.dispatch(a.setCurrentFilePreview({fileViewerId:this.id,fileInfo:e}))},e.prototype.loadPlugins=function(e){var t=this;void 0===e&&(e={});var r={},n=this.getPlatformProps().config;return Promise.all(Object.keys(e).map((function(a){return i.__awaiter(t,void 0,void 0,(function(){var t,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,(0,e[a])()];case 1:return t=i.sent(),o=m.makePluginContext({store:this.store,sdkConfig:n,fileViewerId:this.id,pluginId:a,reinitializeFileViewer:this.reinitializeFileViewer,selectDefaultPlugin:this.selectDefaultPlugin}),r[a]=new t(o),[2,r]}}))}))}))).then((function(){return t.plugins.instances=r,r}))},Object.defineProperty(e.prototype,"unstable_pluginInstances",{get:function(){if(null==this.plugins.instances)throw new Error("Attempted to access plugin instances before initialization");return this.plugins.instances},enumerable:!1,configurable:!0}),e.prototype.getPluginByName=function(e){return e&&this.plugins.instances&&this.plugins.instances[e]?this.plugins.instances[e]:null},e.prototype.getActivePluginInstance=function(){var e=h.getActivePluginId(this.store.getState(),{fileViewerId:this.id});return this.getPluginByName(e)},e.prototype.setDefaultActivePlugin=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var r,n,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.defaultPlugin=t,h.getSelectedPluginId(this.store.getState(),{fileViewerId:this.id})?[2]:[4,this.plugins.promisedInstances];case 1:return n=i.sent(),0===(o=Object.keys(n)).length?[2]:(this.store.dispatch(a.setActivePlugin({fileViewerId:this.id,fileIdOrRevisionId:e,sourceContext:"initialization",pluginId:null!==(r=null!=t?t:this.plugins.initialDefaultPlugin)&&void 0!==r?r:o[0]})),[2])}}))}))},e.prototype.triggerPluginDidDeactivateForCurrent=function(){var e=this.getActivePluginInstance();e&&e.lifecycle&&e.lifecycle.pluginDidDeactivate&&e.lifecycle.pluginDidDeactivate()},e.prototype.triggerPluginsPreviewWillInitialize=function(e){var t=e.file_id,r=e.ns_id,n=e.sj_id,a=e.url;return i.__awaiter(this,void 0,void 0,(function(){var e,o,s,l,c;return i.__generator(this,(function(i){switch(i.label){case 0:if(null!=t)e={fileId:t};else if(null!=r&&null!=n)e={nsId:r,sjId:n};else{if(null==a)throw new Error("Expected file_id, ns_id/sj_id, or url to be present");e={sharedLinkUrl:a}}return[4,this.plugins.promisedInstances];case 1:for(o=i.sent(),s=0,l=Object.values(o);s<l.length;s++)null!=(c=l[s].lifecycle.previewWillInitialize)&&c(e);return[2]}}))}))},e.prototype.subscribeToPluginActivation=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,r,n=this;return i.__generator(this,(function(i){return t=this.id,r=function(e){return h.getActivePluginId(e,{fileViewerId:t})},this.unsubscribeFromPluginActivation=w.observeStore(this.store,r,(function(t,i){var r=n.getPluginByName(t);if(r&&r.lifecycle&&r.lifecycle.pluginDidDeactivate)try{r.lifecycle.pluginDidDeactivate()}catch(t){n.store.dispatch(f.logEvent({event:"lifecycle_failure",fileViewerId:n.id,previewSessionId:e,extra:{e:t}}))}var a=n.getPluginByName(i);if(a&&r!==a&&a.lifecycle&&a.lifecycle.pluginDidActivate)try{a.lifecycle.pluginDidActivate()}catch(t){n.store.dispatch(f.logEvent({event:"lifecycle_failure",fileViewerId:n.id,previewSessionId:e,extra:{e:t}}))}})),[2]}))}))},e.prototype.triggerPluginsPreviewDidInitialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,r,n,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.plugins.promisedInstances];case 1:for(t=i.sent(),r=0,n=Object.values(t);r<n.length;r++)null!=(a=n[r]).lifecycle.previewDidInitialize&&a.lifecycle.previewDidInitialize(e);return[2]}}))}))},e.prototype.triggerPluginsPreviewWillTeardown=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,r,n;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.plugins.promisedInstances];case 1:for(e=i.sent(),t=0,r=Object.values(e);t<r.length;t++)(n=r[t]).lifecycle.previewWillTeardown&&n.lifecycle.previewWillTeardown();return[2]}}))}))},e.prototype.triggerPluginsPreviewDidError=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,r,n,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.plugins.promisedInstances];case 1:for(t=i.sent(),r=0,n=Object.values(t);r<n.length;r++)(a=n[r]).lifecycle.previewDidError&&a.lifecycle.previewDidError(e);return[2]}}))}))},e})();t.FileViewer=S,t.createFileViewer=function(e,t,r){var n=this;return void 0===r&&(r={}),function(a){for(var o=e(),s=o.intl,l=o.resolveAsset,c={},d=function(e){var a=r[e];c[e]=function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,a({intl:s,resolveAsset:l,apiv2ClientBase:t})]}))}))}},u=0,p=Object.keys(r);u<p.length;u++){d(p[u])}return new S(e,a,c)}}})),define("file-viewer/file_viewer/bootstrap",["require","exports","tslib","file-viewer/core/middlewares/plugins","redux","file-viewer/core/data/reducer","modules/clean/api_v2/redux/previews","file-viewer/core/middlewares/riviera_data","file-viewer/core/utils/index","file-viewer/core/config","file-viewer/core/middlewares/analytics","file-viewer/core/middlewares/ui_action_redispatcher","file-viewer/core/middlewares/local_cache_data","modules/clean/api_v2/redux/users","file-viewer/core/middlewares/file_system","file-viewer/core/middlewares/full_screen","file-viewer/core/middlewares/navigation","file-viewer/core/middlewares/native_apps","file-viewer/core/middlewares/network_state","file-viewer/core/middlewares/print","modules/clean/api_v2/redux/seen_state","modules/clean/api_v2/redux/sharing","file-viewer/file_viewer/file_viewer","file-viewer/core/middlewares/asset_url_rewrite","file-viewer/about/plugin/loader","file-viewer/pass/index","file-viewer/preview_excel/tab_selection_handler"],(function(e,t,i,r,n,a,o,s,l,c,d,u,p,f,_,v,g,m,h,b,w,A,y,P,S,E,x){"use strict";function C(e){var t=e.middlewares,r=void 0===t?[]:t,o=e.initialState,s=e.additionalReducers,l=void 0===s?{}:s,c="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?n.compose(n.applyMiddleware.apply(void 0,r),window.__REDUX_DEVTOOLS_EXTENSION__()):n.applyMiddleware.apply(void 0,r),d=i.__assign(i.__assign(i.__assign({},a.reducers),E.reducers),l);return n.createStore(n.combineReducers(d),o,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.createFileViewerFactory=t.createSDKStore=void 0,t.createSDKStore=C,t.createFileViewerFactory=function(e){var t=e.batteries,n=e.callbacks,a=e.featureConfig,I=e.unsafe_reduxExtensions,F=e.initData,R=e.platformConfig,T=null!=I?I:{},O=T.middlewares,D=void 0===O?[]:O,M=T.additionalReducers,k=void 0===M?{}:M,L=T.initialState,B=F.accountId,N=F.deviceType,U=t.optionalIOClients,V=t.coreIOClients,j=t.logger,G=t.intl,W=t.assets,z=V.rivieraIOClient,X=V.apiv2ClientBase,q=U.fileSystemClient,H=U.fullScreenClient,K=U.localCacheClient,Z=U.nativeAppsIOClient,Y=U.navigationClient,J=U.presenceBeaconIOClient,Q=U.printClient,$=U.transformAssetUrl,ee={},te=C({middlewares:i.__spreadArrays(Z?[m.middleware(Z)]:[],K?[p.localCacheMiddleware(K)]:[],Y?[g.middleware(Y)]:[],[h.middleware,s.rivieraDataMiddleware(z),o.middleware(X.ns("previews")),f.middleware(X.ns("users")),u.uiActionRedispatcher,P.assetUrlRewrite($),r.pluginsMiddleware((function(){return Object.keys(ee)}))],J?[E.beaconMiddleware(J)]:[],[A.middleware(X.ns("sharing"))],(null==a?void 0:a.excel_support)?[x.tabSelectionHandler]:[],q?[_.middleware(q)]:[],H?[v.middleware(H)]:[],Q?[b.middleware(Q)]:[],[w.middleware(X.ns("seen_state"))],D,j?[d.analyticsMiddleware(j)]:[]),initialState:L,additionalReducers:k}),ie=c.DEFAULT_CONFIG;a&&(ie=i.__assign(i.__assign({},ie),a));var re=l.resolveAsset.bind(null,W);return{builtInPlugins:{createAboutPluginLoader:function(e){var r,n;void 0===e&&(e={});var a=S.makePluginLoaderDeps(i.__assign({store:te,accountId:B,enableFileActivity:null!==(r=e.enableFileActivity)&&void 0!==r&&r,enableVersionHistory:Boolean(null===(n=t.optionalIOClients.navigationClient)||void 0===n?void 0:n.openVersionHistory)},e));return S.makeAboutPluginLoader(a)}},createFileViewer:y.createFileViewer((function(){return{callbacks:n,intl:G,store:te,resolveAsset:re,accountId:B,deviceType:N||"desktop",config:ie,platformConfig:i.__assign(i.__assign({},y.defaultPlatformConfig),R)}}),X,ee),registerPlugin:function(e,t){ee[e]=t},registerPlugins:function(e){Object.assign(ee,e)}}}})),define("file-viewer/keyboard/index",["require","exports","file-viewer/keyboard/keyboard_provider","file-viewer/keyboard/keyboard_connector","ts-keycode-enum","file-viewer/keyboard/bindings"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardBinding=t.getHomeEndBindings=t.getPageUpDownBindings=t.getUpDownBindings=t.getZoomInOutBindings=t.getFileFlippingBindings=t.Key=t.KeyboardBindingConnector=t.KeyboardBindingProvider=void 0,Object.defineProperty(t,"KeyboardBindingProvider",{enumerable:!0,get:function(){return i.KeyboardBindingProvider}}),Object.defineProperty(t,"KeyboardBindingConnector",{enumerable:!0,get:function(){return r.KeyboardBindingConnector}}),Object.defineProperty(t,"Key",{enumerable:!0,get:function(){return n.Key}}),Object.defineProperty(t,"getFileFlippingBindings",{enumerable:!0,get:function(){return a.getFileFlippingBindings}}),Object.defineProperty(t,"getZoomInOutBindings",{enumerable:!0,get:function(){return a.getZoomInOutBindings}}),Object.defineProperty(t,"getUpDownBindings",{enumerable:!0,get:function(){return a.getUpDownBindings}}),Object.defineProperty(t,"getPageUpDownBindings",{enumerable:!0,get:function(){return a.getPageUpDownBindings}}),Object.defineProperty(t,"getHomeEndBindings",{enumerable:!0,get:function(){return a.getHomeEndBindings}}),Object.defineProperty(t,"getKeyboardBinding",{enumerable:!0,get:function(){return a.getKeyboardBinding}})})),define("file-viewer/keyboard/bindings",["require","exports","tslib","file-viewer/core/data/actions","ts-keycode-enum"],(function(e,t,i,r,n){"use strict";function a(e){return function(t){var i;e(),null!=(i=t)&&null!=i.preventDefault&&t.preventDefault()}}function o(e){return{keyboardEventCriteria:{keyCode:n.Key.PageDown},callback:a(e)}}function s(e){return{keyboardEventCriteria:{keyCode:n.Key.DownArrow},callback:a(e)}}function l(e){return{keyboardEventCriteria:{keyCode:n.Key.End},callback:a(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardBinding=t.getHomeEndBindings=t.getZoomInOutBindings=t.getUpDownBindings=t.getPageUpDownBindings=t.getFileFlippingBindings=void 0,t.getFileFlippingBindings=function(e){return i.__spreadArrays((o=(t=e).dispatch,s=t.fileViewerId,l=t.fileId,c=t.requireCommandKey,d=a((function(){o(r.flipToNextFile({fileViewerId:s,fileIdOrRevisionId:l,sourceContext:"keyboard"}))})),u={keyboardEventCriteria:{keyCode:n.Key.RightArrow,osModifierKey:!0},callback:d},c?[u]:[{keyboardEventCriteria:{keyCode:n.Key.RightArrow},callback:d},u]),(function(e){var t=e.dispatch,i=e.fileViewerId,o=e.fileId,s=e.requireCommandKey,l=a((function(){t(r.flipToPreviousFile({fileViewerId:i,fileIdOrRevisionId:o,sourceContext:"keyboard"}))})),c={keyboardEventCriteria:{keyCode:n.Key.LeftArrow,osModifierKey:!0},callback:l};return s?[c]:[{keyboardEventCriteria:{keyCode:n.Key.LeftArrow},callback:l},c]})(e));var t,o,s,l,c,d,u},t.getPageUpDownBindings=function(e){var t,i=e.pageUp,r=e.pageDown;return[(t=i,{keyboardEventCriteria:{keyCode:n.Key.PageUp},callback:a(t)}),o(r)]},t.getUpDownBindings=function(e){var t,i=e.up,r=e.down;return[(t=i,{keyboardEventCriteria:{keyCode:n.Key.UpArrow},callback:a(t)}),s(r)]},t.getZoomInOutBindings=function(e){var t,r=e.zoomIn,o=e.zoomOut;return i.__spreadArrays((t=r,[{keyboardEventCriteria:{keyCode:n.Key.PlusSign,osModifierKey:!0},callback:a(t)}]),(function(e){return[{keyboardEventCriteria:{keyCode:n.Key.Dash,osModifierKey:!0},callback:a(e)}]})(o))},t.getHomeEndBindings=function(e){var t,i=e.home,r=e.end;return[(t=i,{keyboardEventCriteria:{keyCode:n.Key.Home},callback:a(t)}),l(r)]},t.getKeyboardBinding=function(e){var t=e.keyCode,i=e.callback;return[{keyboardEventCriteria:{keyCode:t},callback:function(){return i()}}]}})),define("file-viewer/keyboard/context",["require","exports","tslib","react"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingContext=void 0,r=i.__importStar(r);var n=function(){};t.KeyboardBindingContext=r.createContext({registerKeyBindings:n,unregisterKeyBindings:n,updateKeyBindings:n})})),define("file-viewer/keyboard/keyboard_binding_map",["require","exports","file-viewer/keyboard/keyboard_binding"],(function(e,t,i){"use strict";function r(e){return i.NormalizedKeyboardEventCriteriaKeys.map((function(t){return t+":"+e[t]})).join("")}function n(e,t){return r(i.normalizeKeyboardEventCriteria(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingMap=void 0;var a=(function(){function e(e,t){this.bindingDict={},this.bindingDict=(function(e,t){return(function(e,t){return e.reduce((function(e,i){var r=i.keyboardEventCriteria,n=i.callback;return e[t(r)]=n,e}),{})})(e,(function(e){return n(e,t)}))})(e,t)}return e.prototype.getCallbackForEvent=function(e){var t=i.normalizeKeyboardEvent(e);return this.bindingDict[r(t)]},e})();t.KeyboardBindingMap=a})),define("file-viewer/keyboard/keyboard_binding",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeKeyboardEventCriteria=t.normalizeKeyboardEvent=t.NormalizedKeyboardEventCriteriaKeys=t.genericNormalizedKeyboardEventCriteria=void 0,t.genericNormalizedKeyboardEventCriteria={altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,keyCode:0},t.NormalizedKeyboardEventCriteriaKeys=Object.keys(t.genericNormalizedKeyboardEventCriteria),t.normalizeKeyboardEvent=function(e){return{altKey:!0===e.altKey,ctrlKey:!0===e.ctrlKey,metaKey:!0===e.metaKey,shiftKey:!0===e.shiftKey,keyCode:e.keyCode}},t.normalizeKeyboardEventCriteria=function(e,t){var i;return(i={altKey:!0===e.altKey,shiftKey:!0===e.shiftKey,keyCode:e.keyCode,ctrlKey:!1,metaKey:!1})[t]=!0===e.osModifierKey,i}})),define("file-viewer/keyboard/keyboard_connector",["require","exports","tslib","react","file-viewer/keyboard/context"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingConnector=void 0;var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.registrationIdentifier=this.context.registerKeyBindings(this.props.keyboardBindings)},t.prototype.componentDidUpdate=function(e){this.props.keyboardBindings!==e.keyboardBindings&&null!=this.registrationIdentifier&&this.context.updateKeyBindings(this.registrationIdentifier,this.props.keyboardBindings)},t.prototype.componentWillUnmount=function(){null!=this.registrationIdentifier&&this.context.unregisterKeyBindings(this.registrationIdentifier)},t.prototype.render=function(){return null},t})((r=i.__importStar(r)).Component);t.KeyboardBindingConnector=a,a.contextType=n.KeyboardBindingContext})),define("file-viewer/keyboard/keyboard_provider",["require","exports","tslib","react","lodash","file-viewer/keyboard/keyboard_binding_map","file-viewer/keyboard/context"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingProvider=t.LISTENER_KEY=void 0,r=i.__importStar(r);var s=o.KeyboardBindingContext.Provider;function l(e){var t=e.target||e.srcElement;if(!t)return!0;var i=t.tagName,r=t.className,n=void 0===r?"":r,a="INPUT"===i||"SELECT"===i||"TEXTAREA"===i,o=t instanceof HTMLInputElement&&("submit"===t.type||"button"==t.type),s=t.hasAttribute&&t.hasAttribute("contenteditable")&&"false"!==t.getAttribute("contenteditable").toLowerCase(),l=-1!==n.split(" ").indexOf("_3iOfxw58sy");return!s&&!l&&(!a||o)}t.LISTENER_KEY="keydown";function c(e){return e.map((function(e){return i.__assign(i.__assign({},e),{callback:n.throttle(e.callback,20)})}))}var d=(function(e){function o(){var t=e.apply(this,arguments)||this;return t.registrationIdentifier=0,t.registeredBindings=[],t.bindingMap=new a.KeyboardBindingMap([],"ctrlKey"),t.registerKeyBindings=function(e){var i=t.registrationIdentifier++;return t.updateKeyBindings(i,e),i},t.unregisterKeyBindings=function(e){t.updateKeyBindings(e,[])},t.updateKeyBindings=function(e,i){t.registeredBindings[e]=null!=i?i:[],t.bindingMap=new a.KeyboardBindingMap(c(n.flatten(t.registeredBindings)),t.props.osModifierKey)},t.onKeyDown=function(e){if(l(e)){var i=t.bindingMap.getCallbackForEvent(e);i&&i(e)}},t.contextValue={registerKeyBindings:t.registerKeyBindings,unregisterKeyBindings:t.unregisterKeyBindings,updateKeyBindings:t.updateKeyBindings},t}return i.__extends(o,e),o.prototype.componentDidMount=function(){!0!==this.props.disableBindings&&document.addEventListener(t.LISTENER_KEY,this.onKeyDown)},o.prototype.componentWillUnmount=function(){document.removeEventListener(t.LISTENER_KEY,this.onKeyDown)},o.prototype.render=function(){return r.createElement(s,{value:this.contextValue},this.props.children)},o})(r.Component);t.KeyboardBindingProvider=d})),define("file-viewer/modes/index",["require","exports","file-viewer/modes/sidebar/sidebar","file-viewer/modes/sidebar/pane","file-viewer/modes/sidebar/control","file-viewer/modes/sidebar/utils","file-viewer/modes/sidebar/pane_title","file-viewer/modes/middleware"],(function(e,t,i,r,n,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.PaneTitle=t.isSidebarOpen=t.createSidebarDispatchHandler=t.SIDEBAR_CLOSED_WIDTH=t.SIDEBAR_OPEN_WIDTH=t.HelloSignControl=t.MarkupControl=t.SlackControl=t.ZoomControl=t.WatermarkControl=t.DocumentationControl=t.CommentControl=t.ProAnalyticsTeamUserControl=t.ProAnalyticsIndividualUserControl=t.Pane=t.Sidebar=void 0,Object.defineProperty(t,"Sidebar",{enumerable:!0,get:function(){return i.Sidebar}}),Object.defineProperty(t,"Pane",{enumerable:!0,get:function(){return r.Pane}}),Object.defineProperty(t,"ProAnalyticsIndividualUserControl",{enumerable:!0,get:function(){return n.ProAnalyticsIndividualUserControl}}),Object.defineProperty(t,"ProAnalyticsTeamUserControl",{enumerable:!0,get:function(){return n.ProAnalyticsTeamUserControl}}),Object.defineProperty(t,"CommentControl",{enumerable:!0,get:function(){return n.CommentControl}}),Object.defineProperty(t,"DocumentationControl",{enumerable:!0,get:function(){return n.DocumentationControl}}),Object.defineProperty(t,"WatermarkControl",{enumerable:!0,get:function(){return n.WatermarkControl}}),Object.defineProperty(t,"ZoomControl",{enumerable:!0,get:function(){return n.ZoomControl}}),Object.defineProperty(t,"SlackControl",{enumerable:!0,get:function(){return n.SlackControl}}),Object.defineProperty(t,"MarkupControl",{enumerable:!0,get:function(){return n.MarkupControl}}),Object.defineProperty(t,"HelloSignControl",{enumerable:!0,get:function(){return n.HelloSignControl}});t.SIDEBAR_OPEN_WIDTH=parseInt("393px",10),t.SIDEBAR_CLOSED_WIDTH=parseInt("57px",10),Object.defineProperty(t,"createSidebarDispatchHandler",{enumerable:!0,get:function(){return a.createSidebarDispatchHandler}}),Object.defineProperty(t,"isSidebarOpen",{enumerable:!0,get:function(){return a.isSidebarOpen}}),Object.defineProperty(t,"PaneTitle",{enumerable:!0,get:function(){return o.PaneTitle}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return s.middleware}})})),define("file-viewer/modes/middleware",["require","exports","file-viewer/core/index","modules/clean/api_v2/redux/comments2","modules/clean/api_v2/redux/files"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(o){if("@@previews/modes/changeMode"!==o.type&&"@@previews/setCurrentFilePreview"!==o.type)return e(o);var s,l,c=o.payload.fileViewerId,d=a().currentFileInfo[c],u=a().modes[c],p="";if("@@previews/modes/changeMode"===o.type?s=o.payload.mode:u&&(s=u.mode),"@@previews/setCurrentFilePreview"===o.type?(p=o.payload.fileInfo.file_id||"",l=o.payload.fileInfo.url):d&&(p=d.file_id,l=d.url),!p&&!l)return e(o);if(s===i.FileViewerMode.Commenting){var f=p?{".tag":"file_path_or_id",file_path_or_id:p}:l?{".tag":"shared_link_details",url:l}:null;f&&t(r.listCommentsAction({arg:{stream:{identifier:f,type:{".tag":"file"}}}}))}else s===i.FileViewerMode.Documentation&&(t(n.getUploadInfoAction({arg:{file_path_or_id:p,url:l}})),t(n.getFileContentMetadataAction({arg:{file_path_or_id:p,url:l}})));return e(o)}}}})),define("file-viewer/modes/sidebar/control_list",["require","exports","tslib","classnames","react","file-viewer/core/index","file-viewer/modes/sidebar/utils","file-viewer/sidebar/toggle_button"],(function(e,t,i,r,n,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlList=void 0,r=i.__importDefault(r),n=i.__importStar(n);var l="_5hRhvsTRDu",c="UwBOjdbhwT",d="_1l56KnLCts _2u9TnyYmDT",u="_1JOG8AxeAH _2u9TnyYmDT",p="_3DfCFtkX0k _2u9TnyYmDT",f="_28j2UUwxL0 _2u9TnyYmDT",_="_1hg15rVhTv";t.ControlList=function(e){var t,v=e.renderSidebarCallToActionsFn,g=e.renderSidebarControlsFn,m=e.renderSidebarOverflowMenuFn,h=e.renderSidebarPASSFn,b=e.pluginMode,w=i.__rest(e,["renderSidebarCallToActionsFn","renderSidebarControlsFn","renderSidebarOverflowMenuFn","renderSidebarPASSFn","pluginMode"]),A=w.fileViewerUiData,y=A.sidebar,P=A.currentMode,S=y.visibility===a.SidebarVisibility.Closed,E=S&&v,x=S&&h,C=o.isEditMode(P)||o.isPluginEditMode(b);return n.createElement("div",{className:r.default(l,(t={},t[c]=C,t)),"aria-hidden":C},n.createElement(s.ToggleButton,Object.assign({},w)),n.createElement("hr",{className:_}),x&&n.createElement("div",{className:d},h(w)),E&&n.createElement("div",{className:u},v(w)),(E||x)&&n.createElement("hr",{className:_}),n.createElement("div",{className:p,role:"tablist"},g(w)),m&&n.createElement(n.Fragment,null,n.createElement("hr",{className:_}),n.createElement("div",{className:f},m(w))))},t.ControlList.displayName="ControlList"})),define("file-viewer/modes/sidebar/control",["require","exports","tslib","classnames","react","spectrum/tooltip","dig-components/icons/src","dig-components/icons","file-viewer/core/index","file-viewer/modes/sidebar/utils"],(function(e,t,i,r,n,a,o,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRenderSidebarControlsFn=t.SlackControl=t.ZoomControl=t.HelloSignControl=t.MarkupControl=t.WatermarkControl=t.CommentControl=t.ProAnalyticsTeamUserControl=t.ProAnalyticsIndividualUserControl=t.DocumentationControl=t.Control=void 0,r=i.__importDefault(r),n=i.__importStar(n);var d="BXSQ8s4gfq",u="_3l-Swh4sdi",p="_33nnkxMPOU",f="_1hQqP-W_56",_="_1C3CBcf46o",v="_33UVYisbPW",g="_8dXPgaeMLM",m="_1eve4QrCBO",h="_15ggD5dslP",b="_1MqE83Y6lv";t.Control=function(e){var t,i,_,v,g,m,h=e.id,b=e.children,w=e.dispatch,A=e.fileViewerUiData,y=e.fileViewerId,P=e.disabled,S=e.onClick,E=e.innerRef,x=e.className;"labelContent"in e?(g=e.ariaLabel,m=e.labelContent):(m=e.labelText,g=null!==(v=e.ariaLabel)&&void 0!==v?v:m);var C=((t={})[l.SidebarControlId.Documentation]=o.InfoLine,t[l.SidebarControlId.Comments]=o.CommentLine,t[l.SidebarControlId.Watermarking]=o.StampLine,t[l.SidebarControlId.Zoom]=o.RecordScreenLine,t[l.SidebarControlId.Slack]=o.CommentLine,t[l.SidebarControlId.Markup]=o.EditLine,t[l.SidebarControlId.HelloSign]=o.SignatureLine,t[l.SidebarControlId.ProAnalytics]=o.AnalyticsLine,t),I=c.isSidebarOpen(A.sidebar)&&A.sidebar.selectedControlId===h;return n.createElement("button",{"aria-label":g,"data-control-id":h===l.SidebarControlId.HelloSign?h:"","data-available":!P,role:"tab",className:r.default(d,x,(i={},i[u]=I,i)),onClick:function(){P||(S&&S(),w(l.sidebarControlClickAction({fileViewerId:y,controlId:h})))},ref:E,"aria-expanded":I,"aria-selected":I},n.createElement(a.Tooltip,{positionOffset:8,positioning:"left",tooltipContent:m},n.createElement(n.Fragment,null,h===l.SidebarControlId.HelloSign?n.createElement("div",{className:r.default(p,(_={},_[f]=P,_))}):n.createElement(s.UIIcon,{src:C[h]}),b)))},t.DocumentationControl=function(e){var i=e.intl;return n.createElement(t.Control,Object.assign({},e,{id:l.SidebarControlId.Documentation,labelText:i.formatMessage({id:"0ztBMB",defaultMessage:"About"})}))},t.ProAnalyticsIndividualUserControl=function(e){return n.createElement(w,Object.assign({},e,{isTeamUser:!1}))},t.ProAnalyticsTeamUserControl=function(e){return n.createElement(w,Object.assign({},e,{isTeamUser:!0}))};var w=function(e){var i,r=e.children,a=e.disabled,o=e.isTeamUser,s=e.intl,c=l.SidebarControlId.ProAnalytics,d=s.formatMessage({id:"fzCjdt",defaultMessage:"Toggle Traffic and insights sidebar"});if(a){var u=(o?s.formatMessage({id:"g6qXZF",defaultMessage:"You dont have access to<br/>traffic and insights for this file"}):s.formatMessage({id:"LqMhh0",defaultMessage:"You can only see<br/>traffic and insights<br/>for your own files"})).split("<br/>").filter((function(e){return""!==e})),p=[];u.forEach((function(e,t){p.push(e),t<u.length-1&&p.push(n.createElement("br",null))})),i={labelContent:n.createElement("div",null,p)}}else i={labelText:s.formatMessage({id:"BEFvHI",defaultMessage:"Traffic and insights"})};return n.createElement(t.Control,Object.assign({},e,{id:c,ariaLabel:d},i),r)};t.CommentControl=function(e){var i,a=e.areAnyThreadsUnread,o=e.disabled,s=e.fileViewerUiData,c=e.intl,d=e.threadCount,u=l.SidebarControlId.Comments,p=o?c.formatMessage({id:"UPO/6i",defaultMessage:"Comments are disabled on this file"}):c.formatMessage({id:"uFbQOk",defaultMessage:"Comments"}),f=c.formatMessage({id:"j0qRv4",defaultMessage:"Toggle Comments Sidebar"});return s.sidebar.visibility===l.SidebarVisibility.Open||null==d||0===d?n.createElement(t.Control,Object.assign({},e,{id:u,ariaLabel:f,labelText:p})):n.createElement(t.Control,Object.assign({},e,{id:u,labelText:p,ariaLabel:f,className:r.default((i={},i[v]=a,i[g]=!a,i[m]=d>99,i))}),n.createElement("div",{className:_},Math.min(d,99)))},t.WatermarkControl=function(e){var i=e.labelText,r=e.intl,a=e.children,o=e.disabled,s=i||r.formatMessage({id:"zeypAU",defaultMessage:"Watermark"});return n.createElement(t.Control,Object.assign({},e,{id:l.SidebarControlId.Watermarking,labelText:s,disabled:o,ariaLabel:s+r.formatMessage({id:"f/MgHq",defaultMessage:"(opens a modal dialog)"})}),a)},t.MarkupControl=function(e){var i=e.labelText,r=e.intl,a=e.children,o=e.disabled,s=i||r.formatMessage({id:"WebGPE",defaultMessage:"Markup"});return n.createElement(t.Control,Object.assign({},e,{id:l.SidebarControlId.Markup,labelText:s,disabled:o,ariaLabel:s+r.formatMessage({id:"f/MgHq",defaultMessage:"(opens a modal dialog)"})}),a)},t.HelloSignControl=function(e){var i=e.intl,r=i.formatMessage({id:"X1C5SI",defaultMessage:"Send for signature"});return n.createElement(t.Control,Object.assign({},e,{id:l.SidebarControlId.HelloSign,labelText:r,ariaLabel:i.formatMessage({id:"/kxPkk",defaultMessage:"HelloSign (opens a modal dialog to send this file to others to get signatures)"})}))},t.ZoomControl=function(e){var i,a=e.intl,o=e.fileViewerUiData.sidebar.selectedControlId===l.SidebarControlId.Zoom;return n.createElement(t.Control,Object.assign({},e,{id:l.SidebarControlId.Zoom,labelText:a.formatMessage({id:"cCjbve",defaultMessage:"Zoom"}),className:r.default((i={},i[h]=o,i))}))},t.SlackControl=function(e){var i,a=e.intl,o=e.fileViewerUiData.sidebar.selectedControlId===l.SidebarControlId.Slack;return n.createElement(t.Control,Object.assign({},e,{id:l.SidebarControlId.Slack,labelText:a.formatMessage({id:"tPcnDE",defaultMessage:"Slack"}),className:r.default((i={},i[h]=o,i[b]=e.hasUnreadMessage,i))}))},t.defaultRenderSidebarControlsFn=function(e){return[n.createElement(t.DocumentationControl,Object.assign({key:"documentation-control"},e)),n.createElement(t.CommentControl,Object.assign({key:"comment-control"},e,{areAnyThreadsUnread:!1,threadCount:0})),n.createElement(t.WatermarkControl,Object.assign({key:"watermark-control"},e))]}})),define("file-viewer/modes/sidebar/header",["require","exports","tslib","react","file-viewer/core/index","file-viewer/modes/sidebar/utils"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,r=i.__importStar(r);var o="_2PGvvyezID",s="JNzCLEJ9KG",l="_38xOCX25Qt",c="_2YfLaf8L7b",d="_15d1-PI7jT";t.Header=function(e){var t=e.renderSidebarCallToActionsFn,u=e.renderSidebarNotificationsFn,p=e.renderSidebarPASSFn,f=e.pluginMode,_=i.__rest(e,["renderSidebarCallToActionsFn","renderSidebarNotificationsFn","renderSidebarPASSFn","pluginMode"]),v=_.fileViewerUiData,g=v.sidebar,m=v.currentMode;return(t||p)&&g.visibility===n.SidebarVisibility.Open&&!a.isEditMode(m)&&!a.isPluginEditMode(f)?r.createElement("div",{className:o},r.createElement("div",{className:s},r.createElement("div",{className:l},p&&p(_)),r.createElement("div",{className:c},t&&t(_))),r.createElement("div",{className:d},u&&u(_))):null},t.Header.displayName="Header"})),define("file-viewer/modes/sidebar/pane_stack",["require","exports","tslib","react","classnames","file-viewer/modes/sidebar/utils"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaneStack=void 0,r=i.__importStar(r),n=i.__importDefault(n);var o="_1I6XjY7iD9",s="lvkSVSVrWv";t.PaneStack=function(e){var t,l=e.registerSidebarPanesFn,c=e.pluginMode,d=i.__rest(e,["registerSidebarPanesFn","pluginMode"]),u=d.fileViewerUiData,p=u.currentMode,f=u.sidebar,_=l(d),v=f.paneStack.map((function(e){var t=_[e];return t||console.error('Unable to find pane with paneId: "'+e+'"'),t})).filter(Boolean);return r.createElement("div",{className:n.default(o,(t={},t[s]=a.isEditMode(p)||a.isPluginEditMode(c),t)),hidden:!a.isSidebarOpen(f)},v)},t.PaneStack.displayName="PaneStack"})),define("file-viewer/modes/sidebar/pane_title",["require","exports","tslib","react","dig-components/typography","dig-components/buttons","dig-components/icons","dig-components/icons/src","file-viewer/core/index","file-viewer/modes/sidebar/utils","file-viewer/core/data/actions"],(function(e,t,i,r,n,a,o,s,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaneTitle=t.PaneTitleComponent=void 0,r=i.__importStar(r);var u="_1h6cAvmgpD",p="_2WnEHzpbLz",f="_2MI7U7kgx4",_="_2ghT5N5NWx";t.PaneTitleComponent=function(e){var t=function(t){switch(t){case l.SidebarPaneId.Documentation:return e.intl.formatMessage({id:"cfsf89",defaultMessage:"Back to about"});case l.SidebarPaneId.Zoom:case l.SidebarPaneId.ZoomCreateMeeting:case l.SidebarPaneId.ZoomMeetingDetail:return e.intl.formatMessage({id:"H68Sgw",defaultMessage:"Zoom"});default:return e.intl.formatMessage({id:"wDKxnL",defaultMessage:"Back"})}};return r.createElement("div",{className:u},e.backButton?r.createElement(a.Button,{variant:"transparent",className:p,onClick:e.backButton.onClick,"aria-label":t(e.backButton.previousPaneId)},r.createElement("span",{className:f},r.createElement(o.UIIcon,{size:"small",src:s.ChevronLeftLine})),r.createElement("span",null,t(e.backButton.previousPaneId))):null,r.createElement(n.Title,{className:_},e.title))};var v=(function(e){function n(){var t=e.apply(this,arguments)||this;return t.canGoBackToPreviousPane=function(){var e=t.props,i=e.paneId,r=e.fileViewerUiData;return c.isSidebarPaneIdAtTopOfStack(i,r.sidebar)&&r.sidebar.paneStack.length>1},t.goBackToPreviousPane=function(){t.props.dispatch(d.popSidebarPane({fileViewerId:t.props.fileViewerId}))},t.getSecondFromTopPane=function(){var e=t.props.fileViewerUiData;return t.canGoBackToPreviousPane()?e.sidebar.paneStack[e.sidebar.paneStack.length-2]:null},t}return i.__extends(n,e),n.prototype.render=function(){var e=this.getSecondFromTopPane();return r.createElement(t.PaneTitleComponent,{title:this.props.title,intl:this.props.intl,backButton:e?{onClick:this.goBackToPreviousPane,previousPaneId:e}:void 0})},n})(r.Component);t.PaneTitle=v})),define("file-viewer/modes/sidebar/pane",["require","exports","tslib","react","file-viewer/modes/sidebar/utils","classnames"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pane=void 0,r=i.__importStar(r),a=i.__importDefault(a);var o="mr8CWsBI-a";t.Pane=function(e){var t=e.fileViewerUiData.sidebar,i=n.isSidebarOpen(t)&&n.isSidebarPaneIdAtTopOfStack(e.paneId,t);return r.createElement("div",{role:"tabpanel",className:a.default(o,e.className),hidden:!i},e.children)},t.Pane.displayName="Pane"})),define("file-viewer/modes/sidebar/sidebar",["require","exports","tslib","classnames","react","file-viewer/modes/sidebar/control_list","file-viewer/modes/sidebar/header","file-viewer/modes/sidebar/pane_stack","file-viewer/modes/sidebar/utils"],(function(e,t,i,r,n,a,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=void 0,r=i.__importDefault(r),n=i.__importStar(n);var c="_1ah_BhOiDc",d="_2HMOm5Hi5o",u="_2SPZ-Zkj0T",p="_35m4GZHt8p",f="B-DKxNW86P";t.Sidebar=function(e){var t,_,v=e.registerSidebarPanesFn,g=e.renderSidebarCallToActionsFn,m=e.renderSidebarControlsFn,h=e.renderSidebarNotificationsFn,b=e.renderSidebarOverflowMenuFn,w=e.renderSidebarPASSFn,A=e.width,y=e.pluginMode,P=i.__rest(e,["registerSidebarPanesFn","renderSidebarCallToActionsFn","renderSidebarControlsFn","renderSidebarNotificationsFn","renderSidebarOverflowMenuFn","renderSidebarPASSFn","width","pluginMode"]),S=l.isSidebarOpen(P.fileViewerUiData.sidebar),E=l.isPluginEditMode(y);return n.createElement("aside",{className:r.default(c,(t={},t[p]=S,t[f]=S&&!E,t)),style:A?{width:A}:void 0},n.createElement(a.ControlList,Object.assign({},P,{renderSidebarCallToActionsFn:g,renderSidebarControlsFn:m,renderSidebarOverflowMenuFn:b,renderSidebarPASSFn:w,pluginMode:y})),n.createElement("div",{className:r.default(d,(_={},_[u]=E,_)),style:A?{width:A-parseInt("56px")}:void 0},n.createElement(o.Header,Object.assign({},P,{renderSidebarCallToActionsFn:g,renderSidebarPASSFn:w,renderSidebarNotificationsFn:h,pluginMode:y})),n.createElement(s.PaneStack,Object.assign({},P,{registerSidebarPanesFn:v,pluginMode:y}))))},t.Sidebar.displayName="Sidebar"})),define("file-viewer/modes/sidebar/utils",["require","exports","file-viewer/core/index"],(function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.isPluginEditMode=t.isEditMode=t.isSidebarPaneIdAtTopOfStack=t.isSidebarOpen=t.createSidebarDispatchHandler=void 0;var n=((r={})[i.SidebarControlId.Documentation]=function(e,t){e(i.changeMode({fileViewerId:t,mode:i.FileViewerMode.Documentation,sourceContext:"sidebar"}))},r[i.SidebarControlId.Comments]=function(e,t){e(i.changeMode({fileViewerId:t,mode:i.FileViewerMode.Commenting,sourceContext:"sidebar"}))},r[i.SidebarControlId.Watermarking]=function(e,t){e(i.changeMode({fileViewerId:t,mode:i.FileViewerMode.Watermarking,sourceContext:"sidebar"}))},r[i.SidebarControlId.Zoom]=function(e,t){e(i.changeMode({fileViewerId:t,mode:i.FileViewerMode.Zoom,sourceContext:"sidebar"}))},r[i.SidebarControlId.Slack]=function(e,t){e(i.changeMode({fileViewerId:t,mode:i.FileViewerMode.Slack,sourceContext:"sidebar"}))},r[i.SidebarControlId.Markup]=function(){},r[i.SidebarControlId.HelloSign]=function(){},r[i.SidebarControlId.ProAnalytics]=function(){},r);t.createSidebarDispatchHandler=function(e,t){return function(i){if((function(e){return"@@previews/sidebarControlClick"===e.type})(i)){var r=i.payload.controlId;return(0,n[r])(e,t,i)}return e(i)}},t.isSidebarOpen=function(e){return e.visibility===i.SidebarVisibility.Open},t.isSidebarPaneIdAtTopOfStack=function(e,t){var i=t.paneStack;return i.length>0&&i[i.length-1]===e},t.isEditMode=function(e){return e===i.FileViewerMode.Watermarking||e==i.FileViewerMode.Markup},t.isPluginEditMode=function(e){return null!=e&&"edit"===e.type}})),define("file-viewer/open_with_native/index",["require","exports","tslib","classnames","react","spectrum/button","spectrum/tooltip","file-viewer/core/index","react-redux"],(function(e,t,i,r,n,a,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenWithButton=t.UnconnectedOpenWithButton=void 0,r=i.__importDefault(r),n=i.__importStar(n);var c="_1aLJVPR-05 BZaZvK1aWa _1y1RJaYN-V",d="_3wUKoRIspz",u="_27y_BWbakH";t.UnconnectedOpenWithButton=function(e){var t=e.dispatch,i=e.intl,l=e.fileId,p=e.fileViewerId,f=e.collapsed,_=e.nativeApps,v=e.variant,g=void 0===v?"secondary":v,m=e.size,h=void 0===m?"default":m,b=e.className,w=void 0===b?"":b,A=e.sourceContext,y=void 0===A?"sidebar":A;if(!l)return null;var P=n.createElement("i",{className:c});if(_){var S=_.default||_.apps[0];S&&S.iconPath&&(P=n.createElement("i",{className:c,style:{backgroundImage:"url("+S.iconPath+")",backgroundSize:16}}))}var E=function(){return t(s.openWith({fileViewerId:p,fileIdOrRevisionId:l,sourceContext:y}))},x=i.formatMessage({id:"tB7wey",defaultMessage:"Open"});return f?n.createElement(o.Tooltip,{closeOnBlur:!0,positioning:"left",tooltipContent:x},n.createElement(a.Button,{size:h,onClick:E,variant:g,className:r.default(u,w),title:x},P)):n.createElement(a.Button,{size:h,onClick:E,variant:g,className:r.default(d,w)},P,x)},t.OpenWithButton=l.connect((function(e,t){var i=t.fileViewerId,r=t.collapsed;if(!e.currentFileInfo[i])return{};var n=e,a=n.modes,o=i,l=n.currentFileInfo[o].file_id;return l?{nativeApps:e.nativeApps[l],fileId:l,collapsed:null==r?a[i].sidebar.visibility===s.SidebarVisibility.Closed:r}:{}}))(t.UnconnectedOpenWithButton)})),define("file-viewer/preview_doc/index",["require","exports","file-viewer/preview_doc/sidebar","file-viewer/preview_doc/links_layer","file-viewer/preview_doc/text_transform","file-viewer/preview_doc/img_layer","file-viewer/preview_doc/text_layer","file-viewer/preview_doc/text_transform","file-viewer/preview_doc/error_snackbar","file-viewer/preview_doc/types","file-viewer/preview_doc/renderer/index","file-viewer/preview_doc/password_modal","file-viewer/preview_doc/layers"],(function(e,t,i,r,n,a,o,s,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLayerRenderFn=t.PasswordModal=t.PreviewPPT=t.PreviewPDF=t.PreviewDoc=t.PdfPages=t.Page=t.TextDir=t.TextNodeType=t.ErrorSnackbar=t.transformText=t.TextLayer=t.ImgLayer=t.normalizeUrl=t.isLinkUrl=t.LinksLayer=t.SIDEBAR_WIDTH=t.Sidebar=void 0,Object.defineProperty(t,"Sidebar",{enumerable:!0,get:function(){return i.Sidebar}}),Object.defineProperty(t,"SIDEBAR_WIDTH",{enumerable:!0,get:function(){return i.SIDEBAR_WIDTH}}),Object.defineProperty(t,"LinksLayer",{enumerable:!0,get:function(){return r.LinksLayer}}),Object.defineProperty(t,"isLinkUrl",{enumerable:!0,get:function(){return r.isLinkUrl}}),Object.defineProperty(t,"normalizeUrl",{enumerable:!0,get:function(){return n.normalizeUrl}}),Object.defineProperty(t,"ImgLayer",{enumerable:!0,get:function(){return a.ImgLayer}}),Object.defineProperty(t,"TextLayer",{enumerable:!0,get:function(){return o.TextLayer}}),Object.defineProperty(t,"transformText",{enumerable:!0,get:function(){return s.transform}}),Object.defineProperty(t,"ErrorSnackbar",{enumerable:!0,get:function(){return l.ErrorSnackbar}}),Object.defineProperty(t,"TextNodeType",{enumerable:!0,get:function(){return c.TextNodeType}}),Object.defineProperty(t,"TextDir",{enumerable:!0,get:function(){return c.TextDir}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return d.Page}}),Object.defineProperty(t,"PdfPages",{enumerable:!0,get:function(){return d.PdfPages}}),Object.defineProperty(t,"PreviewDoc",{enumerable:!0,get:function(){return d.PreviewDoc}}),Object.defineProperty(t,"PreviewPDF",{enumerable:!0,get:function(){return d.PreviewPDF}}),Object.defineProperty(t,"PreviewPPT",{enumerable:!0,get:function(){return d.PreviewPPT}}),Object.defineProperty(t,"PasswordModal",{enumerable:!0,get:function(){return u.PasswordModal}}),Object.defineProperty(t,"defaultLayerRenderFn",{enumerable:!0,get:function(){return p.defaultLayerRenderFn}})})),define("file-viewer/preview_doc/data_transform",["require","exports","tslib","file-viewer/preview_doc/text_transform"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformData=void 0,t.transformData=function(e){return e.metadata&&Array.isArray(e.pages)?e.pages.map((function(e){return i.__assign(i.__assign({},e),{textboxes:e.textboxes.map((function(e){var t=r.transform(e.t);return i.__assign(i.__assign({},e),{transformedText:t.str,dir:t.dir})}))})})):[]}})),define("file-viewer/preview_doc/error_snackbar",["require","exports","tslib","react","spectrum/snackbar"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorSnackbar=void 0,r=i.__importStar(r);function a(){}t.ErrorSnackbar=function(e){var t=e.error,i=e.onSubmit,a=e.onCancel,o=e.className,s=e.intl;return r.createElement(n.Snackbar,{className:"_18ILuEjD0J "+o,title:t,variant:"fail",disablePositioningAndBackdrop:!0},r.createElement(n.SnackbarAction,{onClick:i},s.formatMessage({id:"JlFag9",defaultMessage:"Reload"})),r.createElement(n.SnackbarAction,{onClick:a},s.formatMessage({id:"R/Hjn0",defaultMessage:"Close"})))},t.ErrorSnackbar.defaultProps={error:"",onSubmit:a,onCancel:a}})),define("file-viewer/preview_doc/img_layer",["require","exports","tslib","react","file-viewer/core/data/selectors","file-viewer/core/data/utils"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImgLayer=void 0,r=i.__importStar(r);var o=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.el=null,t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.fireEventHandlersIfNeeded()},t.prototype.componentDidUpdate=function(e){e.fileInfo.file_id!==this.props.fileInfo.file_id&&this.fireEventHandlersIfNeeded()},t.prototype.fireEventHandlersIfNeeded=function(){this.el&&this.el.complete&&(this.el.naturalHeight||this.el.naturalWidth?this.props.onImageLoad(this.props.data.pageIndex):this.props.onImageError(this.props.data.pageIndex))},t.prototype.render=function(){var e,t,i=this,o=this.props,s=o.data,l=s.imgUrls,c=s.dimension[0],d=o.filePreviewUiData,u=o.fileMetadata,p=o.onImageLoad,f=o.onImageError,_=o.config.img_size_optimization,v=n.getCurrentScaleFactorFromFilePreviewUi(d),g=100*v*c/window.innerWidth/window.devicePixelRatio,m=null!==(t=null===(e=a.filterDocFilePreviewUiState(d))||void 0===e?void 0:e.viewportWidth)&&void 0!==t?t:0,h=_?{srcSet:l.srcset,sizes:2*Math.max(g,m)+"vw"}:{};return r.createElement("div",{className:"_1qH62_aIXP"},r.createElement("img",Object.assign({},h,{ref:function(e){return i.el=e},alt:u?u.file_name:"",width:"100%",role:"tabpanel","aria-hidden":"true",draggable:!1,src:v>=2?l["4x"]:l["1x"],onLoad:function(){return p(i.props.data.pageIndex)},onError:function(){return f(i.props.data.pageIndex)}})))},t})(r.PureComponent);t.ImgLayer=o})),define("file-viewer/preview_doc/layers",["require","exports","tslib","react","file-viewer/preview_doc/img_layer","file-viewer/preview_doc/text_layer","file-viewer/preview_doc/links_layer","file-viewer/core/index","lodash","file-viewer/plugins/layers"],(function(e,t,i,r,n,a,o,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageLayerRenderFn=t.defaultLayerRenderFn=void 0,r=i.__importStar(r);var d=l.once((function(){return i.__awaiter(void 0,void 0,void 0,(function(){var t,r,n;return i.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([new Promise((function(t,i){e(["file-viewer/gesture_capture/index"],t,i)})).then(i.__importStar),new Promise((function(t,i){e(["file-viewer/comments2/index"],t,i)})).then(i.__importStar)])];case 1:return t=a.sent(),r=t[0].makeGestureCaptureDecorator,n=t[1].makeDocumentGestureAdapter,[2,r((function(e,t){return[n(e,t)]}))]}}))}))})),u=r.lazy((function(){return i.__awaiter(void 0,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,i){e(["file-viewer/comments2/index"],t,i)})).then(i.__importStar)];case 1:return[2,{default:t.sent().DocAnnotationHighlightLayer}]}}))}))})),p=r.lazy((function(){return i.__awaiter(void 0,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,d()];case 1:return[2,{default:e.sent()}]}}))}))}));function f(e,t,n){var a=e.config,o=e.pluginProps,l=e.activePluginInstance,d=n;if(null!=l&&null!=o){var f=t.data.pageIndex,_=i.__assign(i.__assign({},o),{layer:{dimensions:o.file.pages[f].dimensions,pageIndex:f}}),v=l.ui,g=v.Layer,m=v.unsafe_LayerWithEventBubbling;if(null!=g)return i.__spreadArrays(d,[r.createElement(g,Object.assign({},_))]);if(null!=m)return[r.createElement(c.PortalTargetProvider,null,(function(e){return r.createElement(m,Object.assign({},_),r.createElement(c.PortalWrapper,{element:e},d),r.createElement("div",null))}))]}else if(a.annotations&&(function(e){var t=e.currentMode,i=t.sidebar,r=t.mode;return i.visibility===s.SidebarVisibility.Open&&r===s.FileViewerMode.Commenting})(e))return[r.createElement(r.Suspense,{key:"display-layers",fallback:n},r.createElement(p,Object.assign({key:"gestures"},e,t,{originalSize:{height:t.data.dimension[1],width:t.data.dimension[0]}}),n),",",r.createElement(u,Object.assign({key:"annotations"},e,t)),",")];return n}t.defaultLayerRenderFn=function(e){return function(t){var i=[r.createElement(n.ImgLayer,Object.assign({key:"image"},e,t)),r.createElement(a.TextLayer,Object.assign({key:"text"},e,t)),r.createElement(o.LinksLayer,Object.assign({key:"links"},e,t))];return f(e,t,i)}},t.imageLayerRenderFn=function(e){return function(t){var i=[r.createElement(n.ImgLayer,Object.assign({key:"image"},e,t))];return f(e,t,i)}}})),define("file-viewer/preview_doc/links_layer",["require","exports","tslib","react","file-viewer/preview_doc/text_transform","file-viewer/core/index","file-viewer/core/data/selectors"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinksLayer=t.isLinkUrl=void 0,r=i.__importStar(r);function s(e){return!!e.ur}t.isLinkUrl=s,t.LinksLayer=function(e){var t=e.intl,i=e.filePreviewUiData,l=o.getCurrentScaleFactorFromFilePreviewUi(i);var c=e.data.links.map((function(i,o){var l=i.a,c=i.r,d=c[0],u=c[1],p=c[2],f=c[3];f<0&&(u+=f,f=-f),p<0&&(d+=p,p=-p);var _={position:"absolute",bottom:u,left:d,width:p,height:f};if(s(l)){var v=l.ur,g=v.startsWith("mailto:")||v.startsWith("tel:");return r.createElement("a",{key:o,"aria-label":t.formatMessage({id:"+trcEI",defaultMessage:"External Link"}),href:g?v:n.normalizeUrl(v),onClick:function(){return t=v,void e.dispatch(a.openUrl({url:t}));var t},rel:"noreferrer noopener",style:_,target:"_blank"})}return r.createElement("div",{key:o,className:"qFXGCc3-qr",style:_,"aria-label":t.formatMessage({id:"UU1q+t",defaultMessage:"Internal Link"}),onClick:function(t){return(function(t,i){t.preventDefault(),e.onInternalLinkClicked(i)})(t,l.pn)}})}));return r.createElement("div",{className:"_1GmxSv9K16",style:{transform:"scale("+l+")"}},c)}})),define("file-viewer/preview_doc/password_modal",["require","exports","tslib","react","spectrum/input","spectrum/modal"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordModal=void 0,r=i.__importStar(r);var o=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={password:""},t.handleInputChange=function(e){t.setState({password:e.currentTarget.value})},t.handlePrimaryAction=function(){t.props.onSubmit(t.state.password)},t.handleFormSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.password)},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){"function"==typeof this.props.onComponentDidMount&&this.props.onComponentDidMount()},t.prototype.componentWillReceiveProps=function(){this.setState({password:""})},t.prototype.render=function(){var e=this.props,t=e.enteredWrongPassword,i=e.onDismiss,o=e.intl,s=e.className,l=this.state.password;return r.createElement(a.UtilityModal,{ariaLabel:o.formatMessage({id:"PJ73DL",defaultMessage:"Document Password Modal"}),title:o.formatMessage({id:"jvUwnG",defaultMessage:"This file is password protected"}),primaryAction:o.formatMessage({id:"RS9CyP",defaultMessage:"Submit"}),secondaryAction:o.formatMessage({id:"xuJw2w",defaultMessage:"Cancel"}),overlayClassName:s,onPrimaryAction:this.handlePrimaryAction,onSecondaryAction:i,open:!0},r.createElement("form",{method:"post",onSubmit:this.handleFormSubmit,"data-test":"pdf-password-modal"},r.createElement("label",null,t?o.formatMessage({id:"qW3q74",defaultMessage:"The password you entered is incorrect, please try again."}):o.formatMessage({id:"sr0cDs",defaultMessage:"Enter the password to open this file."})),r.createElement(n.Input,{className:"_2V2DPcVyRQ",type:"password",value:l,variant:t?"invalid":"default",placeholder:o.formatMessage({id:"4RJ0I8",defaultMessage:"Password"}),onChange:this.handleInputChange}),r.createElement("input",{type:"submit",style:{display:"none"}})))},t})(r.PureComponent);t.PasswordModal=o,o.defaultProps={enteredWrongPassword:!1,onSubmit:function(){}}})),define("file-viewer/preview_doc/renderer/index",["require","exports","tslib","react","file-viewer/preview_doc/renderer/small","file-viewer/preview_doc/renderer/large","file-viewer/core/index","file-viewer/preview_error/index","file-viewer/preview_doc/renderer/ppt","file-viewer/preview_doc/renderer/pdf_pages","file-viewer/preview_doc/renderer/pdf","file-viewer/preview_doc/renderer/page"],(function(e,t,i,r,n,a,o,s,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewDoc=t.Page=t.PreviewPDF=t.PdfPages=t.PreviewPPT=void 0,r=i.__importStar(r),Object.defineProperty(t,"PreviewPPT",{enumerable:!0,get:function(){return l.PreviewPPT}}),Object.defineProperty(t,"PdfPages",{enumerable:!0,get:function(){return c.PdfPages}}),Object.defineProperty(t,"PreviewPDF",{enumerable:!0,get:function(){return d.PreviewPDF}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return u.Page}}),t.PreviewDoc=function(e){var t,l=i.__rest(e,[]);return(null===(t=l.rivieraData)||void 0===t?void 0:t.error)&&12!==l.rivieraData.error.statusCode?r.createElement(s.PreviewError,Object.assign({},l,{rivieraData:void 0,data:void 0,error:new o.FVError(o.FVErrorCode.RivieraDataFetchFailure,l.rivieraData.error.message)})):"small"===l.config.size_class?r.createElement(n.SmallPreviewDoc,Object.assign({},l)):r.createElement(a.LargePreviewDoc,Object.assign({},l))}})),define("file-viewer/preview_doc/renderer/large",["require","exports","tslib","react","file-viewer/preview_doc/renderer/ppt","file-viewer/preview_doc/renderer/pdf","file-viewer/core/index","file-viewer/preview_doc/data_transform","file-viewer/preview_doc/password_modal","file-viewer/preview_error/large","file-viewer/keyboard/index","file-viewer/preview_doc/layers","file-viewer/core/utils/index","file-viewer/toolbar/toolbar","file-viewer/modes/sidebar/utils"],(function(e,t,i,r,n,a,o,s,l,c,d,u,p,f,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LargePreviewDoc=void 0,r=i.__importStar(r);var v=parseInt("16px",10),g=parseInt("24px",10),m=parseInt("24px",10),h=parseInt("168px",10),b=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={failedPasswordAttempt:0,passwordDismissed:!1,transformedData:t.props.rivieraData?s.transformData(t.props.rivieraData):t.props.data},t.metadataBatchPageRange=[0,50],t.handlePageChange=function(e,i){t.props.fileInfo.file_id&&t.props.dispatch(o.updateDocCurrentPageIndex({fileViewerId:t.props.fileViewerId,fileIdOrRevisionId:t.props.fileInfo.file_id,pageIndex:e,sourceContext:i}))},t.handlePdfPageChange=function(e){t.handlePageChange(e,"mouse_wheel")},t.handlePasswordSubmit=function(e){var i=t.props,r=i.fileViewerId,n=i.fileInfo.file_id,a=i.previewMetadata;if(a&&a.content&&n){var s=a.content,l=s.refresh_url,c=s.text_url_tmpl,d=s.image_url_tmpl;o.invariant(!!l,o.FVErrorCode.MalformedRivieraData,"Cannot send password! Missing refresh_url from preview metadata"),t.props.dispatch(o.refreshBlobAction({fileViewerId:r,fileIdOrRevisionId:n,refreshUrl:l,oldPreview:{text_url_tmpl:c,image_url_tmpl:d},password:e}))}},t.handlePasswordDismiss=function(){t.setState({passwordDismissed:!0})},t.fetchPageDataWithMetadata=function(e,i,r){var n=t.metadataBatchPageRange=o.calculatePageRange(e),a=n[0],s=n[1];i&&t.props.dispatch(o.fetchPageDataWithMetadata({fileViewerId:t.props.fileViewerId,fileIdOrRevisionId:r,textUrlTmpl:i.content.text_url_tmpl,startPage:a,endPage:s}))},t.onRenderSucceeded=function(){t.props.onRenderSucceeded(),t.fetchPageDataWithMetadata(t.props.filePreviewUiData.currentPageIndex,t.props.previewMetadata,t.props.fileInfo.file_id)},t.zoomIn=function(){var e=t.props,i=e.dispatch,r=e.fileViewerId,n=e.fileInfo;i(o.zoomIn({fileViewerId:r,fileIdOrRevisionId:n.file_id,sourceContext:"keyboard"}))},t.zoomOut=function(){var e=t.props,i=e.dispatch,r=e.fileViewerId,n=e.fileInfo;i(o.zoomOut({fileViewerId:r,fileIdOrRevisionId:n.file_id,sourceContext:"keyboard"}))},t.keyboardBindings=d.getZoomInOutBindings({zoomIn:t.zoomIn,zoomOut:t.zoomOut}),t}return i.__extends(t,e),t.prototype.recalculateFitScaleFactor=function(e){void 0===e&&(e=this.props);var t=e.rivieraData,i=e.coreFileViewerUiData,r=e.fileViewerId,n=e.fileInfo,a=e.width,s=e.height,l=e.dispatch;if(t&&t.metadata){var c=i.isDocSidebarOpen&&this.props.config.enable_navigation_bar,d=Math.max(0,a-v-m-(c?h:0)-15),u=Math.max(0,s-v-g),p=this.props.config.preview_types.ssr_doc,f=p.scaleToFit,_=p.maxWidth,b=null!=_?Math.min(d,_):d,w=u,A=t.metadata.dimensions;if(0===A.length)return 1;var y=A.reduce((function(e,t){var i=t[0],r=t[1];return Math.min(e,b/i,"width_and_height"===f?w/r:Number.POSITIVE_INFINITY)}),Number.POSITIVE_INFINITY);l(o.updateFitScaleFactor({fileViewerId:r,fileIdOrRevisionId:n.file_id,fitScaleFactor:y}))}},t.prototype.componentDidMount=function(){this.recalculateFitScaleFactor()},t.prototype.componentWillReceiveProps=function(e){var t=e.rivieraData,i=e.previewMetadata;this.props.fileInfo.file_id!==e.fileInfo.file_id?this.setState({failedPasswordAttempt:0,passwordDismissed:!1}):t&&t!==this.props.rivieraData&&t.error&&12===t.error.statusCode&&this.setState({failedPasswordAttempt:this.state.failedPasswordAttempt+1}),t!==this.props.rivieraData&&this.setState({transformedData:t?s.transformData(t):e.data});var r=e.filePreviewUiData.currentPageIndex,n=this.metadataBatchPageRange,a=n[0],o=n[1];!(r>=a&&r<=o)&&t&&i&&p.canPreviewInPreviewDoc(i)&&this.fetchPageDataWithMetadata(r,i,e.fileInfo.file_id),this.recalculateFitScaleFactor(e)},t.prototype.render=function(){var e,t=this.props,s=t.config,p=t.fileInfo,g=t.fileMetadata,b=t.filePreviewUiData,w=t.fileViewerId,A=t.height,y=t.intl,P=t.resolveAsset,S=t.rivieraData,E=t.width,x=this.state,C=x.failedPasswordAttempt,I=x.transformedData,F=x.passwordDismissed,R=g?g.file_name:"";if(S&&S.error&&12===S.error.statusCode)return F||C>3?r.createElement(c.PasswordProtected,{fileName:R,intl:y,resolveAsset:P}):r.createElement(l.PasswordModal,{enteredWrongPassword:!!C,intl:y,onSubmit:this.handlePasswordSubmit,onDismiss:this.handlePasswordDismiss});var T=v+m,O=Math.round(100*(E-T-h)/window.innerWidth/window.devicePixelRatio),D=i.__assign(i.__assign({},b),{viewportWidth:O}),M=i.__assign(i.__assign({},this.props),{onRenderSucceeded:this.onRenderSucceeded,filePreviewUiData:D,data:(I||[]).filter((function(e){return e})),onPageChange:this.handlePdfPageChange,layerRenderFn:u.defaultLayerRenderFn,pageNavigation:b.pageNavigation});return r.createElement("div",{className:"G9Vk0xs9k- _2pz0EjZoOj",style:{width:E,height:A}},o.PRESENTATION_EXTS.includes(o.getFileExtension(R))?r.createElement(n.PreviewPPT,Object.assign({},M,{onPageChange:this.handlePageChange})):r.createElement(a.PreviewPDF,Object.assign({},M,{isEditMode:_.isPluginEditMode(null===(e=this.props.activePluginInstance)||void 0===e?void 0:e.mode)})),r.createElement(f.ConfigurableToolbar,{className:"_3tV3E8b1lQ _1COr9ZzNP6",fileId:p.file_id,fileViewerId:w,featureConfig:s,intl:y,previewType:"ssr_doc"}),r.createElement(d.KeyboardBindingConnector,{keyboardBindings:this.keyboardBindings}))},t})(r.PureComponent);t.LargePreviewDoc=b})),define("file-viewer/preview_doc/renderer/page",["require","exports","tslib","react"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0,r=i.__importStar(r);var n=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={},t.onPageRef=function(e){null!=t.props.onRef&&t.props.onRef(t.props.data.pageIndex,e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.scaleFactor,i=e.children,n=e.onMouseMove,a=e.onMouseUp,o=e.onMouseEnter,s=e.onMouseDown,l=e.className,c=e.data,d=e.isFocused,u=c.pageIndex,p=c.dimension,f=p[0],_=p[1];return r.createElement("div",{id:"pageContainer"+(u+1),className:"_3DaXQB8TXp "+(l||""),"data-index":u,style:{width:f*t,height:_*t},onMouseDown:s,onMouseMove:n,onMouseUp:a,onMouseEnter:o,ref:this.onPageRef},i({isFocused:d,data:c}))},t})(r.PureComponent);t.Page=n,n.defaultProps={data:{pageIndex:0,dimension:[0,0],thumbnailUrl:"",imgUrls:{"1x":"","4x":""},textboxes:[],links:[]},scaleFactor:0,children:function(){return null},onRef:function(){}}})),define("file-viewer/preview_doc/renderer/pdf",["require","exports","tslib","react","classnames","file-viewer/preview_doc/sidebar","file-viewer/core/index","file-viewer/preview_doc/renderer/pdf_pages","file-viewer/core/data/selectors","file-viewer/keyboard/index","file-viewer/ui/index"],(function(e,t,i,r,n,a,o,s,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPDF=void 0,r=i.__importStar(r),n=i.__importDefault(n);var u=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.pdfPages=null,t.containerEl=null,t.pageRendered={},t.state={isSidebarFocused:!1,rendered:!1},t.handleSidebarPageChange=function(e){t.focusSidebar(),t.syncStorePageIndex(e,"doc_sidebar"),t.props.onPageNavigation&&t.props.onPageNavigation(e);var i=t.props.logSidebarPageClicked;i&&i()},t.dispatchResolvePageNavigation=function(){t.props.dispatch(o.resolvePageNavigation({fileViewerId:t.props.fileViewerId,fileIdOrRevisionId:t.props.fileInfo.file_id,sourceContext:""}))},t.focusSidebar=function(){t.setState({isSidebarFocused:!0})},t.unfocusSidebar=function(){t.setState({isSidebarFocused:!1})},t.handleCloseFullScreen=function(){var e=t.props,i=e.dispatch,r=e.fileInfo.file_id,n=e.fileViewerId;i(o.exitFullScreen({fileIdOrRevisionId:r,fileViewerId:n,sourceContext:"",isFromOutsideSDK:!1}))},t.handleInternalLinkClicked=function(e){t.props.onPageNavigation&&t.props.onPageNavigation(e),t.syncStorePageIndex(e,"doc_link")},t.handleImageLoad=function(e){t.pageRendered[e]|=2,t.props.onInteractive(),t.checkPageRendered()},t.handleImageError=function(){t.props.onPageImageError&&t.props.onPageImageError()},t.handleTextRendered=function(e){t.pageRendered[e]|=1,t.checkPageRendered()},t.pageDown=function(){t.pdfPages&&t.pdfPages.pageDown()},t.pageUp=function(){t.pdfPages&&t.pdfPages.pageUp()},t.scrollDown=function(){t.pdfPages&&t.pdfPages.scrollDown()},t.scrollUp=function(){t.pdfPages&&t.pdfPages.scrollUp()},t.getKeyboardBindings=function(e){return i.__spreadArrays(c.getPageUpDownBindings({pageUp:t.pageUp,pageDown:t.pageDown}),c.getUpDownBindings(e?{up:t.pageUp,down:t.pageDown}:{up:t.scrollUp,down:t.scrollDown}),c.getHomeEndBindings({home:function(){return t.syncStorePageIndex(0,"keyboard")},end:function(){t.props.rivieraData&&t.syncStorePageIndex(t.props.rivieraData.pages.length-1,"keyboard")}}))},t}return i.__extends(t,e),t.prototype.checkPageRendered=function(){var e=this;this.state.rendered||Object.keys(this.pageRendered).find((function(t){return 3===e.pageRendered[+t]}))&&(this.setState({rendered:!0}),this.props.onRenderSucceeded&&this.props.onRenderSucceeded())},t.prototype.componentWillReceiveProps=function(e){e.fileInfo.file_id!==this.props.fileInfo.file_id&&(this.setState({isSidebarFocused:!1,rendered:!1}),this.pageRendered={},this.syncStorePageIndex(0,"doc_reset"))},t.prototype.getContainerEl=function(){return this.containerEl},t.prototype.syncStorePageIndex=function(e,t){this.props.dispatch(o.pageNavigation({fileViewerId:this.props.fileViewerId,fileIdOrRevisionId:this.props.fileInfo.file_id,sourceContext:t,pageIndex:e}))},t.prototype.jumpToPage=function(e){this.pdfPages&&this.pdfPages.jumpToPage(e)},t.prototype.render=function(){var e,t=this,i=this.props,o=i.activePluginInstance,u=i.className,p=i.config,f=i.coreFileViewerUiData,_=i.currentMode,v=i.data,g=i.dispatch,m=i.fileInfo,h=i.fileMetadata,b=i.filePreviewUiData,w=i.fileViewerId,A=i.height,y=i.intl,P=i.isEditMode,S=i.layerRenderFn,E=i.onMouseDown,x=i.onMouseEnter,C=i.onMouseMove,I=i.onMouseUp,F=i.onPageChange,R=i.onScroll,T=i.pageClassName,O=i.pagesClassName,D=i.pluginProps,M=i.previewMetadata,k=i.resolveAsset,L=i.pluginQueryBus,B=i.width,N=b.currentPageIndex,U=b.isFullScreen,V=l.getCurrentScaleFactorFromFilePreviewUi(b),j=f.isDocSidebarOpen,G=this.state,W=G.isSidebarFocused,z=G.rendered,X=this.props.config.enable_navigation_bar;return r.createElement(r.Fragment,null,r.createElement("article",{className:n.default("_2vSqL8i6js",u,(e={},e["_1ap-bxGOz3 _1Ds_GYaWKr"]=U,e)),style:{visibility:z?"visible":"hidden",width:B,height:A},ref:function(e){return t.containerEl=e}},U&&r.createElement(d.CloseButton,{className:"_2HUekb_iCf",intl:y,onClick:this.handleCloseFullScreen}),z&&X&&!U?r.createElement(a.Sidebar,{isOpened:j,isEditMode:P,currentPageIndex:N,pages:v,intl:y,isFocused:this.state.isSidebarFocused,onPageChange:this.handleSidebarPageChange,onFocus:this.focusSidebar,onBlur:this.unfocusSidebar}):null,r.createElement(s.PdfPages,{className:"EQJE7qmsBz "+O,count:v?v.length:1,height:A,onMouseDown:E,onMouseEnter:x,onMouseMove:C,onMouseUp:I,onPageChange:F,onScroll:R,pageClassName:T,currentPageIndex:N,pages:(v||[]).slice(0,z?void 0:1),ref:function(e){return t.pdfPages=e},scaleFactor:V,width:j?B-a.SIDEBAR_WIDTH:B,pageNavigation:b.pageNavigation,dispatchResolvePageNavigation:this.dispatchResolvePageNavigation,pluginQueryBus:L},S({activePluginInstance:o,config:p,coreFileViewerUiData:f,currentMode:_,dispatch:g,fileInfo:m,fileMetadata:h,filePreviewUiData:b,fileViewerId:w,intl:y,pluginProps:D,previewMetadata:M,resolveAsset:k,onImageError:this.handleImageError,onImageLoad:this.handleImageLoad,onInternalLinkClicked:this.handleInternalLinkClicked,onTextRendered:this.handleTextRendered}))),r.createElement(c.KeyboardBindingConnector,{keyboardBindings:this.getKeyboardBindings(!0===W)}))},t})(r.PureComponent);t.PreviewPDF=u})),define("file-viewer/preview_doc/renderer/pdf_pages",["require","exports","tslib","react","lodash","file-viewer/preview_doc/renderer/pdf_page"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfPages=void 0,r=i.__importStar(r);var o=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={currentPageIndex:0,startPage:0,endPage:0,pagesScrollTop:[]},t.__viewportEl=null,t.viewportElRef=function(e){return t.__viewportEl=e},t.totalPagesHeight=0,t.pageRefs={},t.ol=null,t.handleScrollTopChange=function(){t.__viewportEl&&t.setStateForStartAndEndPage(t.state.pagesScrollTop)},t.throttledHandleScrollTopChange=n.throttle((function(){return t.handleScrollTopChange()}),50,{leading:!0}),t.getPageForSelection=function(e){if(null!=e)for(var i=0,r=Object.values(t.pageRefs);i<r.length;i++){var n=r[i],a=n.pageIndex,o=n.el;if(null!=o&&null!=e.anchorNode&&e.anchorNode.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINS&&null!=e.focusNode&&e.focusNode.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINS)return a}},t.scrollDown=function(){t.__viewportEl&&t.__viewportEl.scrollTo(0,t.__viewportEl.scrollTop+60)},t.scrollUp=function(){t.__viewportEl&&t.__viewportEl.scrollTo(0,t.__viewportEl.scrollTop-60)},t.pageUp=function(){t.scrollToPage(Math.max(0,t.state.currentPageIndex-1))},t.pageDown=function(){t.props.count&&t.scrollToPage(Math.min(t.props.count-1,t.state.currentPageIndex+1))},t.capturePageRef=function(e,i){null==i?delete t.pageRefs[e]:t.pageRefs[e]={el:i,pageIndex:e}},t.jumpToPage=function(e){t.scrollToPage(e)},t}return i.__extends(t,e),t.prototype.getMargin=function(){return 16},t.prototype.computeScrollTops=function(){for(var e=this.props,t=e.pages,i=e.scaleFactor,r=[16],n=16,a=1;a<t.length;++a){var o=t[a-1].dimension[1]*i+16;r.push(n+o),n+=o}if(t.length>0){var s=t[t.length-1].dimension[1]*i;this.totalPagesHeight=n+s+32}return this.setState({pagesScrollTop:r}),r},t.prototype.setStateForStartAndEndPage=function(e){var t=this;if(this.__viewportEl){var i=[n.sortedIndex(e,this.__viewportEl.scrollTop)-1,n.sortedIndex(e,this.__viewportEl.scrollTop+this.__viewportEl.offsetHeight)+1],r=i[0],a=i[1],o={startPage:Math.max(0,r-10),endPage:Math.min(t.props.pages.length-1,a+10)},s=o.startPage,l=o.endPage,c=this.totalPagesHeight,d=this.__viewportEl.offsetHeight,u=~~Math.max(0,c-d),p=~~this.__viewportEl.scrollTop>=u?a:r;this.setState({startPage:s,endPage:l,currentPageIndex:p})}},t.prototype.scrollToPage=function(e,t){void 0===t&&(t=null);var i=this.props.count;if(!(e<0||e>=i)&&this.ol&&this.__viewportEl){var r=t?t[e]:this.state.pagesScrollTop[e];this.__viewportEl.scrollTop=r+16}},t.prototype.componentWillReceiveProps=function(e){e.pageNavigation&&(this.props.dispatchResolvePageNavigation(),this.scrollToPage(e.pageNavigation.pageIndex))},t.prototype.componentDidMount=function(){var e=this.computeScrollTops();this.__viewportEl&&this.setStateForStartAndEndPage(e),null!=this.props.pluginQueryBus&&this.props.pluginQueryBus.handleQuery("getPageForSelection",this.getPageForSelection)},t.prototype.componentDidUpdate=function(e,t){if(t.currentPageIndex!==this.state.currentPageIndex&&this.props.onPageChange&&this.props.onPageChange(this.state.currentPageIndex,e.currentPageIndex),e.pages!==this.props.pages||e.scaleFactor!==this.props.scaleFactor){var i=this.computeScrollTops();this.setStateForStartAndEndPage(i),e.scaleFactor!==this.props.scaleFactor&&this.scrollToPage(this.state.currentPageIndex,i)}},t.prototype.makePdfPage=function(e){var t=this.props,i=t.children,n=t.pages,o=t.onMouseDown,s=t.onMouseEnter,l=t.onMouseMove,c=t.onMouseUp,d=t.pageClassName,u=t.scaleFactor,p=t.width,f=n[e],_=this.state.pagesScrollTop[e];return r.createElement(a.PdfPage,{containerWidth:p,key:f.pageIndex,index:e,pageData:f,currentPageIndex:this.state.currentPageIndex,onMouseDown:o,onMouseEnter:s,onMouseMove:l,onMouseUp:c,onRef:this.capturePageRef,pageClassName:d,scaleFactor:u,top:_,children:i,margin:16})},t.prototype.render=function(){var e=this,t=this.props,i=t.className,n=t.pages,a=this.state,o=a.startPage,s=a.endPage,l={height:this.totalPagesHeight};return r.createElement("div",{className:i,onScroll:this.throttledHandleScrollTopChange,ref:this.viewportElRef},r.createElement("ol",{ref:function(t){return e.ol=t},style:l},n.slice(o,s+1).map((function(t,i){return e.makePdfPage(o+i)}))))},t})(r.PureComponent);t.PdfPages=o})),define("file-viewer/preview_doc/renderer/ppt",["require","exports","tslib","react","lodash","file-viewer/preview_doc/sidebar","file-viewer/core/index","file-viewer/core/utils/index","file-viewer/preview_doc/renderer/page","file-viewer/core/data/selectors","file-viewer/keyboard/index","file-viewer/ui/index"],(function(e,t,i,r,n,a,o,s,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPPTWithOnlyImageLayer=t.PreviewPPT=void 0,r=i.__importStar(r);function p(e,t){return s.calculateFitBox(t[0],t[1],e[0]/e[1])[0]/e[0]}var f=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={isSidebarFocused:!0,rendered:!1},t.pageRendered={},t.focusSidebar=function(){t.setState({isSidebarFocused:!0})},t.unfocusSidebar=function(){t.setState({isSidebarFocused:!1})},t.handleSidebarPageChange=function(e){t.focusSidebar(),t.props.onPageChange&&t.props.onPageChange(e,"doc_sidebar")},t.handleWheel=n.debounce((function(e){var i=t.props,r=i.data,n=i.width,a=i.height,o=i.filePreviewUiData,s=i.onPageChange;if(r.length){var l=o.currentPageIndex,d=c.getCurrentScaleFactorFromFilePreviewUi(o),u=p(r[l].dimension,[n,a]);d.toFixed(2)<=u.toFixed(2)&&s&&s(l+(e.deltaY>0?1:-1),"mouse_wheel")}}),40,{leading:!0,trailing:!1}),t.handleClose=function(){var e=t.props,i=e.dispatch,r=e.fileInfo.file_id,n=e.fileViewerId;i(o.exitFullScreen({fileIdOrRevisionId:r,fileViewerId:n,sourceContext:"",isFromOutsideSDK:!1}))},t.handleImageLoad=function(e){return t.pageRendered[e]|=2,t.props.onInteractive(),t.checkPageRendered()},t.handleTextRendered=function(e){t.pageRendered[e]|=1,t.checkPageRendered()},t.changePage=function(e,i){(0,t.props.onPageChange)(e,i)},t.pageFirst=function(e){t.changePage(0,e)},t.pageLast=function(e){var i=t.props.rivieraData;i&&t.changePage(i.pages.length-1,e)},t.pageNext=function(e){var i=t.props.filePreviewUiData.currentPageIndex;t.changePage(i+1,e)},t.pagePrev=function(e){var i=t.props.filePreviewUiData.currentPageIndex;t.changePage(i-1,e)},t.pageUpKeyboard=function(){return t.pagePrev("keyboard")},t.pageDownKeyboard=function(){return t.pageNext("keyboard")},t.pageFirstKeyboard=function(){return t.pageFirst("keyboard")},t.pageLastKeyboard=function(){return t.pageLast("keyboard")},t.keyboardBindings=i.__spreadArrays(d.getPageUpDownBindings({pageUp:t.pageUpKeyboard,pageDown:t.pageDownKeyboard}),d.getUpDownBindings({up:t.pageUpKeyboard,down:t.pageDownKeyboard}),d.getHomeEndBindings({home:t.pageFirstKeyboard,end:t.pageLastKeyboard})),t}return i.__extends(t,e),t.prototype.checkPageRendered=function(){var e=this;!this.state.rendered&&Object.keys(this.pageRendered).find((function(t){return 3===e.pageRendered[+t]}))&&(this.setState({rendered:!0}),this.props.onRenderSucceeded&&this.props.onRenderSucceeded())},t.prototype.handleInternalLinkClicked=function(){},t.prototype.handleImageError=function(){},t.prototype.componentWillReceiveProps=function(e){e.fileInfo.file_id!==this.props.fileInfo.file_id&&(this.setState({isSidebarFocused:!1,rendered:!1}),this.pageRendered={},this.props.onPageChange&&this.props.onPageChange(0,"doc_reset"))},t.prototype.componentDidUpdate=function(){this.props.pageNavigation&&(this.props.onPageChange(this.props.pageNavigation.pageIndex,""),this.props.dispatch(o.resolvePageNavigation({fileIdOrRevisionId:this.props.fileInfo.file_id,fileViewerId:this.props.fileViewerId,sourceContext:""})))},t.prototype.render=function(){var e=this.props,t=e.activePluginInstance,i=e.className,n=e.config,o=e.coreFileViewerUiData,s=e.currentMode,p=e.data,f=e.dispatch,_=e.fileInfo,v=e.fileMetadata,g=e.filePreviewUiData,m=e.fileViewerId,h=e.height,b=e.intl,w=e.layerRenderFn,A=e.onPageMouseDown,y=e.onPageMouseEnter,P=e.onPageMouseMove,S=e.onPageMouseUp,E=e.pageClassName,x=e.pluginProps,C=e.previewMetadata,I=e.refCallback,F=e.resolveAsset,R=e.width,T=e.pageNavigation,O=T?T.pageIndex:g.currentPageIndex,D=c.getCurrentScaleFactorFromFilePreviewUi(g),M=g.isFullScreen,k=o.isDocSidebarOpen,L=this.state,B=L.isSidebarFocused,N=L.rendered,U=N&&n.enable_navigation_bar;return r.createElement(r.Fragment,null,r.createElement("article",{ref:I,className:"_2vSqL8i6js "+i,style:{visibility:N?"visible":"hidden",height:h,width:R}},M&&r.createElement(u.CloseButton,{intl:b,onClick:this.handleClose,isInverse:!1}),U?r.createElement(a.Sidebar,{currentPageIndex:O,pages:p,intl:b,isFocused:B,onPageChange:this.handleSidebarPageChange,onFocus:this.focusSidebar,onBlur:this.unfocusSidebar,isOpened:k}):null,r.createElement("section",{className:"_3e2JnVcNbI",onWheel:this.handleWheel},r.createElement(l.Page,{className:E,key:O,onMouseDown:A,onMouseEnter:y,onMouseMove:P,onMouseUp:S,data:p?p[O]:void 0,scaleFactor:D},w({activePluginInstance:t,config:n,coreFileViewerUiData:o,currentMode:s,dispatch:f,fileInfo:_,fileMetadata:v,filePreviewUiData:g,fileViewerId:m,intl:b,pluginProps:x,previewMetadata:C,resolveAsset:F,onImageError:this.handleImageError,onImageLoad:this.handleImageLoad,onInternalLinkClicked:this.handleInternalLinkClicked,onTextRendered:this.handleTextRendered})))),r.createElement(d.KeyboardBindingConnector,{keyboardBindings:this.keyboardBindings}))},t})(r.PureComponent);t.PreviewPPT=f;var _=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkPageRendered=function(){var e=this;!this.state.rendered&&Object.keys(this.pageRendered).find((function(t){return 2===e.pageRendered[+t]}))&&(this.setState({rendered:!0}),this.props.onRenderSucceeded&&this.props.onRenderSucceeded())},t})(f);t.PreviewPPTWithOnlyImageLayer=_})),define("file-viewer/preview_doc/renderer/small",["require","exports","tslib","react","lodash","file-viewer/preview_doc/renderer/ppt","file-viewer/core/index","file-viewer/preview_doc/data_transform","spectrum/button","classnames","file-viewer/preview_doc/layers"],(function(e,t,i,r,n,a,o,s,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPreviewDoc=void 0,r=i.__importStar(r),c=i.__importDefault(c);var u="_1CIkDUjGqw _1y1RJaYN-V",p="_2VTgQuo8Gi _1y1RJaYN-V",f="_20Xpz0zDDM",_="_3SUOjyeG89",v="qA1ed4Tq83",g="MUq3pmXvIh",m="_1ZWyX-ZhFS",h="_JeN3tT9RP",b=function(e){var t=r.useState(!1),i=t[0],o=t[1],s=r.useState(!1),l=s[0],c=s[1],d=e.data,u=e.rivieraData,p=e.width,f=e.height,_=e.fileInfo,v={width:p,height:f,objectFit:"contain",visibility:i?"visible":"hidden"};return u&&!u.error&&0===d.length&&!l?r.createElement("img",{style:v,src:_.prewarm_url,onError:function(){return c(!0)},onLoad:function(){o(!0),e.onRenderSucceeded()}}):r.createElement(a.PreviewPPTWithOnlyImageLayer,Object.assign({},e,{onRenderSucceeded:i?n.noop:e.onRenderSucceeded}))},w=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={fitScaleFactor:0,transformedData:t.props.rivieraData?s.transformData(t.props.rivieraData):null},t.handlePageChange=function(e,i){null!=t.state.transformedData&&t.props.dispatch(o.updateDocCurrentPageIndex({fileViewerId:t.props.fileViewerId,fileIdOrRevisionId:t.props.fileInfo.file_id,pageIndex:e,pageCount:t.state.transformedData.length,sourceContext:i}))},t}return i.__extends(t,e),t.prototype.recalculateFitScaleFactor=function(e){void 0===e&&(e=this.props);var t=e.rivieraData,i=e.width,r=e.height;t&&t.metadata&&this.setState({fitScaleFactor:Math.max(0,Math.min.apply(Math,t.metadata.dimensions.reduce((function(e,t){var n=t[0],a=t[1];return e.concat([i/n,r/a])}),[])))})},t.prototype.componentDidMount=function(){this.recalculateFitScaleFactor()},t.prototype.componentWillReceiveProps=function(e){var t=e.rivieraData;t!==this.props.rivieraData&&this.setState({transformedData:t?s.transformData(t):null}),this.recalculateFitScaleFactor(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.rivieraData,a=t.intl,o=t.filePreviewUiData.currentPageIndex,s=this.state,w=s.transformedData,A=s.fitScaleFactor;if(null==w)return null;var y=this.props,P=y.filePreviewUiData,S=y.coreFileViewerUiData,E=w.length;if(n&&n.error&&12===n.error.statusCode)return r.createElement("div",{className:f},"Password required");S&&(S=i.__assign(i.__assign({},S),{isDocSidebarOpen:!1})),P&&(P.zoomScaleFactor||(P=i.__assign(i.__assign({},P),{zoomScaleFactor:A})));var x=a.formatMessage({id:"Y8k/6r",defaultMessage:"Previous Page"}),C=a.formatMessage({id:"NVFZOB",defaultMessage:"Next Page"});return r.createElement("div",{className:_},o>0&&r.createElement(l.Button,{onClick:function(){return e.handlePageChange(o-1,"tray_button")},"aria-label":x,title:x,className:c.default(v,m)},r.createElement("i",{className:u})),r.createElement(b,Object.assign({},this.props,{coreFileViewerUiData:S,filePreviewUiData:P,data:w,onPageChange:this.handlePageChange,layerRenderFn:d.imageLayerRenderFn,pageNavigation:P.pageNavigation})),o<E-1&&r.createElement(l.Button,{onClick:function(){return e.handlePageChange(o+1,"tray_button")},"aria-label":C,title:C,className:c.default(v,g),disabled:o>=E-1},r.createElement("i",{className:p})),E>0&&r.createElement("div",{className:h},o+1+"/"+E))},t})(r.PureComponent);t.SmallPreviewDoc=w})),define("file-viewer/preview_doc/renderer/pdf_page",["require","exports","tslib","react","file-viewer/preview_doc/renderer/page"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfPage=void 0;var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.index,i=e.containerWidth,a=e.pageData,o=e.currentPageIndex,s=e.onMouseDown,l=e.onMouseEnter,c=e.onMouseMove,d=e.onMouseUp,u=e.onRef,p=e.pageClassName,f=e.scaleFactor,_=e.children,v=e.top,g=e.margin,m=a.dimension,h=m[0]*f,b={width:h,height:m[1]*f,margin:g+"px auto",transform:"translateX(-"+(50-Math.max(h-i,0)/2/h*100)+"%) translateY("+v+"px)"};return r.createElement("li",{"data-index":t,key:t,style:b},r.createElement(n.Page,{className:p,data:a,onMouseDown:s,onMouseEnter:l,onMouseMove:c,onMouseUp:d,scaleFactor:f,isFocused:o===t,onRef:u},_))},t})((r=i.__importStar(r)).PureComponent);t.PdfPage=a})),define("file-viewer/preview_doc/sidebar",["require","exports","tslib","react","classnames","file-viewer/core/index","lodash"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=t.InternalSidebarItem=t.SIDEBAR_WIDTH=void 0,r=i.__importStar(r),n=i.__importDefault(n);var s={border:"4px",container:"_2v4PoiRsrH",open:"_3xDsfsL9DL",isEditMode:"_2L_B-TokI_",thumbnail:"_2ClAleT9eY",loader:"_3H2YpoVw2D _3fqREDOmbd",selected:"_1WLEsxcjZm",focused:"_2AVKrdcdST",isUnfocusedInEditMode:"X8P0jQUJB_",thumbnailWidth:"112px",sidebarWidth:"168px"};t.SIDEBAR_WIDTH=parseInt(s.sidebarWidth,10);var l=parseInt(s.thumbnailWidth,10),c=parseInt(s.border,10),d=l-2*c;var u=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={error:!1,loaded:!1},t.handleLoad=function(e){t.setState({loaded:!0})},t.handleError=function(e){t.setState({error:!0})},t}return i.__extends(t,e),t.prototype.componentDidUpdate=function(e){!0===this.props.isSidebarFocused&&!0===this.props.isSelected&&!0!==e.isSelected&&this.ref&&this.ref.focus()},t.prototype.render=function(){var e,t=this,i=this.props,a=i.isSelected,o=i.onClick,s=i.index,l=i.css,u=i.intl,p=i.thumbnailUrl,f=i.aspectRatio,_=i.isVisible,v=i.isEditMode,g=i.isSidebarFocused,m=i.top,h=this.state,b=h.error,w=h.loaded,A=s+1,y=u.formatMessage({id:"HL27OJ",defaultMessage:"Page {index}"},{index:A});return r.createElement("li",{"data-index":s,style:{transform:"translateY("+m+"px"}},r.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(s)},tabIndex:-1,"aria-current":a?"page":void 0,"aria-label":y,ref:function(e){return null!=e&&(t.ref=e)}},r.createElement("div",{className:n.default(l.thumbnail,(e={},e[l.selected]=a,e[l.isUnfocusedInEditMode]=v&&!g,e)),style:{height:d*f+2*c}},!_||(b||w)&&p?void 0:r.createElement("i",{className:l.loader}),_&&p&&!b?r.createElement("img",{src:p,onLoad:this.handleLoad,onError:this.handleError,alt:""}):void 0),r.createElement("span",{"aria-hidden":!0},A)))},t})(r.Component);t.InternalSidebarItem=u;var p=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.containerHeight=0,t.state={startPage:0,endPage:0,startPageNoBuffer:0,endPageNoBuffer:0,pagesScrollTop:[],totalPagesHeight:0},t.handleScrollTopChange=function(){t.ol&&t.setStateForStartAndEndPage(t.state.pagesScrollTop)},t.throttledHandleScrollTopChange=o.throttle((function(){return t.handleScrollTopChange()}),50,{leading:!0}),t}return i.__extends(t,e),t.prototype.computeScrollTops=function(){var e=this.props.pages;if(0==e.length)return[];for(var t=[16],i=16,r=0;r<e.length-1;++r){var n=e[r].dimension,a=d*n[1]/n[0]+2*c+16+20;t.push(i+a),i+=a}var o=e[e.length-1].dimension,s=i+(d*o[1]/o[0]+2*c)+32;return this.state.totalPagesHeight=s,this.setState({pagesScrollTop:t,totalPagesHeight:s}),t},t.prototype.scrollToItemIfNeeded=function(e){var t=this.state,i=t.startPageNoBuffer,r=t.endPageNoBuffer,n=this.props.pages;e<0||e>=n.length||!this.nav||(e<i||e>=r)&&(this.nav.scrollTop=this.state.pagesScrollTop[e])},t.prototype.setStateForStartAndEndPage=function(e){var t=[o.sortedIndex(e,this.nav.scrollTop),o.sortedIndex(e,this.nav.scrollTop+this.nav.offsetHeight)],i=t[0],r=t[1];this.setState({startPageNoBuffer:i,endPageNoBuffer:r,startPage:Math.max(0,i-10),endPage:Math.min(this.props.pages.length-1,r+10)})},t.prototype.shouldComponentUpdate=function(e,t){var r=this.props,n=r.pages,o=i.__rest(r,["pages"]),s=e.pages,l=i.__rest(e,["pages"]);return!a.shallowEqual(o,l)||!a.shallowEqual(this.state,t)||!(function(e,t){return e.length===t.length&&!e.find((function(e,i){return e.thumbnailUrl!==t[i].thumbnailUrl}))})(n,s)},t.prototype.componentDidMount=function(){var e=this.computeScrollTops();this.setStateForStartAndEndPage(e),this.containerHeight=this.nav.offsetHeight},t.prototype.componentDidUpdate=function(e){this.nav&&this.nav.offsetHeight!==this.containerHeight&&(this.setStateForStartAndEndPage(this.state.pagesScrollTop),this.containerHeight=this.nav.offsetHeight),this.props.currentPageIndex!==e.currentPageIndex&&this.scrollToItemIfNeeded(this.props.currentPageIndex)},t.prototype.render=function(){var e,t=this,i=this.props,a=i.currentPageIndex,o=i.isFocused,l=i.onBlur,c=i.onFocus,d=i.pages,p=i.intl,f=i.style,_=i.isOpened,v=i.isEditMode,g=this.state,m=g.startPage,h=g.endPage,b=g.totalPagesHeight,w=d.slice(m,h+1).map((function(e,i){var n=i+m;return r.createElement(u,{key:n,isSelected:a===n,onClick:t.props.onPageChange,index:n,intl:p,thumbnailUrl:e.thumbnailUrl,css:s,isVisible:!0,aspectRatio:e.dimension[1]/e.dimension[0],isSidebarFocused:!0===o,isEditMode:v,top:t.state.pagesScrollTop[n]})})),A={height:b};return r.createElement("div",{className:n.default(s.container,(e={},e[s.focused]=o,e[s.open]=_,e[s.isEditMode]=v,e)),"aria-label":p.formatMessage({id:"HzLiwF",defaultMessage:"Document Sidebar"}),style:f,ref:function(e){return t.nav=e},onScroll:this.throttledHandleScrollTopChange},r.createElement("ol",{"aria-label":p.formatMessage({id:"J/2gSB",defaultMessage:"Page list"}),ref:function(e){return t.ol=e},tabIndex:_?0:-1,onFocus:c,onBlur:l,style:A},w))},t})(r.Component);t.Sidebar=p,p.defaultProps={currentPageIndex:0,pages:[],onPageChange:function(){}}})),define("file-viewer/preview_doc/text_box",["require","exports","tslib","react"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextBox=void 0,r=i.__importStar(r);t.TextBox=function(e){var t=e.data,i=t.r,n=i[0],a=i[1],o=i[2],s=i[3],l=t.d,c=t.dir,d=t.transformedText,u=t.font,p=t.h,f=e.onClickLink;a=-a;var _={fontSize:p};if(l&&(_.transform="rotate("+-l+"rad)",_.transformOrigin=n+"px "+a+"px"),u&&(_.fontFamily=u.fontFamily,u.isBold&&(_.fontWeight="bold"),u.isItalic&&(_.fontStyle="italic")),1===d.length){var v=d[0];return r.createElement("text",{className:"_3ziulaHePS",direction:c,height:s,lengthAdjust:"spacingAndGlyphs",style:_,textLength:o,x:n,y:a,"data-test":"textbox"},v.text)}var g=d.reduce((function(e,t){return e+t.text.length}),0),m=0,h=d.map((function(e,t){var i=m/g*o+n,l=e.text.length/g*o,c=r.createElement("text",{height:s,key:t,lengthAdjust:"spacingAndGlyphs",textLength:l,x:i,y:a},e.text);switch(m+=e.text.length,e.type){case 1:var d="mailto:"+e.text;return r.createElement("a",{key:t,href:d,referrerPolicy:"no-referrer",onClick:function(){return f(d)}},c);case 2:return r.createElement("a",{key:t,href:e.href,target:"_blank",rel:"noreferrer noopener",referrerPolicy:"no-referrer",onClick:function(){return f(e.href)}},c);default:return c}}));return r.createElement("g",{className:"_3ziulaHePS",direction:c,style:_,"data-test":"textbox"},h)}})),define("file-viewer/preview_doc/text_layer",["require","exports","tslib","react","file-viewer/preview_doc/text_box","file-viewer/core/index","file-viewer/core/data/selectors"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayer=void 0,r=i.__importStar(r);var s=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.handleLinkClick=function(e){e&&t.props.dispatch(a.openUrl({url:e}))},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.onTextRendered(this.props.data.pageIndex)},t.prototype.componentDidUpdate=function(e){e.data!==this.props.data&&this.props.onTextRendered(this.props.data.pageIndex)},t.prototype.render=function(){var e=this,t=this.props,i=t.data,a=i.textboxes,s=i.dimension,l=s[0],c=s[1],d=t.filePreviewUiData,u={transform:"scale("+o.getCurrentScaleFactorFromFilePreviewUi(d)+")"},p=a.map((function(t,i){return r.createElement(n.TextBox,{onClickLink:e.handleLinkClick,key:i,data:t})}));return r.createElement("svg",{className:"_3ndj83M4eq",viewBox:"0 -"+c+" "+l+" "+c,width:l,height:c,style:u,"data-test":"text-layer"},p)},t})(r.PureComponent);t.TextLayer=s})),define("file-viewer/preview_doc/text_transform",["require","exports","modules/clean/react/previews/pdf_viewer/text/unicode","modules/clean/react/previews/pdf_viewer/text/bidi"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transform=t.normalizeUrl=void 0;var n=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,a=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,63}/,o=/(\s+)/;function s(e){return"http"===e.substr(0,4)?e:"http://"+e}function l(e){return e.split(o).map((function(e){return o.test(e)?{type:0,text:e.replace("\t"," ")}:a.test(e)?{text:e,type:1}:(t=e.match(n))&&t[2]&&t[4]?{href:s(e),text:e,type:2}:{type:0,text:e};var t})).reduce((function(e,t){var i=e[e.length-1];return i&&0===i.type&&0===t.type?i.text+=t.text:e.push(t),e}),[])}t.normalizeUrl=s,t.transform=function(e){for(var t=i.getNormalizedUnicodes(),n="",a=0;a<e.length;a++){var o=e.charAt(a);void 0!==t[o]&&(o=t[o]),"\t"===(o=i.reverseIfRtl(o))&&(o=" "),n+=o}var s=r.bidi(n,-1,!1);return{dir:s.dir,str:l(s.str)}}})),define("file-viewer/preview_doc/types",["require","exports"],(function(e,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.TextNodeType=t.TextDir=void 0,(i=t.TextDir||(t.TextDir={})).ltr="ltr",i.rtl="rtl",i.ttb="ttb",(r=t.TextNodeType||(t.TextNodeType={}))[r.text=0]="text",r[r.email=1]="email",r[r.link=2]="link"})),define("file-viewer/preview_error/index",["require","exports","tslib","react","file-viewer/preview_error/small","file-viewer/preview_error/large"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewError=void 0,r=i.__importStar(r),t.PreviewError=function(e){return"small"===e.config.size_class?r.createElement(n.SmallPreviewError,Object.assign({},e)):r.createElement(a.LargePreviewError,Object.assign({},e))}})),define("file-viewer/preview_error/large",["require","exports","tslib","react","file-viewer/core/index","file-viewer/open_with_native/index","spectrum/button"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LargePreviewError=t.UserOffline=t.FileUploading=t.FileTooLarge=t.NoExtension=t.Unavailable=t.PasswordProtected=t.FiletypeNotSupported=void 0,r=i.__importStar(r);var s="_1gUqDp17RI",l="GVbENI6bxm",c="_1d_V7x7-Fc",d="_2BEWvdoier",u="_4S4Uc8LT1A";function p(e){var t=e.title,i=e.message,n=e.imgSrc,a=e.children;return r.createElement("article",{className:s},r.createElement("img",{src:n["1x"],srcSet:n["2x"]+" 2x",alt:""}),r.createElement("header",{className:l},r.createElement("h1",null,t)),i?r.createElement("p",{className:c},i):null,a)}t.FiletypeNotSupported=function(e){var t=e.fileViewerId,i=e.fileMetadata,s=e.fileInfo.file_id,l=e.intl,c=e.resolveAsset,f=e.dispatch;return r.createElement(p,{imgSrc:{"1x":c("1j0Ik"),"2x":c("3afH2")},title:l.formatMessage({id:"73IpwD",defaultMessage:"{extension} files cant currently be previewed."},{extension:n.getFileExtension(i?i.file_name:"")}),fileName:i?i.file_name:""},r.createElement(a.OpenWithButton,{variant:"secondary",collapsed:!1,dispatch:f,intl:l,fileViewerId:t,className:d}),r.createElement(o.Button,{variant:"styleless",onClick:function(){return f(n.openWebPreview({fileViewerId:t,fileIdOrRevisionId:s,sourceContext:"preview_error"}))},className:u},l.formatMessage({id:"qLPMn5",defaultMessage:"View on dropbox.com"})))},t.FiletypeNotSupported.displayName="FiletypeNotSupported",t.PasswordProtected=function(e){var t=e.fileName,i=e.intl,a=e.resolveAsset;return r.createElement(p,{imgSrc:{"1x":a("32YjM"),"2x":a("29R06")},title:i.formatMessage({id:"tzyBCT",defaultMessage:"This {extension} file is password-protected"},{extension:n.getFileExtension(t)}),fileName:t})},t.PasswordProtected.displayName="PasswordProtected",t.Unavailable=function(e){var t=e.fileMetadata,i=e.intl,n=e.fileViewerId,o=e.resolveAsset,s=e.dispatch;return r.createElement(p,{imgSrc:{"1x":o("2NQat"),"2x":o("1M0Da")},title:i.formatMessage({id:"jqqAP2",defaultMessage:"This file cannot be previewed"}),fileName:t?t.file_name:""},r.createElement(a.OpenWithButton,{variant:"secondary",collapsed:!1,dispatch:s,intl:i,fileViewerId:n,className:d}))},t.Unavailable.displayName="Unavailable",t.NoExtension=function(e){var t=e.fileMetadata,i=e.intl,n=e.dispatch,o=e.fileViewerId,s=e.resolveAsset;return r.createElement(p,{imgSrc:{"1x":s("2NQat"),"2x":s("1M0Da")},title:i.formatMessage({id:"vbytsy",defaultMessage:"Files without extensions cannot be previewed"}),fileName:t?t.file_name:""},r.createElement(a.OpenWithButton,{variant:"secondary",collapsed:!1,dispatch:n,intl:i,fileViewerId:o,className:d}))},t.NoExtension.displayName="NoExtension",t.FileTooLarge=function(e){var t=e.fileMetadata,i=e.previewMetadata,o=e.intl,s=e.dispatch,l=e.fileViewerId,c=e.resolveAsset,u=e.config;return r.createElement(p,{imgSrc:{"1x":c("3_SVR"),"2x":c("1KZOf")},title:o.formatMessage({id:"Jap7oN",defaultMessage:"This file is too big to preview"}),message:o.formatMessage({id:"CaboZW",defaultMessage:"The maximum size for {extension} files is {size}"},{extension:t?n.getFileExtension(t.file_name):"",size:n.formatBytes(n.getFileSizeLimit(t?t.file_name:"",n.resolvePreviewType(i),u),o)}),fileName:t?t.file_name:""},r.createElement(a.OpenWithButton,{variant:"secondary",collapsed:!1,dispatch:s,intl:o,fileViewerId:l,className:d}))},t.FileTooLarge.displayName="FileTooLarge",t.FileUploading=function(e){var t=e.fileMetadata,i=e.intl,n=e.dispatch,o=e.fileViewerId,s=e.resolveAsset;return r.createElement(p,{imgSrc:{"1x":s("d7hcI"),"2x":s("1WylU")},title:i.formatMessage({id:"fz7GLr",defaultMessage:"File is uploading"}),fileName:t?t.file_name:""},r.createElement(a.OpenWithButton,{variant:"secondary",collapsed:!1,dispatch:n,intl:i,fileViewerId:o,className:d}))},t.FileUploading.displayName="FileUploading",t.UserOffline=function(e){var t=e.dispatch,i=e.fileMetadata,n=e.fileViewerId,o=e.intl,s=e.resolveAsset;return r.createElement(p,{imgSrc:{"1x":s("2NQat"),"2x":s("1M0Da")},title:o.formatMessage({id:"jZUA7r",defaultMessage:"This file cannot be previewed because you are offline"}),fileName:i?i.file_name:""},r.createElement(a.OpenWithButton,{variant:"secondary",collapsed:!1,dispatch:t,intl:o,fileViewerId:n,className:d}))},t.UserOffline.displayName="UserOffline",t.LargePreviewError=function(e){switch(e.error.type){case n.FVErrorCode.UnsupportedPreviewType:return r.createElement(t.FiletypeNotSupported,Object.assign({},e));case n.FVErrorCode.NoExtension:return r.createElement(t.NoExtension,Object.assign({},e));case n.FVErrorCode.FileTooLarge:return r.createElement(t.FileTooLarge,Object.assign({},e));case n.FVErrorCode.PasswordProtected:return r.createElement(t.PasswordProtected,{intl:e.intl,fileName:e.fileMetadata?e.fileMetadata.file_name:"",resolveAsset:e.resolveAsset});case n.FVErrorCode.FileUploading:return r.createElement(t.FileUploading,Object.assign({},e));case n.FVErrorCode.UserOffline:return r.createElement(t.UserOffline,Object.assign({},e));default:return r.createElement(t.Unavailable,Object.assign({},e))}}})),define("file-viewer/preview_error/small",["require","exports","tslib","react","file-viewer/titlebar/index","react-redux"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPreviewError=void 0,r=i.__importStar(r);var o="_1IDxOxQRT_",s="_14x37Mu-AD",l="_18ST425VfN";t.SmallPreviewError=a.connect((function(e,t){var i;return{nativeApps:e.nativeApps[null!==(i=t.fileInfo.file_id)&&void 0!==i?i:null]}}))((function(e){var t,i,a,c=e.fileMetadata,d=e.nativeApps,u=null==c?void 0:c.file_name,p=null!==(i=null===(t=null==d?void 0:d.default)||void 0===t?void 0:t.iconPath)&&void 0!==i?i:null===(a=null==d?void 0:d.apps[0])||void 0===a?void 0:a.iconPath;return r.createElement("div",{className:o},r.createElement("figure",{className:s},null!=p&&r.createElement("i",{className:l,style:{backgroundImage:"url("+p+")"}}),r.createElement("figcaption",null,r.createElement(n.TruncatedTitle,{fileName:null!=u?u:"",width:280}))))}))})),define("file-viewer/preview_image/index",["require","exports","file-viewer/preview_image/img_layer","file-viewer/preview_image/preview_image","file-viewer/preview_image/data_transform","file-viewer/preview_image/layers","file-viewer/preview_image/container"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewImageContainer=t.defaultLayerRenderFn=t.transform=t.PreviewImage=t.ImageLayer=void 0,Object.defineProperty(t,"ImageLayer",{enumerable:!0,get:function(){return i.ImageLayer}}),Object.defineProperty(t,"PreviewImage",{enumerable:!0,get:function(){return r.PreviewImage}}),Object.defineProperty(t,"transform",{enumerable:!0,get:function(){return n.transform}}),Object.defineProperty(t,"defaultLayerRenderFn",{enumerable:!0,get:function(){return a.defaultLayerRenderFn}}),Object.defineProperty(t,"PreviewImageContainer",{enumerable:!0,get:function(){return o.PreviewImageContainer}})})),define("file-viewer/preview_image/container",["require","exports","tslib","react","classnames","file-viewer/core/index","file-viewer/preview_image/preview_image","file-viewer/keyboard/index","file-viewer/preview_image/layers","file-viewer/toolbar/toolbar","file-viewer/ui/index"],(function(e,t,i,r,n,a,o,s,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewImageContainer=void 0,r=i.__importStar(r),n=i.__importDefault(n);var u=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.handleCloseFullScreen=function(){var e=t.props,i=e.dispatch,r=e.fileInfo.file_id,n=e.fileViewerId;i(a.exitFullScreen({fileIdOrRevisionId:r,fileViewerId:n,sourceContext:"",isFromOutsideSDK:!1}))},t.handleFitScaleFactorChange=function(e){var i=t.props,r=i.dispatch,n=i.fileViewerId,o=i.fileInfo;r(a.updateFitScaleFactor({fileViewerId:n,fileIdOrRevisionId:o.file_id,fitScaleFactor:e}))},t.zoomIn=function(e){var i=t.props,r=i.dispatch,n=i.fileViewerId,o=i.fileInfo;r(a.zoomIn({fileViewerId:n,fileIdOrRevisionId:o.file_id,sourceContext:e}))},t.zoomOut=function(e){var i=t.props,r=i.dispatch,n=i.fileViewerId,o=i.fileInfo;r(a.zoomOut({fileViewerId:n,fileIdOrRevisionId:o.file_id,sourceContext:e}))},t.zoomOriginalOrFit=function(e){var i=t.props,r=i.dispatch,n=i.fileViewerId,o=i.fileInfo;r(a.zoomOriginalOrFit({fileViewerId:n,fileIdOrRevisionId:o.file_id,sourceContext:e}))},t.keyboardBindings=s.getZoomInOutBindings({zoomIn:function(){return t.zoomIn("keyboard")},zoomOut:function(){return t.zoomOut("keyboard")}}),t}return i.__extends(t,e),t.prototype.render=function(){var e,t=this.props,i=t.config,a=t.fileInfo.file_id,u=t.filePreviewUiData.isFullScreen,p=t.fileViewerId,f=t.intl;return r.createElement("div",{className:n.default("_3JKBC6YHnm _2pz0EjZoOj",(e={},e["_1YqIPreQYR _1Ds_GYaWKr"]=u,e))},u&&r.createElement(d.CloseButton,{intl:f,onClick:this.handleCloseFullScreen}),r.createElement(o.PreviewImage,Object.assign({},this.props,{layerRenderFn:l.defaultLayerRenderFn,onFitScaleFactorChanged:this.handleFitScaleFactorChange},"small"===this.props.config.size_class?{horizontalPadding:0,verticalPadding:0}:{})),r.createElement(c.ConfigurableToolbar,{className:"_3V4LFrZZUw _1COr9ZzNP6",featureConfig:i,fileId:a,fileViewerId:p,intl:f,previewType:"image"}),r.createElement(s.KeyboardBindingConnector,{keyboardBindings:this.keyboardBindings}))},t})(r.Component);t.PreviewImageContainer=u})),define("file-viewer/preview_image/data_transform",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transform=void 0,t.transform=function(e,t){return{thumbnailUrl:e.default_src||"",fullSizeUrl:e.full_size_src||"",srcSet:e.src_set||"",alt:"",imgWidth:t?t.width:void 0,imgHeight:t?t.height:void 0}}})),define("file-viewer/preview_image/img_layer",["require","exports","tslib","react"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageLayer=void 0,r=i.__importStar(r);var n="_10XzzxD2-Q _3fqREDOmbd",a="LbSAq7r5DB",o="_19VoPo7qJu",s="_3jv_DqNZ9O",l=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={fullSizeImgLoaded:!1,loading:!0},t.handleSmallImgLoad=function(e){var i=e.currentTarget,r=i.naturalWidth,n=i.naturalHeight;t.setState({loading:!1}),t.props.onSmallImageLoaded(r,n)},t.onFullSizeImgLoad=function(e){var i=e.currentTarget,r=i.naturalWidth,n=i.naturalHeight;t.setState({fullSizeImgLoaded:!0,loading:!1}),t.props.onFullSizeImageLoaded(r,n)},t.handleContextMenu=function(e){return t.props.viewportConfig.contextMenuDisabled?e.preventDefault():null},t}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.fileInfo.file_id!==this.props.fileInfo.file_id&&this.setState({fullSizeImgLoaded:!1,loading:!0})},t.prototype.render=function(){var e,t={},i=this.props,l=i.data,c=l.alt,d=l.fullSizeUrl,u=l.thumbnailUrl,p=l.srcSet,f=l.imgWidth,_=l.imgHeight,v=i.className,g=i.config.img_size_optimization,m=i.layerViewportScale,h=this.state,b=h.fullSizeImgLoaded,w=h.loading;return g&&f&&_?r.createElement("div",{className:s},r.createElement("img",{alt:c,className:o+" "+v,src:d,srcSet:p,sizes:m+"vw",style:t,onLoad:this.onFullSizeImgLoad,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.handleContextMenu,"data-test":"fv-sdk-img-preview-full-size"})):(b||(e=r.createElement("img",{src:u,srcSet:p,onLoad:this.handleSmallImgLoad,className:a+" "+v,onError:this.props.onSmallImageError,onContextMenu:this.handleContextMenu,alt:c})),b||(t={display:"none"}),r.createElement("div",{className:s},!b&&w&&r.createElement("i",{className:n}),r.createElement("img",{alt:c,className:o+" "+v,src:d,style:t,onLoad:this.onFullSizeImgLoad,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.handleContextMenu,"data-test":"fv-sdk-img-preview-full-size"}),e))},t})(r.PureComponent);t.ImageLayer=l})),define("file-viewer/preview_image/layers",["require","exports","tslib","react","lodash","file-viewer/preview_image/img_layer","file-viewer/core/index","file-viewer/plugins/layers"],(function(e,t,i,r,n,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLayerRenderFn=void 0,r=i.__importStar(r);var l=n.once((function(){return i.__awaiter(void 0,void 0,void 0,(function(){var t,r,n;return i.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([new Promise((function(t,i){e(["file-viewer/gesture_capture/index"],t,i)})).then(i.__importStar),new Promise((function(t,i){e(["file-viewer/comments2/index"],t,i)})).then(i.__importStar)])];case 1:return t=a.sent(),r=t[0].makeGestureCaptureDecorator,n=t[1].makeImageGestureAdapter,[2,{ImageGestureCaptureDecorator:r((function(e,t){return[n(e,t)]}))}]}}))}))})),c=r.lazy((function(){return i.__awaiter(void 0,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,i){e(["file-viewer/comments2/index"],t,i)})).then(i.__importStar)];case 1:return[2,{default:t.sent().ImageAnnotationHighlightLayer}]}}))}))})),d=r.lazy((function(){return i.__awaiter(void 0,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,l()];case 1:return[2,{default:e.sent().ImageGestureCaptureDecorator}]}}))}))}));t.defaultLayerRenderFn=function(e){return function(t){var n=e.activePluginInstance,l=e.pluginProps,u=[r.createElement(a.ImageLayer,Object.assign({key:"image"},e,t))];if(null!=l&&null!=n){var p=i.__assign(i.__assign({},l),{layer:{dimensions:l.file.dimensions}}),f=n.ui,_=f.Layer,v=f.unsafe_LayerWithEventBubbling;if(null!=_)return i.__spreadArrays(u,[r.createElement(_,Object.assign({},p))]);if(null!=v)return[r.createElement(s.PortalTargetProvider,null,(function(e){return r.createElement(v,Object.assign({},p),r.createElement(s.PortalWrapper,{element:e},u),r.createElement("div",null))}))]}else if(e.config.annotations&&(function(e){var t=e.currentMode,i=t.sidebar,r=t.mode;return i.visibility===o.SidebarVisibility.Open&&r===o.FileViewerMode.Commenting})(e))return[r.createElement(r.Suspense,{fallback:u},r.createElement(d,Object.assign({key:"gestures"},e,t,{originalSize:{height:t.originalHeight,width:t.originalWidth}}),u),r.createElement(c,Object.assign({key:"annotations"},e,t)),",")];return u}}})),define("file-viewer/preview_image/preview_image",["require","exports","tslib","react","file-viewer/preview_image/viewport","file-viewer/preview_image/data_transform","file-viewer/core/data/selectors","file-viewer/core/index"],(function(e,t,i,r,n,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewImage=void 0,r=i.__importStar(r);var l="40px",c="36px";function d(e,t,i,r,n){return Math.min((i-(n.horizontal||0))/e,(r-(n.vertical||0))/t)}function u(e){var t={width:void 0,height:void 0};return e.config.img_size_optimization&&e.previewMetadata&&e.previewMetadata.dimensions?e.previewMetadata.dimensions:t}function p(e,t){var i=u(e),r=i.width,n=i.height;return null!=n&&null!=r?{originalWidth:r,originalHeight:n}:e.fileMetadata&&e.fileMetadata.file_name&&".svg"===s.getFileExtension(e.fileMetadata.file_name)?{originalWidth:600,originalHeight:600}:{originalWidth:t.assetWidth,originalHeight:t.assetHeight}}var f=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={},t.handleDoubleClick=function(){t.props.onDoubleClick&&t.props.onDoubleClick()},t.handleSmallImgLoad=function(e,i){t.setState({aspectRatio:e/i,renderSucceeded:!0})},t.handleFullSizeImgLoad=function(e,i){t.setState({renderSucceeded:!0});var r=t.props,n=r.width,a=r.height,o=r.onFitScaleFactorChanged,s=p(t.props,t.state),l=s.originalWidth,c=s.originalHeight,u={assetHeight:i,assetWidth:e,aspectRatio:e/i};t.setState(u);var f=p(t.props,u),_=f.originalWidth,v=f.originalHeight;if(_&&v&&"function"==typeof o&&(l!==_||c!==v)){var g=t.getPadding();o(d(_,v,n,a,{vertical:2*g.verticalPadding,horizontal:2*g.horizontalPadding}))}},t}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.fileInfo.file_id!==this.props.fileInfo.file_id&&this.setState({assetWidth:void 0,assetHeight:void 0,aspectRatio:void 0,renderSucceeded:!1})},t.prototype.getPadding=function(){var e=this.props,t=e.verticalPadding,i=e.horizontalPadding;return{verticalPadding:void 0!==t?t:parseInt(l,10),horizontalPadding:void 0!==i?i:parseInt(c,10)}},t.prototype.componentDidMount=function(){var e=this.props,t=e.width,i=e.height,r=e.onFitScaleFactorChanged,n=p(this.props,this.state),a=n.originalWidth,o=n.originalHeight;if(a&&o&&"function"==typeof r){var s=this.getPadding();r(d(a,o,t,i,{vertical:2*s.verticalPadding,horizontal:2*s.horizontalPadding}))}},t.prototype.componentDidUpdate=function(e,t){var i=this.props,r=i.width,n=i.height,a=i.onFitScaleFactorChanged,o=i.onInteractive,s=i.onRenderSucceeded,l=this.state.renderSucceeded,c=p(this.props,this.state),u=c.originalWidth,f=c.originalHeight,_=p(e,t),v=_.originalWidth,g=_.originalHeight;if(l&&l!==t.renderSucceeded&&(o(),s()),u&&f&&"function"==typeof a&&(e.width!==r||e.height!==n||v!==u||g!==f)){var m=this.getPadding();a(d(u,f,r,n,{vertical:2*m.verticalPadding,horizontal:2*m.horizontalPadding}))}},t.prototype.render=function(){var e=this.props,t=e.activePluginInstance,i=e.className,s=e.config,l=e.coreFileViewerUiData,c=e.currentMode,d=e.contextMenuDisabled,f=e.dispatch,_=e.fileInfo,v=e.fileMetadata,g=e.filePreviewUiData,m=e.fileViewerId,h=e.height,b=e.intl,w=e.layerRenderFn,A=e.previewMetadata,y=e.pluginProps,P=e.resolveAsset,S=e.sizerClassName,E=e.width,x=e.verticalPadding,C=e.horizontalPadding,I=p(this.props,this.state),F=I.originalWidth,R=I.originalHeight,T=(function(e,t){var i=u(e),r=i.width,n=i.height;return null!=n&&null!=r?r/n:t.aspectRatio})(this.props,this.state),O=o.getCurrentScaleFactorFromFilePreviewUi(g);return A&&A.content?r.createElement(n.Viewport,{className:i,id:_.file_id,data:a.transform(A.content,A.dimensions),sizerClassName:S,originalWidth:F,originalHeight:R,scaleFactor:O,aspectRatio:T,width:E,height:h,contextMenuDisabled:d,verticalPadding:x,horizontalPadding:C},w({activePluginInstance:t,dispatch:f,config:s,coreFileViewerUiData:l,currentMode:c,fileInfo:_,fileMetadata:v,filePreviewUiData:g,fileViewerId:m,intl:b,pluginProps:y,previewMetadata:A,resolveAsset:P,onDoubleClick:this.handleDoubleClick,onFullSizeImageLoaded:this.handleFullSizeImgLoad,onSmallImageError:this.props.onRenderFailed,onSmallImageLoaded:this.handleSmallImgLoad})):null},t})(r.PureComponent);t.PreviewImage=f})),define("file-viewer/preview_image/viewport",["require","exports","tslib","classnames","react","file-viewer/core/index"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=t._calculateScrollPosition=t._calculateFocusPoint=void 0,r=i.__importDefault(r),n=i.__importStar(n);var o="_1qfmN8XukH",s="_3JPQLClVw4",l="_2G_smAf1kF",c="40px",d="36px";function u(e,t,i,r){var n=e.left,a=e.top,o=t.w,s=t.h,l=i.w,c=i.h,d=[.5,.5];if(!o||!s||!r)return d;var u=o*r,p=s*r;return u>l&&(d[0]=(n+l/2)/u),p>c&&(d[1]=(a+c/2)/p),d}function p(e,t,i,r){var n=i.w,a=i.h,o=r.w,s=r.h,l=t*n,c=t*a;return[e[0]*l-o/2,e[1]*c-s/2]}t._calculateFocusPoint=u,t._calculateScrollPosition=p;var f=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.viewportEl=null,t.focusPoint=[.5,.5],t.onScroll=function(e){var i=e.currentTarget,r=i.scrollLeft,n=i.scrollTop,a=t.props,o=a.originalWidth,s=a.originalHeight,l=a.scaleFactor,c=a.height,d=a.width;t.focusPoint=u({left:r,top:n},{w:o,h:s},{w:d,h:c},l)},t}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.id!==this.props.id&&(this.focusPoint=[.5,.5])},t.prototype.componentDidUpdate=function(e){var t,i=this.props,r=i.scaleFactor,n=i.originalWidth,a=i.originalHeight,o=i.width,s=i.height;this.viewportEl&&"function"==typeof this.viewportEl.scrollTo&&r&&n&&a&&(e.scaleFactor!==r||e.originalWidth!==n||e.originalHeight!==a||e.height!==s||e.width!==o)&&(t=this.viewportEl).scrollTo.apply(t,p(this.focusPoint,r,{w:n,h:a},{w:o,h:s}))},t.prototype.getPadding=function(){var e=this.props,t=e.verticalPadding,i=e.horizontalPadding;return{verticalPadding:void 0!==t?t:parseInt(c||"0",10),horizontalPadding:void 0!==i?i:parseInt(d||"0",10)}},t.prototype.render=function(){var e,t=this,i=this.props,c=i.width,d=i.height,u=i.scaleFactor,p=i.originalWidth,f=i.originalHeight,_=i.className,v=i.aspectRatio,g=i.sizerClassName,m=i.contextMenuDisabled,h=i.data,b=0,w=0,A={width:p,height:f};if(u&&p&&f){var y=p*u,P=f*u;y<c&&(b=(c-y)/2),P<d&&(w=(d-P)/2),A.width=y,A.height=P,A.transform="translate("+b+"px, "+w+"px)"}else if(v){var S=this.getPadding(),E=S.verticalPadding,x=S.horizontalPadding,C=a.calculateFitBox(c-2*x,d-2*E,v),I=C[0],F=C[1];A.width=I,A.height=F}else A.visibility="hidden";var R=Number(A.width)/window.innerWidth*100/window.devicePixelRatio;return n.createElement("div",{className:r.default(_,o,(e={},e[l||""]=!u,e)),style:{width:c,height:d},onScroll:this.onScroll,ref:function(e){return t.viewportEl=e}},n.createElement("div",{className:s+" "+g,style:A},this.props.children({viewportConfig:{contextMenuDisabled:!!m},originalWidth:p||0,originalHeight:f||0,data:h,layerViewportScale:R})))},t})(n.PureComponent);t.Viewport=f})),define("file-viewer/sidebar/toggle_button",["require","exports","tslib","react","dig-components/tooltips","dig-components/buttons","dig-components/icons","dig-components/icons/src","file-viewer/core/index"],(function(e,t,i,r,n,a,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleButton=void 0,r=i.__importStar(r);var c="xDPMF0nNd-";t.ToggleButton=function(e){var t=e.dispatch,i=e.fileViewerId,d=e.intl,u=e.fileViewerUiData,p=e.fileId,f=u.sidebar.visibility===l.SidebarVisibility.Closed?d.formatMessage({id:"eG5Ygt",defaultMessage:"Open Sidebar"}):d.formatMessage({id:"TbG2Sk",defaultMessage:"Close Sidebar"}),_=u.sidebar.visibility===l.SidebarVisibility.Open;return r.createElement("div",{className:c},r.createElement(n.Tooltip,{placement:"left",title:f},r.createElement(a.IconButton,{onClick:function(){var e={fileViewerId:i,fileIdOrRevisionId:p,sourceContext:"sidebar"};u.sidebar.visibility===l.SidebarVisibility.Closed?t(l.openSidebar(e)):t(l.closeSidebar(e))},variant:"transparent",title:f},r.createElement(o.UIIcon,{src:_?s.CollapseLine:s.ExpandLine}))))},t.ToggleButton.displayName="ToggleButton"})),define("file-viewer/titlebar/index",["require","exports","file-viewer/titlebar/titlebar","file-viewer/titlebar/titlebar_logo","file-viewer/titlebar/large","file-viewer/titlebar/truncated_div","file-viewer/titlebar/truncated_title","file-viewer/titlebar/truncate","file-viewer/titlebar/small"],(function(e,t,i,r,n,a,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TITLE_BAR_HEIGHT_MAP=t.TITLE_BAR_HEIGHT=t.truncateStringByLength=t.TruncatedTitle=t.TruncatedDiv=t.LargeTitlebar=t.TitleBarLogo=t.Titlebar=void 0,Object.defineProperty(t,"Titlebar",{enumerable:!0,get:function(){return i.Titlebar}}),Object.defineProperty(t,"TitleBarLogo",{enumerable:!0,get:function(){return r.Logo}}),Object.defineProperty(t,"LargeTitlebar",{enumerable:!0,get:function(){return n.LargeTitlebar}}),Object.defineProperty(t,"TruncatedDiv",{enumerable:!0,get:function(){return a.TruncatedDiv}}),Object.defineProperty(t,"TruncatedTitle",{enumerable:!0,get:function(){return o.TruncatedTitle}}),Object.defineProperty(t,"truncateStringByLength",{enumerable:!0,get:function(){return s.truncateStringByLength}});t.TITLE_BAR_HEIGHT=parseInt("40px",10),t.TITLE_BAR_HEIGHT_MAP={small:l.TITLE_BAR_HEIGHT,medium:t.TITLE_BAR_HEIGHT,large:t.TITLE_BAR_HEIGHT,extra_large:t.TITLE_BAR_HEIGHT}})),define("file-viewer/titlebar/titlebar",["require","exports","tslib","react","file-viewer/titlebar/small","file-viewer/titlebar/large"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Titlebar=void 0,r=i.__importStar(r),t.Titlebar=function(e){var t=i.__rest(e,[]);return"small"===t.sizeClass?r.createElement(n.SmallTitlebar,Object.assign({},t)):r.createElement(a.LargeTitlebar,Object.assign({},t))},t.Titlebar.displayName="Titlebar"})),define("file-viewer/titlebar/titlebar_logo",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","file-viewer/core/data/actions"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0,r=i.__importDefault(r),t.Logo=function(e){var t=e.baseUrl,i=e.dispatch,s=e.fileId,l=e.fileViewerId;return r.default.createElement("a",{href:"//"+t+"?src=shmodel",onClick:function(){i(o.clickDropboxLogo({fileIdOrRevisionId:s,fileViewerId:l,sourceContext:"title_bar_main"}))}},r.default.createElement(n.UIIcon,{size:"large",src:a.DropboxLine,"aria-label":"Dropbox"}))},t.Logo.displayName="Logo"})),define("file-viewer/titlebar/large",["require","exports","tslib","react","classnames"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LargeTitlebar=void 0,r=i.__importStar(r),n=i.__importDefault(n);var a="_3xQRkj5dQm",o="_3Si3fSRjns",s="_1UPkas_LJo",l="_31qXTkhvJ-";t.LargeTitlebar=function(e){var t,i=e.className,c=e.icon,d=e.betaBadge,u=e.renderTitleOverflowMenuFn,p=e.title,f=e.isInverse,_=e.prefix;return r.createElement("header",{className:n.default(a,i,(t={},t[l]=f,t))},c?r.createElement("div",{className:o},c):null,r.createElement("div",{className:s},_&&_+": ",p),u&&r.createElement("div",null,u()),d&&d)},t.LargeTitlebar.displayName="LargeTitlebar"})),define("file-viewer/titlebar/small",["require","exports","tslib","react","file-viewer/core/data/actions","file-viewer/core/index","file-viewer/open_with_native/index","spectrum/button","file-viewer/titlebar/truncate","spectrum/tooltip"],(function(e,t,i,r,n,a,o,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmallTitlebar=t.TITLE_BAR_HEIGHT=void 0,r=i.__importStar(r);var d="_2BwlW4jE--",u="N8ZEmavrMM",p="_2tRLZtxVdR",f="_2dNSnShY4R",_="_2DNTfbWGsF",v="_2y3Fl5InXE _2DNTfbWGsF",g="_21EjUXnyIe _1y1RJaYN-V",m="58px";t.TITLE_BAR_HEIGHT=parseInt(m,10);var h=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.truncateTextEl=null,t.textRef=function(e){return t.truncateTextEl=e},t.state={truncatedFileName:""},t.handleClickFullscreen=function(){return t.props.dispatch(n.openFullscreenPreview({fileViewerId:t.props.fileViewerId,fileIdOrRevisionId:t.props.fileId,sourceContext:"tray_button"}))},t.onFolderClick=function(){return t.props.dispatch(n.openContainingFolder({fileViewerId:t.props.fileViewerId,fileIdOrRevisionId:t.props.fileId,sourceContext:"tray_button"}))},t}return i.__extends(t,e),t.prototype.recalcText=function(e,t){var i=this;return l.recalcText(e,t,(function(e){return l.measureRenderedTextLen(e,i.truncateTextEl)}))},t.prototype.componentDidMount=function(){this.setState({truncatedFileName:this.recalcText(this.props.fileName,this.props.width-80)})},t.prototype.componentWillReceiveProps=function(e){this.props.fileName===e.fileName&&this.props.width===e.width||this.setState({truncatedFileName:this.recalcText(e.fileName,e.width-80)})},t.prototype.render=function(){var e=this.props,t=e.dispatch,i=e.filePath,n=e.fileViewerId,l=e.intl,m=e.fileName,h=e.pageCount,b=a.getParentFolderFromPath(i)||"Dropbox",w=l.formatMessage({id:"6E27tG",defaultMessage:"Open with Dropbox Preview"});return r.createElement("header",{className:d},r.createElement("svg",{className:"_3AOssxTAhv"},r.createElement("text",{x:0,y:50,ref:this.textRef})),r.createElement("div",{className:u},r.createElement("h1",null,this.state.truncatedFileName),r.createElement("h2",null,r.createElement("span",{className:p},l.formatMessage({id:"c+XCEa",defaultMessage:"In {folder_name}"},{folder_name:r.createElement("a",{href:"#",onClick:this.onFolderClick},b)})),!!h&&" "+(function(e,t,i){return a.PRESENTATION_EXTS.includes(a.getFileExtension(e))?i.formatMessage({id:"fN82fk",defaultMessage:"{number, plural, one {# slide} other {# slides}}"},{number:t}):i.formatMessage({id:"Wf4OR8",defaultMessage:"{number, plural, one {# page} other {# pages}}"},{number:t})})(m,h,l))),r.createElement("div",{className:f},r.createElement(o.OpenWithButton,{className:_,collapsed:!0,dispatch:t,fileViewerId:n,intl:l,sourceContext:"tray_button"}),r.createElement(c.Tooltip,{closeOnBlur:!0,positioning:"left",tooltipContent:w},r.createElement(s.Button,{className:v,variant:"secondary",onClick:this.handleClickFullscreen,title:w},r.createElement("i",{className:g})))))},t})(r.Component);t.SmallTitlebar=h})),define("file-viewer/titlebar/truncate",["require","exports","tslib","grapheme-splitter"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.measureRenderedTextLen=t.recalcText=t.truncateStringByLength=t.truncateStringByRenderWidth=void 0,r=i.__importDefault(r);var n=parseInt("40px",10);function a(e,t,i){void 0===i&&(i="");var r=Math.floor(t/2),n=e.slice(0,r);return i&&n.push(i),n.push.apply(n,e.slice(e.length-r,e.length)),{newGraphemes:n,newStr:n.join("")}}var o=new r.default;function s(e,t){void 0===t&&(t="");var i=o.splitGraphemes(e);return a(i,i.length,t).newStr}function l(e,t,i){var r,n=i(e),s=o.splitGraphemes(e);if(n<t||s.length<=2)return e;var l=a(s,Math.floor(t/n*s.length)),c=l.newGraphemes,d=l.newStr;for(n=i(d);n>t;)c=(r=a(c,c.length-1)).newGraphemes,n=i(d=r.newStr);return d}t.truncateStringByRenderWidth=function(e,t,i){var r=i(e),n=o.splitGraphemes(e);if(r<=t||n.length<=2)return e;var s,l=Math.floor(t/r*n.length);do{s=a(n,l,"").newStr,l--}while(i(s)>t&&l>1);return s},t.truncateStringByLength=function(e,t){var i=o.splitGraphemes(e);return i.length<=Math.max(t,2)?e:a(i,t,"").newStr},t.recalcText=function(e,t,i){var r=t-2*n;if(r>0){var a,o=e.substring(e.lastIndexOf(".")||e.length,e.length)||"",c=e.substring(0,e.length-o.length),d=r-i(""+o);return d<0?(a=l(e,r,i))!==e?s(a,""):e:(a=l(c,d,i))!==c?""+s(a,"")+o:e}return""},t.measureRenderedTextLen=function(e,t){if(!t)return 0;if("function"!=typeof t.getComputedTextLength)return 0;t.textContent=e;var i=t.getComputedTextLength();return t.textContent="",i}})),define("file-viewer/titlebar/truncated_div",["require","exports","tslib","react","file-viewer/titlebar/truncate"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TruncatedDiv=void 0,r=i.__importStar(r);var a="_3AOssxTAhv",o=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.textRef=r.createRef(),t.state={isMounted:!1},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.setState({isMounted:!0})},t.prototype.componentWillUnmount=function(){this.setState({isMounted:!1})},t.prototype.truncateText=function(e,t){var i=this;return this.state.isMounted?n.truncateStringByRenderWidth(e,t,(function(e){return n.measureRenderedTextLen(e,i.textRef.current)})):""},t.prototype.render=function(){var e=this.props,t=e.className,i=e.style,n=e.text,o=e.width;return r.createElement("div",{className:t,style:i},r.createElement("svg",{className:a},r.createElement("text",{x:0,y:50,ref:this.textRef})),this.truncateText(n,o))},t})(r.PureComponent);t.TruncatedDiv=o})),define("file-viewer/titlebar/truncated_title",["require","exports","tslib","react","spectrum/tooltip","file-viewer/titlebar/truncate"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TruncatedTitle=void 0,r=i.__importStar(r);var o="_4AgvgbtwUm",s="_3AOssxTAhv",l=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.truncateTextEl=null,t.textRef=function(e){return t.truncateTextEl=e},t.state={truncatedFileName:""},t}return i.__extends(t,e),t.prototype.recalcText=function(e,t){var i=this;return a.recalcText(e,t,(function(e){return a.measureRenderedTextLen(e,i.truncateTextEl)}))},t.prototype.componentDidMount=function(){this.setState({truncatedFileName:this.recalcText(this.props.fileName,this.props.width)})},t.prototype.componentWillReceiveProps=function(e){this.props.fileName===e.fileName&&this.props.width===e.width||this.setState({truncatedFileName:this.recalcText(e.fileName,e.width)})},t.prototype.render=function(){var e=this.props.filePath;return r.createElement("div",{className:o},r.createElement("svg",{className:s},r.createElement("text",{x:0,y:50,ref:this.textRef})),r.createElement(n.Tooltip,{positionOffset:8,positioning:"below",tooltipContent:e},r.createElement("h1",null,this.state.truncatedFileName)))},t})(r.PureComponent);t.TruncatedTitle=l})),define("file-viewer/toolbar/index",["require","exports","file-viewer/toolbar/sidebar_toggle_button","file-viewer/toolbar/toolbar_button","file-viewer/toolbar/toolbar_controls","file-viewer/toolbar/toolbar_flip_buttons","file-viewer/toolbar/toolbar_page_indicator","file-viewer/toolbar/zoom_to_fit_button"],(function(e,t,i,r,n,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomToFitButton=t.PageIndicator=t.ToolbarFlipButtons=t.filterValidFileFlippingContext=t.ZoomOutButton=t.ZoomInButton=t.PrintButton=t.PageUpButton=t.PageDownButton=t.FullScreenButton=t.PreviewToolbarButton=t.SidebarToggleButton=void 0,Object.defineProperty(t,"SidebarToggleButton",{enumerable:!0,get:function(){return i.SidebarToggleButton}}),Object.defineProperty(t,"PreviewToolbarButton",{enumerable:!0,get:function(){return r.PreviewToolbarButton}}),Object.defineProperty(t,"FullScreenButton",{enumerable:!0,get:function(){return n.FullScreenButton}}),Object.defineProperty(t,"PageDownButton",{enumerable:!0,get:function(){return n.PageDownButton}}),Object.defineProperty(t,"PageUpButton",{enumerable:!0,get:function(){return n.PageUpButton}}),Object.defineProperty(t,"PrintButton",{enumerable:!0,get:function(){return n.PrintButton}}),Object.defineProperty(t,"ZoomInButton",{enumerable:!0,get:function(){return n.ZoomInButton}}),Object.defineProperty(t,"ZoomOutButton",{enumerable:!0,get:function(){return n.ZoomOutButton}}),Object.defineProperty(t,"filterValidFileFlippingContext",{enumerable:!0,get:function(){return a.filterValidFileFlippingContext}}),Object.defineProperty(t,"ToolbarFlipButtons",{enumerable:!0,get:function(){return a.ToolbarFlipButtons}}),Object.defineProperty(t,"PageIndicator",{enumerable:!0,get:function(){return o.PageIndicator}}),Object.defineProperty(t,"ZoomToFitButton",{enumerable:!0,get:function(){return s.ZoomToFitButton}})})),define("file-viewer/toolbar/configuration",["require","exports","tslib"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getToolbarConfigByPreviewType=t.baseToolbarConfig=void 0,t.baseToolbarConfig={docSidebar:!1,fileFlipping:!1,fullscreen:!1,pageNavigation:!1,print:!1,zooming:!1};t.getToolbarConfigByPreviewType=function(e,r){var n,a,o,s=(function(e){var t;return{docSidebar:e.enable_navigation_bar,fileFlipping:e.file_flipping,fullscreen:e.enable_fullscreen,pageNavigation:null===(t=e.preview_types.ssr_doc)||void 0===t?void 0:t.showPageNavigation,print:e.enable_print}})(r),l=(function(e){switch(e){case"ssr_doc":case"cloud_doc":return{docSidebar:!0,fullscreen:!0,pageNavigation:!0,print:!0,zooming:!0};case"image":return{docSidebar:!1,fullscreen:!0,pageNavigation:!1,print:!0,zooming:!0};case"html":return{docSidebar:!1,fullscreen:!0,print:!0};default:return{docSidebar:!1,fullscreen:!1,pageNavigation:!1,print:!1}}})(e),c=t.baseToolbarConfig;for(var d in t.baseToolbarConfig){var u=d;u in s&&u in l?c=i.__assign(i.__assign({},c),((n={})[u]=s[u]&&l[u],n)):u in s&&!(u in l)?c=i.__assign(i.__assign({},c),((a={})[u]=s[u],a)):u in l&&!(u in s)&&(c=i.__assign(i.__assign({},c),((o={})[u]=l[u],o)))}return c}})),define("file-viewer/toolbar/page_navigation_controls",["require","exports","tslib","react","file-viewer/core/index","file-viewer/core/data/selectors","file-viewer/core/data/utils","file-viewer/toolbar/toolbar_controls","file-viewer/toolbar/toolbar_page_indicator","react-redux"],(function(e,t,i,r,n,a,o,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNavigationControls=void 0,r=i.__importDefault(r);t.PageNavigationControls=c.connect((function(e,t){var i,r,n,s=a.getCurrentRivieraData(e,{fileViewerId:t.fileViewerId}),l=a.getCurrentFilePreviewUI(e,{fileViewerId:t.fileViewerId});return{currentPageIndex:null!==(r=null===(i=o.filterDocFilePreviewUiState(l))||void 0===i?void 0:i.currentPageIndex)&&void 0!==r?r:void 0,pageCount:o.isDocRivieraData(s)?null===(n=s.metadata)||void 0===n?void 0:n.page_count:void 0}}))((function(e){var t=e.currentPageIndex,a=e.dispatch,o=e.fileId,c=e.fileViewerId,d=e.intl,u=e.pageCount,p={fileViewerId:c,fileIdOrRevisionId:o,sourceContext:"toolbar"};return t&&u?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.PageUpButton,{disabled:t<1,intl:d,key:c+"-"+o+"-page-up",onClick:function(){return a(n.pageUp(p))}}),r.default.createElement(l.PageIndicator,{currentPageIndex:t||0,intl:d,id:c+"-preview-toolbar-page-indicator",key:c+"-preview-toolbar-page-indicator",onPageNumberUpdated:function(e){return a(n.updateDocCurrentPageIndex(i.__assign(i.__assign({},p),{pageCount:u,pageIndex:e})))},pageCount:u,shouldShowPageCount:!0}),r.default.createElement(s.PageDownButton,{disabled:t>=u-1,intl:d,key:c+"-"+o+"-page-down",onClick:function(){return a(n.pageDown(p))}})):null}))})),define("file-viewer/toolbar/sidebar_toggle_button",["require","exports","tslib","react","file-viewer/toolbar/toolbar_button"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarToggleButton=void 0;var a=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.handleClick=function(e){var i=t.props,r=i.isSidebarOpen,n=i.onClick,a=i.onSidebarClose,o=i.onSidebarOpen;r&&a?a():o&&o(),n&&n(e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,i=e.disabled,a=e.intl,o=e.isSidebarOpen;return r.createElement(n.PreviewToolbarButton,{className:t,disabled:i,intl:a,iconName:o?"sidebarHide":"sidebarShow",id:"preview-toolbar-sidebar-toggle-button",tooltipText:o?a.formatMessage({id:"ttmV3r",defaultMessage:"Hide sidebar"}):a.formatMessage({id:"NIm51y",defaultMessage:"Show sidebar"}),onClick:this.handleClick})},t})((r=i.__importStar(r)).PureComponent);t.SidebarToggleButton=a,a.defaultProps={isSidebarOpen:!1}})),define("file-viewer/toolbar/toolbar_button",["require","exports","tslib","classnames","react","spectrum/tooltip","spectrum/button"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewToolbarButton=void 0,r=i.__importDefault(r),n=i.__importStar(n);var s={container:"_1x63kVqkYi",toolbarButton:"_3MS_sSk8v2",zoomToFitBtn:"BwAKgVnIAr",arrowLeft:"_2ITlwxtTc0 _1y1RJaYN-V",arrowRight:"JfmmWYGWiP _1y1RJaYN-V",fullscreen:"_1BXWzdKZcg _1y1RJaYN-V",print:"_14bv1Ah_Sc _1y1RJaYN-V",sidebarHide:"_230L9B_VOu _1y1RJaYN-V",sidebarShow:"_2Ht3Oh1zrp _1y1RJaYN-V",zoomIn:"RkgEctpAaM _1y1RJaYN-V",zoomOut:"_2P1wnPKDti _1y1RJaYN-V",pageDown:"_1_6p5OEl7w _1y1RJaYN-V",pageUp:"_3jVU5iQ-xK _1y1RJaYN-V",flipButtons:"_1Xy4vmCrmv",pageIndicator:"_2UCcY_L_ut",focus:"fFd_Ukn_Rn",pageInputWrapper:"_2lAAAHouQ7",pageInput:"_2XAzYxu3_c",withText:"_1OQ3or8fKn",pageIndicatorText:"_1f0fWYhQct",hidden:"_1uX-Yvcuyj",zoomToFitInnerBtn:"_3f_2x8b6A8",toolbarTooltip:"_2AS2IpIvyj"},l=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.onClick=function(e){var i=t.props.onClick;i&&i(e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,l=e.disabled,c=(e.intl,e.iconName),d=e.id,u=e.tooltipText,p=e.onMouseLeave,f=i.__rest(e,["className","disabled","intl","iconName","id","tooltipText","onMouseLeave"]),_=s[c];return n.createElement("div",{className:r.default(t,s.toolbarButton),onMouseLeave:p},n.createElement(a.Tooltip,{positionOffset:16,positioning:"above",tooltipContent:u,closeOnBlur:!0},n.createElement(o.Button,Object.assign({variant:"styleless","aria-label":u,"data-test":d,disabled:l,onClick:this.onClick},f),n.createElement("i",{className:_}))))},t})(n.PureComponent);t.PreviewToolbarButton=l,l.defaultProps={disabled:!1,iconName:"fullscreen",id:"",onClick:function(){},tooltipText:""}})),define("file-viewer/toolbar/toolbar_controls",["require","exports","tslib","react","file-viewer/toolbar/toolbar_button"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomOutButton=t.ZoomInButton=t.PageUpButton=t.PageDownButton=t.FullScreenButton=t.PrintButton=void 0,r=i.__importStar(r);t.FullScreenButton=function(e){var t=e.className,a=e.disabled,o=e.intl,s=e.onClick,l=i.__rest(e,["className","disabled","intl","onClick"]);return r.createElement(n.PreviewToolbarButton,Object.assign({},l,{className:t,id:"fullscreen",disabled:a||!1,intl:o,iconName:"fullscreen",onClick:s,tooltipText:o.formatMessage({id:"WwB3rT",defaultMessage:"Fullscreen"})}))};t.PageDownButton=function(e){var t=e.className,a=e.disabled,o=e.intl,s=e.onClick,l=i.__rest(e,["className","disabled","intl","onClick"]);return r.createElement(n.PreviewToolbarButton,Object.assign({},l,{className:t,disabled:a||!1,intl:o,iconName:"pageDown",id:"page-down",onClick:s,tooltipText:o.formatMessage({id:"5Nekbe",defaultMessage:"Page down"})}))};t.PageUpButton=function(e){var t=e.className,a=e.disabled,o=e.intl,s=e.onClick,l=i.__rest(e,["className","disabled","intl","onClick"]);return r.createElement(n.PreviewToolbarButton,Object.assign({},l,{className:t,disabled:a||!1,intl:o,iconName:"pageUp",id:"page-up",onClick:s,tooltipText:o.formatMessage({id:"sago3n",defaultMessage:"Page up"})}))},t.PrintButton=function(e){var t=e.intl,a=e.onClick,o=i.__rest(e,["intl","onClick"]);return r.createElement(n.PreviewToolbarButton,Object.assign({},o,{iconName:"print",id:"print",intl:t,onClick:a,tooltipText:t.formatMessage({id:"tBZioS",defaultMessage:"Print"})}))};t.ZoomInButton=function(e){var t=e.className,a=e.disabled,o=e.intl,s=e.onClick,l=i.__rest(e,["className","disabled","intl","onClick"]);return r.createElement(n.PreviewToolbarButton,Object.assign({},l,{className:t,disabled:a||!1,intl:o,iconName:"zoomIn",id:"zoom-in",onClick:s,tooltipText:o.formatMessage({id:"sMy5PN",defaultMessage:"Zoom in"})}))};t.ZoomOutButton=function(e){var t=e.className,a=e.disabled,o=e.intl,s=e.onClick,l=i.__rest(e,["className","disabled","intl","onClick"]);return r.createElement(n.PreviewToolbarButton,Object.assign({},l,{className:t,disabled:a||!1,intl:o,iconName:"zoomOut",id:"zoom-out",onClick:s,tooltipText:o.formatMessage({id:"QCtVKy",defaultMessage:"Zoom out"})}))}})),define("file-viewer/toolbar/toolbar_flip_buttons",["require","exports","tslib","classnames","react","file-viewer/toolbar/toolbar_button"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarFlipButtons=t.filterValidFileFlippingContext=void 0,r=i.__importDefault(r),n=i.__importStar(n);var o="_1Xy4vmCrmv";t.filterValidFileFlippingContext=function(e){return null!=e&&e.parent_files_count>0&&e.parent_files_count>=0?e:null},t.ToolbarFlipButtons=function(e){var t=e.buttonClassName,i=e.className,s=e.count,l=e.intl,c=e.index,d=e.onClickNext,u=e.onClickPrevious,p=l.formatMessage({id:"uFFK4t",defaultMessage:"Previous"}),f=l.formatMessage({id:"cObCdG",defaultMessage:"Next"}),_=l.formatMessage({id:"ywuKP5",defaultMessage:"{file_number} of {file_count}"},{file_number:c+1,file_count:s});return n.createElement("div",{className:r.default(i,o)},n.createElement(a.PreviewToolbarButton,{className:t,intl:l,iconName:"arrowLeft",id:"preview-toolbar-flip-previous",tooltipText:p,onClick:u}),n.createElement("span",null,_),n.createElement(a.PreviewToolbarButton,{className:t,intl:l,iconName:"arrowRight",id:"preview-toolbar-flip-next",tooltipText:f,onClick:d}))}})),define("file-viewer/toolbar/toolbar_page_indicator",["require","exports","tslib","react","classnames","lodash","spectrum/tooltip"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageIndicator=t.PAGE_UPDATE_DEBOUNCE=void 0,r=i.__importStar(r),n=i.__importDefault(n);var s="_2UCcY_L_ut",l="fFd_Ukn_Rn",c="_2lAAAHouQ7",d="_2XAzYxu3_c",u="_1OQ3or8fKn",p="_1f0fWYhQct",f="_1uX-Yvcuyj";t.PAGE_UPDATE_DEBOUNCE=300;var _=(function(e){function _(i){var r=e.call(this,i)||this;return r.textInput=null,r.textInputRef=function(e){return r.textInput=e},r.handleBlur=function(e){r.setState({focused:!1,isEditing:!1}),r.props.onBlur&&r.props.onBlur(e)},r.debouncedOnChange=a.debounce(r.props.onPageNumberUpdated,t.PAGE_UPDATE_DEBOUNCE),r.handleChange=function(e){var t=e.target.value,i=r.parsePageNumber(t);i?r.isPageNumberInRange(i)&&r.setState({value:i},(function(){r.debouncedOnChange(i-1)})):r.setState({value:""},r.debouncedOnChange.cancel)},r.handleFocus=function(e){r.setState({focused:!0,isEditing:!0,value:""}),r.props.onFocus&&r.props.onFocus(e)},r.handleSubmit=function(e){e.preventDefault();var t=r.state.value,i=r.parsePageNumber(t);i&&r.isPageNumberInRange(i)&&r.debouncedOnChange(i-1),r.textInput&&r.textInput.blur()},r.handleWrapperClick=function(){r.setState({isEditing:!0},(function(){r.textInput&&r.textInput.focus()}))},r.parsePageNumber=function(e){if(!e||""===e)return null;var t=parseInt(e,10);return isNaN(t)?null:t},r.isPageNumberInRange=function(e){var t=r.props,i=t.currentPageIndex,n=t.pageCount;return!(void 0===i||!n)&&(e>0&&e<=n)},r.state={focused:!1,isEditing:!1,value:i.currentPageIndex+1||""},r}return i.__extends(_,e),_.prototype.render=function(){var e,t,i,a,_=this.props,v=_.className,g=_.disabled,m=_.intl,h=_.id,b=_.pageCount,w=_.shouldShowPageCount,A=this.state,y=A.focused,P=A.isEditing,S=A.value,E=b&&w?" / "+b+" ":"",x=m.formatMessage({id:"vQ64dZ",defaultMessage:"Page..."}),C=m.formatMessage({id:"oiPyQG",defaultMessage:"Click to jump to a page"});return r.createElement("div",{className:n.default(v,s,(e={},e[l]=y,e)),onClick:this.handleWrapperClick},r.createElement(o.Tooltip,{positionOffset:24,positioning:"above",tooltipContent:C},r.createElement("div",null,r.createElement("form",{className:c,onSubmit:this.handleSubmit},r.createElement("label",{"aria-label":C,htmlFor:h},r.createElement("input",{autoComplete:"off",className:n.default(d,(t={},t[l]=y,t[f]=!P,t[u]=!!S&&y,t)),disabled:g,id:h,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,placeholder:x,ref:this.textInputRef,type:"text",value:S}))),r.createElement("span",{className:n.default(p,(i={},i[f]=P,i))},this.props.currentPageIndex+1),r.createElement("span",{className:n.default((a={},a[f]=!S&&y,a))},E))))},_.prototype.componentWillReceiveProps=function(e){e.currentPageIndex!==this.props.currentPageIndex&&(this.debouncedOnChange.cancel(),this.setState({value:e.currentPageIndex+1}))},_})(r.PureComponent);t.PageIndicator=_})),define("file-viewer/toolbar/toolbar",["require","exports","tslib","react","react-redux","classnames","file-viewer/toolbar/configuration","file-viewer/core/data/actions","file-viewer/core/data/selectors","file-viewer/core/data/utils","file-viewer/toolbar/index","file-viewer/toolbar/page_navigation_controls"],(function(e,t,i,r,n,a,o,s,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurableToolbar=t.ConfigurableToolbarInternal=t.PreviewToolbar=void 0,r=i.__importStar(r),a=i.__importDefault(a);var p="_1x63kVqkYi",f=function(e){var t=e.className,i=e.children;return r.createElement("div",{className:a.default(t,p)},i)};t.PreviewToolbar=f;t.ConfigurableToolbarInternal=function(e){var t=e.className,n=e.dispatch,a=e.featureConfig,l=e.fileFlippingContext,c=e.fileId,p=e.fileViewerId,_=e.intl,v=e.isDocSidebarOpen,g=e.isFullScreen,m=e.onPrint,h=e.previewType,b=e.scaleFactor,w=o.getToolbarConfigByPreviewType(h,a),A={fileViewerId:p,fileIdOrRevisionId:c,sourceContext:"toolbar"},y=w.fileFlipping&&d.filterValidFileFlippingContext(l),P=w.docSidebar&&!g;return P||w.fullscreen||w.pageNavigation||w.print||w.zooming&&null!=b||y?r.createElement(f,{className:t},P&&r.createElement(d.SidebarToggleButton,{intl:_,key:p+"-"+c+"-doc-sidebar-toggle",isSidebarOpen:v,onSidebarClose:function(){return n(s.closeDocSidebar(A))},onSidebarOpen:function(){return n(s.openDocSidebar(A))}}),y&&r.createElement(d.ToolbarFlipButtons,{count:l.parent_files_count,intl:_,index:l.file_index,key:p+"-"+c+"-file-flipping-controls",onClickNext:function(){return n(s.flipToNextFile(A))},onClickPrevious:function(){return n(s.flipToPreviousFile(A))}}),w.pageNavigation&&r.createElement(u.PageNavigationControls,{fileId:c,fileViewerId:p,intl:_,key:p+"-"+c+"-page-navigation"}),w.zooming&&null!=b&&r.createElement(r.Fragment,null,r.createElement(d.ZoomOutButton,{disabled:b<=.1,intl:_,key:p+"-"+c+"-zoom-out",onClick:function(){return n(s.zoomOut(A))}}),r.createElement(d.ZoomToFitButton,{intl:_,key:p+"-"+c+"-zoom-to-fit",onClick:function(){return n(s.zoomOriginalOrFit(A))},zoomPercent:b}),r.createElement(d.ZoomInButton,{disabled:b>=10,intl:_,key:p+"-"+c+"-zoom-in",onClick:function(){return n(s.zoomIn(A))}})),w.fullscreen&&r.createElement(d.FullScreenButton,{intl:_,key:p+"-"+c+"-fullscreen",onClick:function(){n(g?s.exitFullScreen(i.__assign(i.__assign({},A),{isFromOutsideSDK:!1})):s.enterFullScreen(A))}}),w.print&&r.createElement(d.PrintButton,{intl:_,key:p+"-"+c+"-print",onClick:function(){null==m||m(),n(s.print(i.__assign(i.__assign({},A),{previewType:h})))}})):null},t.ConfigurableToolbar=n.connect((function(e,t){var i,r,n,a=l.getCurrentFilePreviewUI(e,{fileViewerId:t.fileViewerId}),o=l.getFileViewerUi(e,{fileViewerId:t.fileViewerId});return{fileFlippingContext:l.getCurrentFileMetadata(e,{fileViewerId:t.fileViewerId}).file_collection_context||void 0,isDocSidebarOpen:null==o?void 0:o.isDocSidebarOpen,isFullScreen:null!==(i=null==a?void 0:a.isFullScreen)&&void 0!==i&&i,scaleFactor:(null===(r=c.filterZoomableFilePreviewUi(a))||void 0===r?void 0:r.zoomScaleFactor)||(null===(n=c.filterZoomableFilePreviewUi(a))||void 0===n?void 0:n.fitScaleFactor)||void 0}}))(t.ConfigurableToolbarInternal)})),define("file-viewer/toolbar/zoom_to_fit_button",["require","exports","tslib","react","classnames","spectrum/tooltip","spectrum/button"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomToFitButton=void 0,r=i.__importStar(r),n=i.__importDefault(n);var s="BwAKgVnIAr",l="_3f_2x8b6A8",c=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.onClick(e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,i=e.className,c=e.intl,d=e.zoomPercent,u=d&&1===d?c.formatMessage({id:"OgNBqT",defaultMessage:"Zoom to fit"}):c.formatMessage({id:"0AbCS6",defaultMessage:"View actual size"});return r.createElement("div",{className:n.default(i,s)},r.createElement(a.Tooltip,{positionOffset:24,positioning:"above",tooltipContent:u},r.createElement(o.Button,{variant:"styleless","aria-label":u,className:l,onClick:this.handleClick},t.getFormattedZoomPercentage(d,c))))},t})(r.PureComponent);t.ZoomToFitButton=c,c.getFormattedZoomPercentage=function(e,t){return e?t.formatNumber(e,{style:"percent",maximumFractionDigits:0}):""}})),define("file-viewer/ui/index",["require","exports","file-viewer/ui/close_button"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseButton=void 0,Object.defineProperty(t,"CloseButton",{enumerable:!0,get:function(){return i.CloseButton}})})),define("file-viewer/ui/close_button",["require","exports","tslib","react","dig-components/buttons","dig-components/icons","dig-components/icons/src"],(function(e,t,i,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseButton=void 0,r=i.__importStar(r);t.CloseButton=function(e){var t=e.className,i=e.intl,s=e.onClick,l=e.isInverse,c=void 0===l||l;return r.createElement("span",{className:null!=t?t:"_2AobjyYd3C"},r.createElement(n.IconButton,{onClick:s,variant:"transparent",inverse:c},r.createElement(a.UIIcon,{"aria-label":i.formatMessage({id:"R/Hjn0",defaultMessage:"Close"}),src:o.CloseLine})))}})),define("file-viewer/plugins/layers",["require","exports","tslib","react","react-dom"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PortalWrapper=t.PortalTargetProvider=void 0,r=i.__importStar(r),n=i.__importDefault(n);var a=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.portalContainer=document.createElement("div"),t.attachPortalContainer=function(e){null!=e?(e.childNodes.forEach((function(t){return e.removeChild(t)})),e.appendChild(t.portalContainer)):null!=t.portalContainer.parentElement&&t.portalContainer.parentElement.removeChild(t.portalContainer)},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return r.createElement(r.Fragment,null,r.createElement("div",{ref:this.attachPortalContainer}),e(this.portalContainer))},t})(r.Component);t.PortalTargetProvider=a;var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,i=e.element;return n.default.createPortal(t,i)},t})(r.PureComponent);t.PortalWrapper=o})),define("modules/clean/api_v2/redux/base_action",["require","exports","tslib"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createMiddleware=t._createAction=void 0,t._createAction=function(e){return function(t,i,r){return{type:e,payload:t,meta:i,error:r}}},t._createMiddleware=function(e){return function(t){var r=this;return function(n){var a=n.dispatch;return function(n){return function(o){return i.__awaiter(r,void 0,void 0,(function(){var r,s,l,c,d,u,p;return i.__generator(this,(function(i){switch(i.label){case 0:if(s=n(o),!(l=e[o.type]))return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),d=(c=l).action,p={arg:o.payload.arg},[4,t.rpc(l.endpoint,o.payload.arg,o.payload.params||{})];case 2:return r=d.apply(c,[(p.result=i.sent(),p),o.meta]),[3,4];case 3:return u=i.sent(),r=l.action({arg:o.payload.arg,params:o.payload.params},o.meta,u),[3,4];case 4:return[2,a(r)];case 5:return[2,s]}}))}))}}}}}})),define("modules/clean/api_v2/redux/comments2",["require","exports","modules/clean/api_v2/redux/base_action"],(function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.unsubscribeResultAction=t.unsubscribeAction=t.unresolveThreadResultAction=t.unresolveThreadAction=t.subscribeResultAction=t.subscribeAction=t.resolveThreadResultAction=t.resolveThreadAction=t.markThreadUnreadResultAction=t.markThreadUnreadAction=t.markThreadReadResultAction=t.markThreadReadAction=t.markHasOnboardedResultAction=t.markHasOnboardedAction=t.loggedOutListCommentsResultAction=t.loggedOutListCommentsAction=t.loggedOutAddCommentResultAction=t.loggedOutAddCommentAction=t.logPerfEventResultAction=t.logPerfEventAction=t.logEventResultAction=t.logEventAction=t.listThreadsPaginatedResultAction=t.listThreadsPaginatedAction=t.listThreadsBatchPaginatedResultAction=t.listThreadsBatchPaginatedAction=t.listCommentsBatchResultAction=t.listCommentsBatchAction=t.listCommentsResultAction=t.listCommentsAction=t.getFolderLiveUpdatingInfoResultAction=t.getFolderLiveUpdatingInfoAction=t.enableCommentingResultAction=t.enableCommentingAction=t.editCommentResultAction=t.editCommentAction=t.disableCommentingResultAction=t.disableCommentingAction=t.deleteCommentResultAction=t.deleteCommentAction=t.checkOnboardingStatusResultAction=t.checkOnboardingStatusAction=t.addCommentResultAction=t.addCommentAction=t.Action=void 0,t.Action={AddComment:"@@apiv2_redux/comments2/add_comment",AddCommentResult:"@@apiv2_redux/comments2/add_comment_result",CheckOnboardingStatus:"@@apiv2_redux/comments2/check_onboarding_status",CheckOnboardingStatusResult:"@@apiv2_redux/comments2/check_onboarding_status_result",DeleteComment:"@@apiv2_redux/comments2/delete_comment",DeleteCommentResult:"@@apiv2_redux/comments2/delete_comment_result",DisableCommenting:"@@apiv2_redux/comments2/disable_commenting",DisableCommentingResult:"@@apiv2_redux/comments2/disable_commenting_result",EditComment:"@@apiv2_redux/comments2/edit_comment",EditCommentResult:"@@apiv2_redux/comments2/edit_comment_result",EnableCommenting:"@@apiv2_redux/comments2/enable_commenting",EnableCommentingResult:"@@apiv2_redux/comments2/enable_commenting_result",GetFolderLiveUpdatingInfo:"@@apiv2_redux/comments2/get_folder_live_updating_info",GetFolderLiveUpdatingInfoResult:"@@apiv2_redux/comments2/get_folder_live_updating_info_result",ListComments:"@@apiv2_redux/comments2/list_comments",ListCommentsResult:"@@apiv2_redux/comments2/list_comments_result",ListCommentsBatch:"@@apiv2_redux/comments2/list_comments_batch",ListCommentsBatchResult:"@@apiv2_redux/comments2/list_comments_batch_result",ListThreadsBatchPaginated:"@@apiv2_redux/comments2/list_threads_batch_paginated",ListThreadsBatchPaginatedResult:"@@apiv2_redux/comments2/list_threads_batch_paginated_result",ListThreadsPaginated:"@@apiv2_redux/comments2/list_threads_paginated",ListThreadsPaginatedResult:"@@apiv2_redux/comments2/list_threads_paginated_result",LogEvent:"@@apiv2_redux/comments2/log_event",LogEventResult:"@@apiv2_redux/comments2/log_event_result",LogPerfEvent:"@@apiv2_redux/comments2/log_perf_event",LogPerfEventResult:"@@apiv2_redux/comments2/log_perf_event_result",LoggedOutAddComment:"@@apiv2_redux/comments2/logged_out/add_comment",LoggedOutAddCommentResult:"@@apiv2_redux/comments2/logged_out/add_comment_result",LoggedOutListComments:"@@apiv2_redux/comments2/logged_out/list_comments",LoggedOutListCommentsResult:"@@apiv2_redux/comments2/logged_out/list_comments_result",MarkHasOnboarded:"@@apiv2_redux/comments2/mark_has_onboarded",MarkHasOnboardedResult:"@@apiv2_redux/comments2/mark_has_onboarded_result",MarkThreadRead:"@@apiv2_redux/comments2/mark_thread_read",MarkThreadReadResult:"@@apiv2_redux/comments2/mark_thread_read_result",MarkThreadUnread:"@@apiv2_redux/comments2/mark_thread_unread",MarkThreadUnreadResult:"@@apiv2_redux/comments2/mark_thread_unread_result",ResolveThread:"@@apiv2_redux/comments2/resolve_thread",ResolveThreadResult:"@@apiv2_redux/comments2/resolve_thread_result",Subscribe:"@@apiv2_redux/comments2/subscribe",SubscribeResult:"@@apiv2_redux/comments2/subscribe_result",UnresolveThread:"@@apiv2_redux/comments2/unresolve_thread",UnresolveThreadResult:"@@apiv2_redux/comments2/unresolve_thread_result",Unsubscribe:"@@apiv2_redux/comments2/unsubscribe",UnsubscribeResult:"@@apiv2_redux/comments2/unsubscribe_result"},t.addCommentAction=i._createAction(t.Action.AddComment),t.addCommentResultAction=i._createAction(t.Action.AddCommentResult),t.checkOnboardingStatusAction=i._createAction(t.Action.CheckOnboardingStatus),t.checkOnboardingStatusResultAction=i._createAction(t.Action.CheckOnboardingStatusResult),t.deleteCommentAction=i._createAction(t.Action.DeleteComment),t.deleteCommentResultAction=i._createAction(t.Action.DeleteCommentResult),t.disableCommentingAction=i._createAction(t.Action.DisableCommenting),t.disableCommentingResultAction=i._createAction(t.Action.DisableCommentingResult),t.editCommentAction=i._createAction(t.Action.EditComment),t.editCommentResultAction=i._createAction(t.Action.EditCommentResult),t.enableCommentingAction=i._createAction(t.Action.EnableCommenting),t.enableCommentingResultAction=i._createAction(t.Action.EnableCommentingResult),t.getFolderLiveUpdatingInfoAction=i._createAction(t.Action.GetFolderLiveUpdatingInfo),t.getFolderLiveUpdatingInfoResultAction=i._createAction(t.Action.GetFolderLiveUpdatingInfoResult),t.listCommentsAction=i._createAction(t.Action.ListComments),t.listCommentsResultAction=i._createAction(t.Action.ListCommentsResult),t.listCommentsBatchAction=i._createAction(t.Action.ListCommentsBatch),t.listCommentsBatchResultAction=i._createAction(t.Action.ListCommentsBatchResult),t.listThreadsBatchPaginatedAction=i._createAction(t.Action.ListThreadsBatchPaginated),t.listThreadsBatchPaginatedResultAction=i._createAction(t.Action.ListThreadsBatchPaginatedResult),t.listThreadsPaginatedAction=i._createAction(t.Action.ListThreadsPaginated),t.listThreadsPaginatedResultAction=i._createAction(t.Action.ListThreadsPaginatedResult),t.logEventAction=i._createAction(t.Action.LogEvent),t.logEventResultAction=i._createAction(t.Action.LogEventResult),t.logPerfEventAction=i._createAction(t.Action.LogPerfEvent),t.logPerfEventResultAction=i._createAction(t.Action.LogPerfEventResult),t.loggedOutAddCommentAction=i._createAction(t.Action.LoggedOutAddComment),t.loggedOutAddCommentResultAction=i._createAction(t.Action.LoggedOutAddCommentResult),t.loggedOutListCommentsAction=i._createAction(t.Action.LoggedOutListComments),t.loggedOutListCommentsResultAction=i._createAction(t.Action.LoggedOutListCommentsResult),t.markHasOnboardedAction=i._createAction(t.Action.MarkHasOnboarded),t.markHasOnboardedResultAction=i._createAction(t.Action.MarkHasOnboardedResult),t.markThreadReadAction=i._createAction(t.Action.MarkThreadRead),t.markThreadReadResultAction=i._createAction(t.Action.MarkThreadReadResult),t.markThreadUnreadAction=i._createAction(t.Action.MarkThreadUnread),t.markThreadUnreadResultAction=i._createAction(t.Action.MarkThreadUnreadResult),t.resolveThreadAction=i._createAction(t.Action.ResolveThread),t.resolveThreadResultAction=i._createAction(t.Action.ResolveThreadResult),t.subscribeAction=i._createAction(t.Action.Subscribe),t.subscribeResultAction=i._createAction(t.Action.SubscribeResult),t.unresolveThreadAction=i._createAction(t.Action.UnresolveThread),t.unresolveThreadResultAction=i._createAction(t.Action.UnresolveThreadResult),t.unsubscribeAction=i._createAction(t.Action.Unsubscribe),t.unsubscribeResultAction=i._createAction(t.Action.UnsubscribeResult);var n=((r={})[t.Action.AddComment]={endpoint:"add_comment",action:t.addCommentResultAction},r[t.Action.CheckOnboardingStatus]={endpoint:"check_onboarding_status",action:t.checkOnboardingStatusResultAction},r[t.Action.DeleteComment]={endpoint:"delete_comment",action:t.deleteCommentResultAction},r[t.Action.DisableCommenting]={endpoint:"disable_commenting",action:t.disableCommentingResultAction},r[t.Action.EditComment]={endpoint:"edit_comment",action:t.editCommentResultAction},r[t.Action.EnableCommenting]={endpoint:"enable_commenting",action:t.enableCommentingResultAction},r[t.Action.GetFolderLiveUpdatingInfo]={endpoint:"get_folder_live_updating_info",action:t.getFolderLiveUpdatingInfoResultAction},r[t.Action.ListComments]={endpoint:"list_comments",action:t.listCommentsResultAction},r[t.Action.ListCommentsBatch]={endpoint:"list_comments_batch",action:t.listCommentsBatchResultAction},r[t.Action.ListThreadsBatchPaginated]={endpoint:"list_threads_batch_paginated",action:t.listThreadsBatchPaginatedResultAction},r[t.Action.ListThreadsPaginated]={endpoint:"list_threads_paginated",action:t.listThreadsPaginatedResultAction},r[t.Action.LogEvent]={endpoint:"log_event",action:t.logEventResultAction},r[t.Action.LogPerfEvent]={endpoint:"log_perf_event",action:t.logPerfEventResultAction},r[t.Action.LoggedOutAddComment]={endpoint:"logged_out/add_comment",action:t.loggedOutAddCommentResultAction},r[t.Action.LoggedOutListComments]={endpoint:"logged_out/list_comments",action:t.loggedOutListCommentsResultAction},r[t.Action.MarkHasOnboarded]={endpoint:"mark_has_onboarded",action:t.markHasOnboardedResultAction},r[t.Action.MarkThreadRead]={endpoint:"mark_thread_read",action:t.markThreadReadResultAction},r[t.Action.MarkThreadUnread]={endpoint:"mark_thread_unread",action:t.markThreadUnreadResultAction},r[t.Action.ResolveThread]={endpoint:"resolve_thread",action:t.resolveThreadResultAction},r[t.Action.Subscribe]={endpoint:"subscribe",action:t.subscribeResultAction},r[t.Action.UnresolveThread]={endpoint:"unresolve_thread",action:t.unresolveThreadResultAction},r[t.Action.Unsubscribe]={endpoint:"unsubscribe",action:t.unsubscribeResultAction},r);t.middleware=i._createMiddleware(n)})),define("modules/clean/api_v2/redux/files",["require","exports","modules/clean/api_v2/redux/base_action"],(function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.validateUploadResultAction=t.validateUploadAction=t.uploadSessionFinishProcessedCheckResultAction=t.uploadSessionFinishProcessedCheckAction=t.uploadSessionFinishBatchSyncResultAction=t.uploadSessionFinishBatchSyncAction=t.uploadSessionFinishBatchCheckResultAction=t.uploadSessionFinishBatchCheckAction=t.uploadSessionFinishBatchResultAction=t.uploadSessionFinishBatchAction=t.uploadSessionCheckFinishBatchJobStatusResultAction=t.uploadSessionCheckFinishBatchJobStatusAction=t.unlockFileBatchResultAction=t.unlockFileBatchAction=t.undoBatchResultAction=t.undoBatchAction=t.treeViewFoldersResultAction=t.treeViewFoldersAction=t.setDescriptionResultAction=t.setDescriptionAction=t.searchExResultAction=t.searchExAction=t.searchContinueV2ResultAction=t.searchContinueV2Action=t.searchV2ResultAction=t.searchV2Action=t.searchResultAction=t.searchAction=t.saveUrlCheckJobStatusResultAction=t.saveUrlCheckJobStatusAction=t.saveUrlResultAction=t.saveUrlAction=t.restorePathBatchSyncResultAction=t.restorePathBatchSyncAction=t.restoreResultAction=t.restoreAction=t.requestUnlockFileBatchResultAction=t.requestUnlockFileBatchAction=t.removeContentReferencesResultAction=t.removeContentReferencesAction=t.propertiesUpdateResultAction=t.propertiesUpdateAction=t.propertiesTemplateListResultAction=t.propertiesTemplateListAction=t.propertiesTemplateGetResultAction=t.propertiesTemplateGetAction=t.propertiesRemoveResultAction=t.propertiesRemoveAction=t.propertiesOverwriteResultAction=t.propertiesOverwriteAction=t.propertiesAddResultAction=t.propertiesAddAction=t.permanentlyDeleteResultAction=t.permanentlyDeleteAction=t.paperUpdateResultAction=t.paperUpdateAction=t.paperCreateResultAction=t.paperCreateAction=t.moveBatchSyncResultAction=t.moveBatchSyncAction=t.moveBatchCheckResultAction=t.moveBatchCheckAction=t.moveBatchCheckV2ResultAction=t.moveBatchCheckV2Action=t.moveBatchResultAction=t.moveBatchAction=t.moveBatchV2ResultAction=t.moveBatchV2Action=t.moveResultAction=t.moveAction=t.moveV2ResultAction=t.moveV2Action=t.mediaTranscodeResultAction=t.mediaTranscodeAction=t.lockFileBatchResultAction=t.lockFileBatchAction=t.listSubfoldersResultAction=t.listSubfoldersAction=t.listRevisionsResultAction=t.listRevisionsAction=t.listFolderGetMountInfoResultAction=t.listFolderGetMountInfoAction=t.listFolderGetLatestCursorResultAction=t.listFolderGetLatestCursorAction=t.listFolderContinueResultAction=t.listFolderContinueAction=t.listFolderResultAction=t.listFolderAction=t.getUploadInfoResultAction=t.getUploadInfoAction=t.getTemporaryUploadLinkResultAction=t.getTemporaryUploadLinkAction=t.getTemporaryLinkResultAction=t.getTemporaryLinkAction=t.getQuerySuggestionsResultAction=t.getQuerySuggestionsAction=t.getPreviewableExtensionsResultAction=t.getPreviewableExtensionsAction=t.getMetadataBatchResultAction=t.getMetadataBatchAction=t.getMetadataResultAction=t.getMetadataAction=t.getFileLockBatchResultAction=t.getFileLockBatchAction=t.getFileContentMetadataResultAction=t.getFileContentMetadataAction=t.getDescriptionBatchResultAction=t.getDescriptionBatchAction=t.getContentReferencesInfoBatchResultAction=t.getContentReferencesInfoBatchAction=t.getContentReferencesInfoResultAction=t.getContentReferencesInfoAction=t.getContentReferencesBatchResultAction=t.getContentReferencesBatchAction=t.getBrowseBoltDataResultAction=t.getBrowseBoltDataAction=t.deleteWithChangesetResultAction=t.deleteWithChangesetAction=t.deleteBatchWithChangesetSyncResultAction=t.deleteBatchWithChangesetSyncAction=t.deleteBatchCheckResultAction=t.deleteBatchCheckAction=t.deleteBatchResultAction=t.deleteBatchAction=t.deleteResultAction=t.deleteAction=t.deleteV2ResultAction=t.deleteV2Action=t.createFolderBatchCheckResultAction=t.createFolderBatchCheckAction=t.createFolderBatchResultAction=t.createFolderBatchAction=t.createFolderResultAction=t.createFolderAction=t.createFolderV2ResultAction=t.createFolderV2Action=t.copyReferenceSaveResultAction=t.copyReferenceSaveAction=t.copyReferenceGetResultAction=t.copyReferenceGetAction=t.copyBatchSyncResultAction=t.copyBatchSyncAction=t.copyBatchCheckResultAction=t.copyBatchCheckAction=t.copyBatchCheckV2ResultAction=t.copyBatchCheckV2Action=t.copyBatchResultAction=t.copyBatchAction=t.copyBatchV2ResultAction=t.copyBatchV2Action=t.copyResultAction=t.copyAction=t.copyV2ResultAction=t.copyV2Action=t.browseContinueResultAction=t.browseContinueAction=t.browseResultAction=t.browseAction=t.alphaGetMetadataResultAction=t.alphaGetMetadataAction=t.addContentReferencesToPathResultAction=t.addContentReferencesToPathAction=t.addContentReferencesResultAction=t.addContentReferencesAction=t.Action=void 0,t.Action={AddContentReferences:"@@apiv2_redux/files/add_content_references",AddContentReferencesResult:"@@apiv2_redux/files/add_content_references_result",AddContentReferencesToPath:"@@apiv2_redux/files/add_content_references_to_path",AddContentReferencesToPathResult:"@@apiv2_redux/files/add_content_references_to_path_result",AlphaGetMetadata:"@@apiv2_redux/files/alpha/get_metadata",AlphaGetMetadataResult:"@@apiv2_redux/files/alpha/get_metadata_result",Browse:"@@apiv2_redux/files/browse",BrowseResult:"@@apiv2_redux/files/browse_result",BrowseContinue:"@@apiv2_redux/files/browse_continue",BrowseContinueResult:"@@apiv2_redux/files/browse_continue_result",CopyV2:"@@apiv2_redux/files/copy_v2",CopyV2Result:"@@apiv2_redux/files/copy_v2_result",Copy:"@@apiv2_redux/files/copy",CopyResult:"@@apiv2_redux/files/copy_result",CopyBatchV2:"@@apiv2_redux/files/copy_batch_v2",CopyBatchV2Result:"@@apiv2_redux/files/copy_batch_v2_result",CopyBatch:"@@apiv2_redux/files/copy_batch",CopyBatchResult:"@@apiv2_redux/files/copy_batch_result",CopyBatchCheckV2:"@@apiv2_redux/files/copy_batch/check_v2",CopyBatchCheckV2Result:"@@apiv2_redux/files/copy_batch/check_v2_result",CopyBatchCheck:"@@apiv2_redux/files/copy_batch/check",CopyBatchCheckResult:"@@apiv2_redux/files/copy_batch/check_result",CopyBatchSync:"@@apiv2_redux/files/copy_batch_sync",CopyBatchSyncResult:"@@apiv2_redux/files/copy_batch_sync_result",CopyReferenceGet:"@@apiv2_redux/files/copy_reference/get",CopyReferenceGetResult:"@@apiv2_redux/files/copy_reference/get_result",CopyReferenceSave:"@@apiv2_redux/files/copy_reference/save",CopyReferenceSaveResult:"@@apiv2_redux/files/copy_reference/save_result",CreateFolderV2:"@@apiv2_redux/files/create_folder_v2",CreateFolderV2Result:"@@apiv2_redux/files/create_folder_v2_result",CreateFolder:"@@apiv2_redux/files/create_folder",CreateFolderResult:"@@apiv2_redux/files/create_folder_result",CreateFolderBatch:"@@apiv2_redux/files/create_folder_batch",CreateFolderBatchResult:"@@apiv2_redux/files/create_folder_batch_result",CreateFolderBatchCheck:"@@apiv2_redux/files/create_folder_batch/check",CreateFolderBatchCheckResult:"@@apiv2_redux/files/create_folder_batch/check_result",DeleteV2:"@@apiv2_redux/files/delete_v2",DeleteV2Result:"@@apiv2_redux/files/delete_v2_result",Delete:"@@apiv2_redux/files/delete",DeleteResult:"@@apiv2_redux/files/delete_result",DeleteBatch:"@@apiv2_redux/files/delete_batch",DeleteBatchResult:"@@apiv2_redux/files/delete_batch_result",DeleteBatchCheck:"@@apiv2_redux/files/delete_batch/check",DeleteBatchCheckResult:"@@apiv2_redux/files/delete_batch/check_result",DeleteBatchWithChangesetSync:"@@apiv2_redux/files/delete_batch_with_changeset_sync",DeleteBatchWithChangesetSyncResult:"@@apiv2_redux/files/delete_batch_with_changeset_sync_result",DeleteWithChangeset:"@@apiv2_redux/files/delete_with_changeset",DeleteWithChangesetResult:"@@apiv2_redux/files/delete_with_changeset_result",GetBrowseBoltData:"@@apiv2_redux/files/get_browse_bolt_data",GetBrowseBoltDataResult:"@@apiv2_redux/files/get_browse_bolt_data_result",GetContentReferencesBatch:"@@apiv2_redux/files/get_content_references_batch",GetContentReferencesBatchResult:"@@apiv2_redux/files/get_content_references_batch_result",GetContentReferencesInfo:"@@apiv2_redux/files/get_content_references_info",GetContentReferencesInfoResult:"@@apiv2_redux/files/get_content_references_info_result",GetContentReferencesInfoBatch:"@@apiv2_redux/files/get_content_references_info_batch",GetContentReferencesInfoBatchResult:"@@apiv2_redux/files/get_content_references_info_batch_result",GetDescriptionBatch:"@@apiv2_redux/files/get_description_batch",GetDescriptionBatchResult:"@@apiv2_redux/files/get_description_batch_result",GetFileContentMetadata:"@@apiv2_redux/files/get_file_content_metadata",GetFileContentMetadataResult:"@@apiv2_redux/files/get_file_content_metadata_result",GetFileLockBatch:"@@apiv2_redux/files/get_file_lock_batch",GetFileLockBatchResult:"@@apiv2_redux/files/get_file_lock_batch_result",GetMetadata:"@@apiv2_redux/files/get_metadata",GetMetadataResult:"@@apiv2_redux/files/get_metadata_result",GetMetadataBatch:"@@apiv2_redux/files/get_metadata_batch",GetMetadataBatchResult:"@@apiv2_redux/files/get_metadata_batch_result",GetPreviewableExtensions:"@@apiv2_redux/files/get_previewable_extensions",GetPreviewableExtensionsResult:"@@apiv2_redux/files/get_previewable_extensions_result",GetQuerySuggestions:"@@apiv2_redux/files/get_query_suggestions",GetQuerySuggestionsResult:"@@apiv2_redux/files/get_query_suggestions_result",GetTemporaryLink:"@@apiv2_redux/files/get_temporary_link",GetTemporaryLinkResult:"@@apiv2_redux/files/get_temporary_link_result",GetTemporaryUploadLink:"@@apiv2_redux/files/get_temporary_upload_link",GetTemporaryUploadLinkResult:"@@apiv2_redux/files/get_temporary_upload_link_result",GetUploadInfo:"@@apiv2_redux/files/get_upload_info",GetUploadInfoResult:"@@apiv2_redux/files/get_upload_info_result",ListFolder:"@@apiv2_redux/files/list_folder",ListFolderResult:"@@apiv2_redux/files/list_folder_result",ListFolderContinue:"@@apiv2_redux/files/list_folder/continue",ListFolderContinueResult:"@@apiv2_redux/files/list_folder/continue_result",ListFolderGetLatestCursor:"@@apiv2_redux/files/list_folder/get_latest_cursor",ListFolderGetLatestCursorResult:"@@apiv2_redux/files/list_folder/get_latest_cursor_result",ListFolderGetMountInfo:"@@apiv2_redux/files/list_folder/get_mount_info",ListFolderGetMountInfoResult:"@@apiv2_redux/files/list_folder/get_mount_info_result",ListRevisions:"@@apiv2_redux/files/list_revisions",ListRevisionsResult:"@@apiv2_redux/files/list_revisions_result",ListSubfolders:"@@apiv2_redux/files/list_subfolders",ListSubfoldersResult:"@@apiv2_redux/files/list_subfolders_result",LockFileBatch:"@@apiv2_redux/files/lock_file_batch",LockFileBatchResult:"@@apiv2_redux/files/lock_file_batch_result",MediaTranscode:"@@apiv2_redux/files/media_transcode",MediaTranscodeResult:"@@apiv2_redux/files/media_transcode_result",MoveV2:"@@apiv2_redux/files/move_v2",MoveV2Result:"@@apiv2_redux/files/move_v2_result",Move:"@@apiv2_redux/files/move",MoveResult:"@@apiv2_redux/files/move_result",MoveBatchV2:"@@apiv2_redux/files/move_batch_v2",MoveBatchV2Result:"@@apiv2_redux/files/move_batch_v2_result",MoveBatch:"@@apiv2_redux/files/move_batch",MoveBatchResult:"@@apiv2_redux/files/move_batch_result",MoveBatchCheckV2:"@@apiv2_redux/files/move_batch/check_v2",MoveBatchCheckV2Result:"@@apiv2_redux/files/move_batch/check_v2_result",MoveBatchCheck:"@@apiv2_redux/files/move_batch/check",MoveBatchCheckResult:"@@apiv2_redux/files/move_batch/check_result",MoveBatchSync:"@@apiv2_redux/files/move_batch_sync",MoveBatchSyncResult:"@@apiv2_redux/files/move_batch_sync_result",PaperCreate:"@@apiv2_redux/files/paper/create",PaperCreateResult:"@@apiv2_redux/files/paper/create_result",PaperUpdate:"@@apiv2_redux/files/paper/update",PaperUpdateResult:"@@apiv2_redux/files/paper/update_result",PermanentlyDelete:"@@apiv2_redux/files/permanently_delete",PermanentlyDeleteResult:"@@apiv2_redux/files/permanently_delete_result",PropertiesAdd:"@@apiv2_redux/files/properties/add",PropertiesAddResult:"@@apiv2_redux/files/properties/add_result",PropertiesOverwrite:"@@apiv2_redux/files/properties/overwrite",PropertiesOverwriteResult:"@@apiv2_redux/files/properties/overwrite_result",PropertiesRemove:"@@apiv2_redux/files/properties/remove",PropertiesRemoveResult:"@@apiv2_redux/files/properties/remove_result",PropertiesTemplateGet:"@@apiv2_redux/files/properties/template/get",PropertiesTemplateGetResult:"@@apiv2_redux/files/properties/template/get_result",PropertiesTemplateList:"@@apiv2_redux/files/properties/template/list",PropertiesTemplateListResult:"@@apiv2_redux/files/properties/template/list_result",PropertiesUpdate:"@@apiv2_redux/files/properties/update",PropertiesUpdateResult:"@@apiv2_redux/files/properties/update_result",RemoveContentReferences:"@@apiv2_redux/files/remove_content_references",RemoveContentReferencesResult:"@@apiv2_redux/files/remove_content_references_result",RequestUnlockFileBatch:"@@apiv2_redux/files/request_unlock_file_batch",RequestUnlockFileBatchResult:"@@apiv2_redux/files/request_unlock_file_batch_result",Restore:"@@apiv2_redux/files/restore",RestoreResult:"@@apiv2_redux/files/restore_result",RestorePathBatchSync:"@@apiv2_redux/files/restore_path_batch_sync",RestorePathBatchSyncResult:"@@apiv2_redux/files/restore_path_batch_sync_result",SaveUrl:"@@apiv2_redux/files/save_url",SaveUrlResult:"@@apiv2_redux/files/save_url_result",SaveUrlCheckJobStatus:"@@apiv2_redux/files/save_url/check_job_status",SaveUrlCheckJobStatusResult:"@@apiv2_redux/files/save_url/check_job_status_result",Search:"@@apiv2_redux/files/search",SearchResult:"@@apiv2_redux/files/search_result",SearchV2:"@@apiv2_redux/files/search_v2",SearchV2Result:"@@apiv2_redux/files/search_v2_result",SearchContinueV2:"@@apiv2_redux/files/search/continue_v2",SearchContinueV2Result:"@@apiv2_redux/files/search/continue_v2_result",SearchEx:"@@apiv2_redux/files/search_ex",SearchExResult:"@@apiv2_redux/files/search_ex_result",SetDescription:"@@apiv2_redux/files/set_description",SetDescriptionResult:"@@apiv2_redux/files/set_description_result",TreeViewFolders:"@@apiv2_redux/files/tree_view_folders",TreeViewFoldersResult:"@@apiv2_redux/files/tree_view_folders_result",UndoBatch:"@@apiv2_redux/files/undo_batch",UndoBatchResult:"@@apiv2_redux/files/undo_batch_result",UnlockFileBatch:"@@apiv2_redux/files/unlock_file_batch",UnlockFileBatchResult:"@@apiv2_redux/files/unlock_file_batch_result",UploadSessionCheckFinishBatchJobStatus:"@@apiv2_redux/files/upload_session/check_finish_batch_job_status",UploadSessionCheckFinishBatchJobStatusResult:"@@apiv2_redux/files/upload_session/check_finish_batch_job_status_result",UploadSessionFinishBatch:"@@apiv2_redux/files/upload_session/finish_batch",UploadSessionFinishBatchResult:"@@apiv2_redux/files/upload_session/finish_batch_result",UploadSessionFinishBatchCheck:"@@apiv2_redux/files/upload_session/finish_batch/check",UploadSessionFinishBatchCheckResult:"@@apiv2_redux/files/upload_session/finish_batch/check_result",UploadSessionFinishBatchSync:"@@apiv2_redux/files/upload_session/finish_batch_sync",UploadSessionFinishBatchSyncResult:"@@apiv2_redux/files/upload_session/finish_batch_sync_result",UploadSessionFinishProcessedCheck:"@@apiv2_redux/files/upload_session/finish_processed/check",UploadSessionFinishProcessedCheckResult:"@@apiv2_redux/files/upload_session/finish_processed/check_result",ValidateUpload:"@@apiv2_redux/files/validate_upload",ValidateUploadResult:"@@apiv2_redux/files/validate_upload_result"},t.addContentReferencesAction=i._createAction(t.Action.AddContentReferences),t.addContentReferencesResultAction=i._createAction(t.Action.AddContentReferencesResult),t.addContentReferencesToPathAction=i._createAction(t.Action.AddContentReferencesToPath),t.addContentReferencesToPathResultAction=i._createAction(t.Action.AddContentReferencesToPathResult),t.alphaGetMetadataAction=i._createAction(t.Action.AlphaGetMetadata),t.alphaGetMetadataResultAction=i._createAction(t.Action.AlphaGetMetadataResult),t.browseAction=i._createAction(t.Action.Browse),t.browseResultAction=i._createAction(t.Action.BrowseResult),t.browseContinueAction=i._createAction(t.Action.BrowseContinue),t.browseContinueResultAction=i._createAction(t.Action.BrowseContinueResult),t.copyV2Action=i._createAction(t.Action.CopyV2),t.copyV2ResultAction=i._createAction(t.Action.CopyV2Result),t.copyAction=i._createAction(t.Action.Copy),t.copyResultAction=i._createAction(t.Action.CopyResult),t.copyBatchV2Action=i._createAction(t.Action.CopyBatchV2),t.copyBatchV2ResultAction=i._createAction(t.Action.CopyBatchV2Result),t.copyBatchAction=i._createAction(t.Action.CopyBatch),t.copyBatchResultAction=i._createAction(t.Action.CopyBatchResult),t.copyBatchCheckV2Action=i._createAction(t.Action.CopyBatchCheckV2),t.copyBatchCheckV2ResultAction=i._createAction(t.Action.CopyBatchCheckV2Result),t.copyBatchCheckAction=i._createAction(t.Action.CopyBatchCheck),t.copyBatchCheckResultAction=i._createAction(t.Action.CopyBatchCheckResult),t.copyBatchSyncAction=i._createAction(t.Action.CopyBatchSync),t.copyBatchSyncResultAction=i._createAction(t.Action.CopyBatchSyncResult),t.copyReferenceGetAction=i._createAction(t.Action.CopyReferenceGet),t.copyReferenceGetResultAction=i._createAction(t.Action.CopyReferenceGetResult),t.copyReferenceSaveAction=i._createAction(t.Action.CopyReferenceSave),t.copyReferenceSaveResultAction=i._createAction(t.Action.CopyReferenceSaveResult),t.createFolderV2Action=i._createAction(t.Action.CreateFolderV2),t.createFolderV2ResultAction=i._createAction(t.Action.CreateFolderV2Result),t.createFolderAction=i._createAction(t.Action.CreateFolder),t.createFolderResultAction=i._createAction(t.Action.CreateFolderResult),t.createFolderBatchAction=i._createAction(t.Action.CreateFolderBatch),t.createFolderBatchResultAction=i._createAction(t.Action.CreateFolderBatchResult),t.createFolderBatchCheckAction=i._createAction(t.Action.CreateFolderBatchCheck),t.createFolderBatchCheckResultAction=i._createAction(t.Action.CreateFolderBatchCheckResult),t.deleteV2Action=i._createAction(t.Action.DeleteV2),t.deleteV2ResultAction=i._createAction(t.Action.DeleteV2Result),t.deleteAction=i._createAction(t.Action.Delete),t.deleteResultAction=i._createAction(t.Action.DeleteResult),t.deleteBatchAction=i._createAction(t.Action.DeleteBatch),t.deleteBatchResultAction=i._createAction(t.Action.DeleteBatchResult),t.deleteBatchCheckAction=i._createAction(t.Action.DeleteBatchCheck),t.deleteBatchCheckResultAction=i._createAction(t.Action.DeleteBatchCheckResult),t.deleteBatchWithChangesetSyncAction=i._createAction(t.Action.DeleteBatchWithChangesetSync),t.deleteBatchWithChangesetSyncResultAction=i._createAction(t.Action.DeleteBatchWithChangesetSyncResult),t.deleteWithChangesetAction=i._createAction(t.Action.DeleteWithChangeset),t.deleteWithChangesetResultAction=i._createAction(t.Action.DeleteWithChangesetResult),t.getBrowseBoltDataAction=i._createAction(t.Action.GetBrowseBoltData),t.getBrowseBoltDataResultAction=i._createAction(t.Action.GetBrowseBoltDataResult),t.getContentReferencesBatchAction=i._createAction(t.Action.GetContentReferencesBatch),t.getContentReferencesBatchResultAction=i._createAction(t.Action.GetContentReferencesBatchResult),t.getContentReferencesInfoAction=i._createAction(t.Action.GetContentReferencesInfo),t.getContentReferencesInfoResultAction=i._createAction(t.Action.GetContentReferencesInfoResult),t.getContentReferencesInfoBatchAction=i._createAction(t.Action.GetContentReferencesInfoBatch),t.getContentReferencesInfoBatchResultAction=i._createAction(t.Action.GetContentReferencesInfoBatchResult),t.getDescriptionBatchAction=i._createAction(t.Action.GetDescriptionBatch),t.getDescriptionBatchResultAction=i._createAction(t.Action.GetDescriptionBatchResult),t.getFileContentMetadataAction=i._createAction(t.Action.GetFileContentMetadata),t.getFileContentMetadataResultAction=i._createAction(t.Action.GetFileContentMetadataResult),t.getFileLockBatchAction=i._createAction(t.Action.GetFileLockBatch),t.getFileLockBatchResultAction=i._createAction(t.Action.GetFileLockBatchResult),t.getMetadataAction=i._createAction(t.Action.GetMetadata),t.getMetadataResultAction=i._createAction(t.Action.GetMetadataResult),t.getMetadataBatchAction=i._createAction(t.Action.GetMetadataBatch),t.getMetadataBatchResultAction=i._createAction(t.Action.GetMetadataBatchResult),t.getPreviewableExtensionsAction=i._createAction(t.Action.GetPreviewableExtensions),t.getPreviewableExtensionsResultAction=i._createAction(t.Action.GetPreviewableExtensionsResult),t.getQuerySuggestionsAction=i._createAction(t.Action.GetQuerySuggestions),t.getQuerySuggestionsResultAction=i._createAction(t.Action.GetQuerySuggestionsResult),t.getTemporaryLinkAction=i._createAction(t.Action.GetTemporaryLink),t.getTemporaryLinkResultAction=i._createAction(t.Action.GetTemporaryLinkResult),t.getTemporaryUploadLinkAction=i._createAction(t.Action.GetTemporaryUploadLink),t.getTemporaryUploadLinkResultAction=i._createAction(t.Action.GetTemporaryUploadLinkResult),t.getUploadInfoAction=i._createAction(t.Action.GetUploadInfo),t.getUploadInfoResultAction=i._createAction(t.Action.GetUploadInfoResult),t.listFolderAction=i._createAction(t.Action.ListFolder),t.listFolderResultAction=i._createAction(t.Action.ListFolderResult),t.listFolderContinueAction=i._createAction(t.Action.ListFolderContinue),t.listFolderContinueResultAction=i._createAction(t.Action.ListFolderContinueResult),t.listFolderGetLatestCursorAction=i._createAction(t.Action.ListFolderGetLatestCursor),t.listFolderGetLatestCursorResultAction=i._createAction(t.Action.ListFolderGetLatestCursorResult),t.listFolderGetMountInfoAction=i._createAction(t.Action.ListFolderGetMountInfo),t.listFolderGetMountInfoResultAction=i._createAction(t.Action.ListFolderGetMountInfoResult),t.listRevisionsAction=i._createAction(t.Action.ListRevisions),t.listRevisionsResultAction=i._createAction(t.Action.ListRevisionsResult),t.listSubfoldersAction=i._createAction(t.Action.ListSubfolders),t.listSubfoldersResultAction=i._createAction(t.Action.ListSubfoldersResult),t.lockFileBatchAction=i._createAction(t.Action.LockFileBatch),t.lockFileBatchResultAction=i._createAction(t.Action.LockFileBatchResult),t.mediaTranscodeAction=i._createAction(t.Action.MediaTranscode),t.mediaTranscodeResultAction=i._createAction(t.Action.MediaTranscodeResult),t.moveV2Action=i._createAction(t.Action.MoveV2),t.moveV2ResultAction=i._createAction(t.Action.MoveV2Result),t.moveAction=i._createAction(t.Action.Move),t.moveResultAction=i._createAction(t.Action.MoveResult),t.moveBatchV2Action=i._createAction(t.Action.MoveBatchV2),t.moveBatchV2ResultAction=i._createAction(t.Action.MoveBatchV2Result),t.moveBatchAction=i._createAction(t.Action.MoveBatch),t.moveBatchResultAction=i._createAction(t.Action.MoveBatchResult),t.moveBatchCheckV2Action=i._createAction(t.Action.MoveBatchCheckV2),t.moveBatchCheckV2ResultAction=i._createAction(t.Action.MoveBatchCheckV2Result),t.moveBatchCheckAction=i._createAction(t.Action.MoveBatchCheck),t.moveBatchCheckResultAction=i._createAction(t.Action.MoveBatchCheckResult),t.moveBatchSyncAction=i._createAction(t.Action.MoveBatchSync),t.moveBatchSyncResultAction=i._createAction(t.Action.MoveBatchSyncResult),t.paperCreateAction=i._createAction(t.Action.PaperCreate),t.paperCreateResultAction=i._createAction(t.Action.PaperCreateResult),t.paperUpdateAction=i._createAction(t.Action.PaperUpdate),t.paperUpdateResultAction=i._createAction(t.Action.PaperUpdateResult),t.permanentlyDeleteAction=i._createAction(t.Action.PermanentlyDelete),t.permanentlyDeleteResultAction=i._createAction(t.Action.PermanentlyDeleteResult),t.propertiesAddAction=i._createAction(t.Action.PropertiesAdd),t.propertiesAddResultAction=i._createAction(t.Action.PropertiesAddResult),t.propertiesOverwriteAction=i._createAction(t.Action.PropertiesOverwrite),t.propertiesOverwriteResultAction=i._createAction(t.Action.PropertiesOverwriteResult),t.propertiesRemoveAction=i._createAction(t.Action.PropertiesRemove),t.propertiesRemoveResultAction=i._createAction(t.Action.PropertiesRemoveResult),t.propertiesTemplateGetAction=i._createAction(t.Action.PropertiesTemplateGet),t.propertiesTemplateGetResultAction=i._createAction(t.Action.PropertiesTemplateGetResult),t.propertiesTemplateListAction=i._createAction(t.Action.PropertiesTemplateList),t.propertiesTemplateListResultAction=i._createAction(t.Action.PropertiesTemplateListResult),t.propertiesUpdateAction=i._createAction(t.Action.PropertiesUpdate),t.propertiesUpdateResultAction=i._createAction(t.Action.PropertiesUpdateResult),t.removeContentReferencesAction=i._createAction(t.Action.RemoveContentReferences),t.removeContentReferencesResultAction=i._createAction(t.Action.RemoveContentReferencesResult),t.requestUnlockFileBatchAction=i._createAction(t.Action.RequestUnlockFileBatch),t.requestUnlockFileBatchResultAction=i._createAction(t.Action.RequestUnlockFileBatchResult),t.restoreAction=i._createAction(t.Action.Restore),t.restoreResultAction=i._createAction(t.Action.RestoreResult),t.restorePathBatchSyncAction=i._createAction(t.Action.RestorePathBatchSync),t.restorePathBatchSyncResultAction=i._createAction(t.Action.RestorePathBatchSyncResult),t.saveUrlAction=i._createAction(t.Action.SaveUrl),t.saveUrlResultAction=i._createAction(t.Action.SaveUrlResult),t.saveUrlCheckJobStatusAction=i._createAction(t.Action.SaveUrlCheckJobStatus),t.saveUrlCheckJobStatusResultAction=i._createAction(t.Action.SaveUrlCheckJobStatusResult),t.searchAction=i._createAction(t.Action.Search),t.searchResultAction=i._createAction(t.Action.SearchResult),t.searchV2Action=i._createAction(t.Action.SearchV2),t.searchV2ResultAction=i._createAction(t.Action.SearchV2Result),t.searchContinueV2Action=i._createAction(t.Action.SearchContinueV2),t.searchContinueV2ResultAction=i._createAction(t.Action.SearchContinueV2Result),t.searchExAction=i._createAction(t.Action.SearchEx),t.searchExResultAction=i._createAction(t.Action.SearchExResult),t.setDescriptionAction=i._createAction(t.Action.SetDescription),t.setDescriptionResultAction=i._createAction(t.Action.SetDescriptionResult),t.treeViewFoldersAction=i._createAction(t.Action.TreeViewFolders),t.treeViewFoldersResultAction=i._createAction(t.Action.TreeViewFoldersResult),t.undoBatchAction=i._createAction(t.Action.UndoBatch),t.undoBatchResultAction=i._createAction(t.Action.UndoBatchResult),t.unlockFileBatchAction=i._createAction(t.Action.UnlockFileBatch),t.unlockFileBatchResultAction=i._createAction(t.Action.UnlockFileBatchResult),t.uploadSessionCheckFinishBatchJobStatusAction=i._createAction(t.Action.UploadSessionCheckFinishBatchJobStatus),t.uploadSessionCheckFinishBatchJobStatusResultAction=i._createAction(t.Action.UploadSessionCheckFinishBatchJobStatusResult),t.uploadSessionFinishBatchAction=i._createAction(t.Action.UploadSessionFinishBatch),t.uploadSessionFinishBatchResultAction=i._createAction(t.Action.UploadSessionFinishBatchResult),t.uploadSessionFinishBatchCheckAction=i._createAction(t.Action.UploadSessionFinishBatchCheck),t.uploadSessionFinishBatchCheckResultAction=i._createAction(t.Action.UploadSessionFinishBatchCheckResult),t.uploadSessionFinishBatchSyncAction=i._createAction(t.Action.UploadSessionFinishBatchSync),t.uploadSessionFinishBatchSyncResultAction=i._createAction(t.Action.UploadSessionFinishBatchSyncResult),t.uploadSessionFinishProcessedCheckAction=i._createAction(t.Action.UploadSessionFinishProcessedCheck),t.uploadSessionFinishProcessedCheckResultAction=i._createAction(t.Action.UploadSessionFinishProcessedCheckResult),t.validateUploadAction=i._createAction(t.Action.ValidateUpload),t.validateUploadResultAction=i._createAction(t.Action.ValidateUploadResult);var n=((r={})[t.Action.AddContentReferences]={endpoint:"add_content_references",action:t.addContentReferencesResultAction},r[t.Action.AddContentReferencesToPath]={endpoint:"add_content_references_to_path",action:t.addContentReferencesToPathResultAction},r[t.Action.AlphaGetMetadata]={endpoint:"alpha/get_metadata",action:t.alphaGetMetadataResultAction},r[t.Action.Browse]={endpoint:"browse",action:t.browseResultAction},r[t.Action.BrowseContinue]={endpoint:"browse_continue",action:t.browseContinueResultAction},r[t.Action.CopyV2]={endpoint:"copy_v2",action:t.copyV2ResultAction},r[t.Action.Copy]={endpoint:"copy",action:t.copyResultAction},r[t.Action.CopyBatchV2]={endpoint:"copy_batch_v2",action:t.copyBatchV2ResultAction},r[t.Action.CopyBatch]={endpoint:"copy_batch",action:t.copyBatchResultAction},r[t.Action.CopyBatchCheckV2]={endpoint:"copy_batch/check_v2",action:t.copyBatchCheckV2ResultAction},r[t.Action.CopyBatchCheck]={endpoint:"copy_batch/check",action:t.copyBatchCheckResultAction},r[t.Action.CopyBatchSync]={endpoint:"copy_batch_sync",action:t.copyBatchSyncResultAction},r[t.Action.CopyReferenceGet]={endpoint:"copy_reference/get",action:t.copyReferenceGetResultAction},r[t.Action.CopyReferenceSave]={endpoint:"copy_reference/save",action:t.copyReferenceSaveResultAction},r[t.Action.CreateFolderV2]={endpoint:"create_folder_v2",action:t.createFolderV2ResultAction},r[t.Action.CreateFolder]={endpoint:"create_folder",action:t.createFolderResultAction},r[t.Action.CreateFolderBatch]={endpoint:"create_folder_batch",action:t.createFolderBatchResultAction},r[t.Action.CreateFolderBatchCheck]={endpoint:"create_folder_batch/check",action:t.createFolderBatchCheckResultAction},r[t.Action.DeleteV2]={endpoint:"delete_v2",action:t.deleteV2ResultAction},r[t.Action.Delete]={endpoint:"delete",action:t.deleteResultAction},r[t.Action.DeleteBatch]={endpoint:"delete_batch",action:t.deleteBatchResultAction},r[t.Action.DeleteBatchCheck]={endpoint:"delete_batch/check",action:t.deleteBatchCheckResultAction},r[t.Action.DeleteBatchWithChangesetSync]={endpoint:"delete_batch_with_changeset_sync",action:t.deleteBatchWithChangesetSyncResultAction},r[t.Action.DeleteWithChangeset]={endpoint:"delete_with_changeset",action:t.deleteWithChangesetResultAction},r[t.Action.GetBrowseBoltData]={endpoint:"get_browse_bolt_data",action:t.getBrowseBoltDataResultAction},r[t.Action.GetContentReferencesBatch]={endpoint:"get_content_references_batch",action:t.getContentReferencesBatchResultAction},r[t.Action.GetContentReferencesInfo]={endpoint:"get_content_references_info",action:t.getContentReferencesInfoResultAction},r[t.Action.GetContentReferencesInfoBatch]={endpoint:"get_content_references_info_batch",action:t.getContentReferencesInfoBatchResultAction},r[t.Action.GetDescriptionBatch]={endpoint:"get_description_batch",action:t.getDescriptionBatchResultAction},r[t.Action.GetFileContentMetadata]={endpoint:"get_file_content_metadata",action:t.getFileContentMetadataResultAction},r[t.Action.GetFileLockBatch]={endpoint:"get_file_lock_batch",action:t.getFileLockBatchResultAction},r[t.Action.GetMetadata]={endpoint:"get_metadata",action:t.getMetadataResultAction},r[t.Action.GetMetadataBatch]={endpoint:"get_metadata_batch",action:t.getMetadataBatchResultAction},r[t.Action.GetPreviewableExtensions]={endpoint:"get_previewable_extensions",action:t.getPreviewableExtensionsResultAction},r[t.Action.GetQuerySuggestions]={endpoint:"get_query_suggestions",action:t.getQuerySuggestionsResultAction},r[t.Action.GetTemporaryLink]={endpoint:"get_temporary_link",action:t.getTemporaryLinkResultAction},r[t.Action.GetTemporaryUploadLink]={endpoint:"get_temporary_upload_link",action:t.getTemporaryUploadLinkResultAction},r[t.Action.GetUploadInfo]={endpoint:"get_upload_info",action:t.getUploadInfoResultAction},r[t.Action.ListFolder]={endpoint:"list_folder",action:t.listFolderResultAction},r[t.Action.ListFolderContinue]={endpoint:"list_folder/continue",action:t.listFolderContinueResultAction},r[t.Action.ListFolderGetLatestCursor]={endpoint:"list_folder/get_latest_cursor",action:t.listFolderGetLatestCursorResultAction},r[t.Action.ListFolderGetMountInfo]={endpoint:"list_folder/get_mount_info",action:t.listFolderGetMountInfoResultAction},r[t.Action.ListRevisions]={endpoint:"list_revisions",action:t.listRevisionsResultAction},r[t.Action.ListSubfolders]={endpoint:"list_subfolders",action:t.listSubfoldersResultAction},r[t.Action.LockFileBatch]={endpoint:"lock_file_batch",action:t.lockFileBatchResultAction},r[t.Action.MediaTranscode]={endpoint:"media_transcode",action:t.mediaTranscodeResultAction},r[t.Action.MoveV2]={endpoint:"move_v2",action:t.moveV2ResultAction},r[t.Action.Move]={endpoint:"move",action:t.moveResultAction},r[t.Action.MoveBatchV2]={endpoint:"move_batch_v2",action:t.moveBatchV2ResultAction},r[t.Action.MoveBatch]={endpoint:"move_batch",action:t.moveBatchResultAction},r[t.Action.MoveBatchCheckV2]={endpoint:"move_batch/check_v2",action:t.moveBatchCheckV2ResultAction},r[t.Action.MoveBatchCheck]={endpoint:"move_batch/check",action:t.moveBatchCheckResultAction},r[t.Action.MoveBatchSync]={endpoint:"move_batch_sync",action:t.moveBatchSyncResultAction},r[t.Action.PaperCreate]={endpoint:"paper/create",action:t.paperCreateResultAction},r[t.Action.PaperUpdate]={endpoint:"paper/update",action:t.paperUpdateResultAction},r[t.Action.PermanentlyDelete]={endpoint:"permanently_delete",action:t.permanentlyDeleteResultAction},r[t.Action.PropertiesAdd]={endpoint:"properties/add",action:t.propertiesAddResultAction},r[t.Action.PropertiesOverwrite]={endpoint:"properties/overwrite",action:t.propertiesOverwriteResultAction},r[t.Action.PropertiesRemove]={endpoint:"properties/remove",action:t.propertiesRemoveResultAction},r[t.Action.PropertiesTemplateGet]={endpoint:"properties/template/get",action:t.propertiesTemplateGetResultAction},r[t.Action.PropertiesTemplateList]={endpoint:"properties/template/list",action:t.propertiesTemplateListResultAction},r[t.Action.PropertiesUpdate]={endpoint:"properties/update",action:t.propertiesUpdateResultAction},r[t.Action.RemoveContentReferences]={endpoint:"remove_content_references",action:t.removeContentReferencesResultAction},r[t.Action.RequestUnlockFileBatch]={endpoint:"request_unlock_file_batch",action:t.requestUnlockFileBatchResultAction},r[t.Action.Restore]={endpoint:"restore",action:t.restoreResultAction},r[t.Action.RestorePathBatchSync]={endpoint:"restore_path_batch_sync",action:t.restorePathBatchSyncResultAction},r[t.Action.SaveUrl]={endpoint:"save_url",action:t.saveUrlResultAction},r[t.Action.SaveUrlCheckJobStatus]={endpoint:"save_url/check_job_status",action:t.saveUrlCheckJobStatusResultAction},r[t.Action.Search]={endpoint:"search",action:t.searchResultAction},r[t.Action.SearchV2]={endpoint:"search_v2",action:t.searchV2ResultAction},r[t.Action.SearchContinueV2]={endpoint:"search/continue_v2",action:t.searchContinueV2ResultAction},r[t.Action.SearchEx]={endpoint:"search_ex",action:t.searchExResultAction},r[t.Action.SetDescription]={endpoint:"set_description",action:t.setDescriptionResultAction},r[t.Action.TreeViewFolders]={endpoint:"tree_view_folders",action:t.treeViewFoldersResultAction},r[t.Action.UndoBatch]={endpoint:"undo_batch",action:t.undoBatchResultAction},r[t.Action.UnlockFileBatch]={endpoint:"unlock_file_batch",action:t.unlockFileBatchResultAction},r[t.Action.UploadSessionCheckFinishBatchJobStatus]={endpoint:"upload_session/check_finish_batch_job_status",action:t.uploadSessionCheckFinishBatchJobStatusResultAction},r[t.Action.UploadSessionFinishBatch]={endpoint:"upload_session/finish_batch",action:t.uploadSessionFinishBatchResultAction},r[t.Action.UploadSessionFinishBatchCheck]={endpoint:"upload_session/finish_batch/check",action:t.uploadSessionFinishBatchCheckResultAction},r[t.Action.UploadSessionFinishBatchSync]={endpoint:"upload_session/finish_batch_sync",action:t.uploadSessionFinishBatchSyncResultAction},r[t.Action.UploadSessionFinishProcessedCheck]={endpoint:"upload_session/finish_processed/check",action:t.uploadSessionFinishProcessedCheckResultAction},r[t.Action.ValidateUpload]={endpoint:"validate_upload",action:t.validateUploadResultAction},r);t.middleware=i._createMiddleware(n)})),define("modules/clean/api_v2/redux/previews",["require","exports","modules/clean/api_v2/redux/base_action"],(function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.loggedOutGetArchiveFilesResultAction=t.loggedOutGetArchiveFilesAction=t.getPreviewDataBySpecsBatchResultAction=t.getPreviewDataBySpecsBatchAction=t.getPreviewDataByFileIdsBatchResultAction=t.getPreviewDataByFileIdsBatchAction=t.getPreviewDataBatchResultAction=t.getPreviewDataBatchAction=t.getArchiveFilesResultAction=t.getArchiveFilesAction=t.Action=void 0,t.Action={GetArchiveFiles:"@@apiv2_redux/previews/get_archive_files",GetArchiveFilesResult:"@@apiv2_redux/previews/get_archive_files_result",GetPreviewDataBatch:"@@apiv2_redux/previews/get_preview_data_batch",GetPreviewDataBatchResult:"@@apiv2_redux/previews/get_preview_data_batch_result",GetPreviewDataByFileIdsBatch:"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch",GetPreviewDataByFileIdsBatchResult:"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch_result",GetPreviewDataBySpecsBatch:"@@apiv2_redux/previews/get_preview_data_by_specs_batch",GetPreviewDataBySpecsBatchResult:"@@apiv2_redux/previews/get_preview_data_by_specs_batch_result",LoggedOutGetArchiveFiles:"@@apiv2_redux/previews/logged_out/get_archive_files",LoggedOutGetArchiveFilesResult:"@@apiv2_redux/previews/logged_out/get_archive_files_result"},t.getArchiveFilesAction=i._createAction(t.Action.GetArchiveFiles),t.getArchiveFilesResultAction=i._createAction(t.Action.GetArchiveFilesResult),t.getPreviewDataBatchAction=i._createAction(t.Action.GetPreviewDataBatch),t.getPreviewDataBatchResultAction=i._createAction(t.Action.GetPreviewDataBatchResult),t.getPreviewDataByFileIdsBatchAction=i._createAction(t.Action.GetPreviewDataByFileIdsBatch),t.getPreviewDataByFileIdsBatchResultAction=i._createAction(t.Action.GetPreviewDataByFileIdsBatchResult),t.getPreviewDataBySpecsBatchAction=i._createAction(t.Action.GetPreviewDataBySpecsBatch),t.getPreviewDataBySpecsBatchResultAction=i._createAction(t.Action.GetPreviewDataBySpecsBatchResult),t.loggedOutGetArchiveFilesAction=i._createAction(t.Action.LoggedOutGetArchiveFiles),t.loggedOutGetArchiveFilesResultAction=i._createAction(t.Action.LoggedOutGetArchiveFilesResult);var n=((r={})[t.Action.GetArchiveFiles]={endpoint:"get_archive_files",action:t.getArchiveFilesResultAction},r[t.Action.GetPreviewDataBatch]={endpoint:"get_preview_data_batch",action:t.getPreviewDataBatchResultAction},r[t.Action.GetPreviewDataByFileIdsBatch]={endpoint:"get_preview_data_by_file_ids_batch",action:t.getPreviewDataByFileIdsBatchResultAction},r[t.Action.GetPreviewDataBySpecsBatch]={endpoint:"get_preview_data_by_specs_batch",action:t.getPreviewDataBySpecsBatchResultAction},r[t.Action.LoggedOutGetArchiveFiles]={endpoint:"logged_out/get_archive_files",action:t.loggedOutGetArchiveFilesResultAction},r);t.middleware=i._createMiddleware(n)})),define("modules/clean/api_v2/redux/users",["require","exports","modules/clean/api_v2/redux/base_action"],(function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.setSharingPrefsResultAction=t.setSharingPrefsAction=t.saveMobileClientSettingsResultAction=t.saveMobileClientSettingsAction=t.pairUserResultAction=t.pairUserAction=t.needsScaleMitigationResultAction=t.needsScaleMitigationAction=t.getUserUiInfoResultAction=t.getUserUiInfoAction=t.getSpaceUsageResultAction=t.getSpaceUsageAction=t.getSharingPrefsResultAction=t.getSharingPrefsAction=t.getRootInfoResultAction=t.getRootInfoAction=t.getPlanInfoV2ResultAction=t.getPlanInfoV2Action=t.getPlanInfoResultAction=t.getPlanInfoAction=t.getMobileClientSettingsResultAction=t.getMobileClientSettingsAction=t.getFileModifierAccountResultAction=t.getFileModifierAccountAction=t.getCurrentAccountResultAction=t.getCurrentAccountAction=t.getAccountBatchResultAction=t.getAccountBatchAction=t.getAccountResultAction=t.getAccountAction=t.generatePairingTokenResultAction=t.generatePairingTokenAction=t.featuresGetValuesResultAction=t.featuresGetValuesAction=t.Action=void 0,t.Action={FeaturesGetValues:"@@apiv2_redux/users/features/get_values",FeaturesGetValuesResult:"@@apiv2_redux/users/features/get_values_result",GeneratePairingToken:"@@apiv2_redux/users/generate_pairing_token",GeneratePairingTokenResult:"@@apiv2_redux/users/generate_pairing_token_result",GetAccount:"@@apiv2_redux/users/get_account",GetAccountResult:"@@apiv2_redux/users/get_account_result",GetAccountBatch:"@@apiv2_redux/users/get_account_batch",GetAccountBatchResult:"@@apiv2_redux/users/get_account_batch_result",GetCurrentAccount:"@@apiv2_redux/users/get_current_account",GetCurrentAccountResult:"@@apiv2_redux/users/get_current_account_result",GetFileModifierAccount:"@@apiv2_redux/users/get_file_modifier_account",GetFileModifierAccountResult:"@@apiv2_redux/users/get_file_modifier_account_result",GetMobileClientSettings:"@@apiv2_redux/users/get_mobile_client_settings",GetMobileClientSettingsResult:"@@apiv2_redux/users/get_mobile_client_settings_result",GetPlanInfo:"@@apiv2_redux/users/get_plan_info",GetPlanInfoResult:"@@apiv2_redux/users/get_plan_info_result",GetPlanInfoV2:"@@apiv2_redux/users/get_plan_info_v2",GetPlanInfoV2Result:"@@apiv2_redux/users/get_plan_info_v2_result",GetRootInfo:"@@apiv2_redux/users/get_root_info",GetRootInfoResult:"@@apiv2_redux/users/get_root_info_result",GetSharingPrefs:"@@apiv2_redux/users/get_sharing_prefs",GetSharingPrefsResult:"@@apiv2_redux/users/get_sharing_prefs_result",GetSpaceUsage:"@@apiv2_redux/users/get_space_usage",GetSpaceUsageResult:"@@apiv2_redux/users/get_space_usage_result",GetUserUiInfo:"@@apiv2_redux/users/get_user_ui_info",GetUserUiInfoResult:"@@apiv2_redux/users/get_user_ui_info_result",NeedsScaleMitigation:"@@apiv2_redux/users/needs_scale_mitigation",NeedsScaleMitigationResult:"@@apiv2_redux/users/needs_scale_mitigation_result",PairUser:"@@apiv2_redux/users/pair_user",PairUserResult:"@@apiv2_redux/users/pair_user_result",SaveMobileClientSettings:"@@apiv2_redux/users/save_mobile_client_settings",SaveMobileClientSettingsResult:"@@apiv2_redux/users/save_mobile_client_settings_result",SetSharingPrefs:"@@apiv2_redux/users/set_sharing_prefs",SetSharingPrefsResult:"@@apiv2_redux/users/set_sharing_prefs_result"},t.featuresGetValuesAction=i._createAction(t.Action.FeaturesGetValues),t.featuresGetValuesResultAction=i._createAction(t.Action.FeaturesGetValuesResult),t.generatePairingTokenAction=i._createAction(t.Action.GeneratePairingToken),t.generatePairingTokenResultAction=i._createAction(t.Action.GeneratePairingTokenResult),t.getAccountAction=i._createAction(t.Action.GetAccount),t.getAccountResultAction=i._createAction(t.Action.GetAccountResult),t.getAccountBatchAction=i._createAction(t.Action.GetAccountBatch),t.getAccountBatchResultAction=i._createAction(t.Action.GetAccountBatchResult),t.getCurrentAccountAction=i._createAction(t.Action.GetCurrentAccount),t.getCurrentAccountResultAction=i._createAction(t.Action.GetCurrentAccountResult),t.getFileModifierAccountAction=i._createAction(t.Action.GetFileModifierAccount),t.getFileModifierAccountResultAction=i._createAction(t.Action.GetFileModifierAccountResult),t.getMobileClientSettingsAction=i._createAction(t.Action.GetMobileClientSettings),t.getMobileClientSettingsResultAction=i._createAction(t.Action.GetMobileClientSettingsResult),t.getPlanInfoAction=i._createAction(t.Action.GetPlanInfo),t.getPlanInfoResultAction=i._createAction(t.Action.GetPlanInfoResult),t.getPlanInfoV2Action=i._createAction(t.Action.GetPlanInfoV2),t.getPlanInfoV2ResultAction=i._createAction(t.Action.GetPlanInfoV2Result),t.getRootInfoAction=i._createAction(t.Action.GetRootInfo),t.getRootInfoResultAction=i._createAction(t.Action.GetRootInfoResult),t.getSharingPrefsAction=i._createAction(t.Action.GetSharingPrefs),t.getSharingPrefsResultAction=i._createAction(t.Action.GetSharingPrefsResult),t.getSpaceUsageAction=i._createAction(t.Action.GetSpaceUsage),t.getSpaceUsageResultAction=i._createAction(t.Action.GetSpaceUsageResult),t.getUserUiInfoAction=i._createAction(t.Action.GetUserUiInfo),t.getUserUiInfoResultAction=i._createAction(t.Action.GetUserUiInfoResult),t.needsScaleMitigationAction=i._createAction(t.Action.NeedsScaleMitigation),t.needsScaleMitigationResultAction=i._createAction(t.Action.NeedsScaleMitigationResult),t.pairUserAction=i._createAction(t.Action.PairUser),t.pairUserResultAction=i._createAction(t.Action.PairUserResult),t.saveMobileClientSettingsAction=i._createAction(t.Action.SaveMobileClientSettings),t.saveMobileClientSettingsResultAction=i._createAction(t.Action.SaveMobileClientSettingsResult),t.setSharingPrefsAction=i._createAction(t.Action.SetSharingPrefs),t.setSharingPrefsResultAction=i._createAction(t.Action.SetSharingPrefsResult);var n=((r={})[t.Action.FeaturesGetValues]={endpoint:"features/get_values",action:t.featuresGetValuesResultAction},r[t.Action.GeneratePairingToken]={endpoint:"generate_pairing_token",action:t.generatePairingTokenResultAction},r[t.Action.GetAccount]={endpoint:"get_account",action:t.getAccountResultAction},r[t.Action.GetAccountBatch]={endpoint:"get_account_batch",action:t.getAccountBatchResultAction},r[t.Action.GetCurrentAccount]={endpoint:"get_current_account",action:t.getCurrentAccountResultAction},r[t.Action.GetFileModifierAccount]={endpoint:"get_file_modifier_account",action:t.getFileModifierAccountResultAction},r[t.Action.GetMobileClientSettings]={endpoint:"get_mobile_client_settings",action:t.getMobileClientSettingsResultAction},r[t.Action.GetPlanInfo]={endpoint:"get_plan_info",action:t.getPlanInfoResultAction},r[t.Action.GetPlanInfoV2]={endpoint:"get_plan_info_v2",action:t.getPlanInfoV2ResultAction},r[t.Action.GetRootInfo]={endpoint:"get_root_info",action:t.getRootInfoResultAction},r[t.Action.GetSharingPrefs]={endpoint:"get_sharing_prefs",action:t.getSharingPrefsResultAction},r[t.Action.GetSpaceUsage]={endpoint:"get_space_usage",action:t.getSpaceUsageResultAction},r[t.Action.GetUserUiInfo]={endpoint:"get_user_ui_info",action:t.getUserUiInfoResultAction},r[t.Action.NeedsScaleMitigation]={endpoint:"needs_scale_mitigation",action:t.needsScaleMitigationResultAction},r[t.Action.PairUser]={endpoint:"pair_user",action:t.pairUserResultAction},r[t.Action.SaveMobileClientSettings]={endpoint:"save_mobile_client_settings",action:t.saveMobileClientSettingsResultAction},r[t.Action.SetSharingPrefs]={endpoint:"set_sharing_prefs",action:t.setSharingPrefsResultAction},r);t.middleware=i._createMiddleware(n)})),define("modules/clean/react/previews/pdf_viewer/text/bidi",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidi=void 0;var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],r=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function n(e){return 0!=(1&e)}function a(e){return 0==(1&e)}function o(e,t,i){for(var r=t,n=e.length;r<n;++r)if(e[r]!==i)return r;return r}function s(e,t,i,r){for(var n=t;n<i;++n)e[n]=r}function l(e,t,i){for(var r=t,n=i-1;r<n;++r,--n){var a=e[r];e[r]=e[n],e[n]=a}}function c(e,t,i){return{str:e,dir:i?"ttb":t?"ltr":"rtl"}}var d=[],u=[];t.bidi=function(e,t,p){var f=!0,_=e.length;if(0===_||p)return c(e,f,p);d.length=_,u.length=_;var v,g,m=0;for(v=0;v<_;++v){d[v]=e.charAt(v);var h=e.charCodeAt(v),b="L";h<=255?b=i[h]:1424<=h&&h<=1524?b="R":1536<=h&&h<=1791?b=r[255&h]:1792<=h&&h<=2220&&(b="AL"),"R"!==b&&"AL"!==b&&"AN"!==b||m++,u[v]=b}if(0===m)return c(e,f=!0);-1===t&&(m/_<.3?(f=!0,t=0):(f=!1,t=1));var w=[];for(v=0;v<_;++v)w[v]=t;var A,y=n(t)?"R":"L",P=y,S=P,E=P;for(v=0;v<_;++v)"NSM"===u[v]?u[v]=E:E=u[v];for(E=P,v=0;v<_;++v)"EN"===(A=u[v])?u[v]="AL"===E?"AN":"EN":"R"!==A&&"L"!==A&&"AL"!==A||(E=A);for(v=0;v<_;++v)"AL"===(A=u[v])&&(u[v]="R");for(v=1;v<_-1;++v)"ES"===u[v]&&"EN"===u[v-1]&&"EN"===u[v+1]&&(u[v]="EN"),"CS"!==u[v]||"EN"!==u[v-1]&&"AN"!==u[v-1]||u[v+1]!==u[v-1]||(u[v]=u[v-1]);for(v=0;v<_;++v)if("EN"===u[v]){var x;for(x=v-1;x>=0&&"ET"===u[x];--x)u[x]="EN";for(x=v+1;x<_&&"ET"===u[x];++x)u[x]="EN"}for(v=0;v<_;++v)"WS"!==(A=u[v])&&"ES"!==A&&"ET"!==A&&"CS"!==A||(u[v]="ON");for(E=P,v=0;v<_;++v)"EN"===(A=u[v])?u[v]="L"===E?"L":"EN":"R"!==A&&"L"!==A||(E=A);for(v=0;v<_;++v)if("ON"===u[v]){var C=o(u,v+1,"ON"),I=P;v>0&&(I=u[v-1]);var F=S;C+1<_&&(F=u[C+1]),"L"!==I&&(I="R"),"L"!==F&&(F="R"),I===F&&s(u,v,C,I),v=C-1}for(v=0;v<_;++v)"ON"===u[v]&&(u[v]=y);for(v=0;v<_;++v)A=u[v],a(w[v])?"R"===A?w[v]+=1:"AN"!==A&&"EN"!==A||(w[v]+=2):"L"!==A&&"AN"!==A&&"EN"!==A||(w[v]+=1);var R,T=-1,O=99;for(v=0,g=w.length;v<g;++v)T<(R=w[v])&&(T=R),O>R&&n(R)&&(O=R);for(R=T;R>=O;--R){var D=-1;for(v=0,g=w.length;v<g;++v)w[v]<R?D>=0&&(l(d,D,v),D=-1):D<0&&(D=v);D>=0&&l(d,D,w.length)}for(v=0,g=d.length;v<g;++v){var M=d[v];"<"!==M&&">"!==M||(d[v]="")}return c(d.join(""),f)}})),define("modules/clean/react/previews/pdf_viewer/text/unicode",["require","exports"],(function(e,t){"use strict";function i(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}}Object.defineProperty(t,"__esModule",{value:!0}),t.reverseIfRtl=t.getNormalizedUnicodes=void 0;i((function(e){e[63721]=169,e[63193]=169,e[63720]=174,e[63194]=174,e[63722]=8482,e[63195]=8482,e[63729]=9127,e[63730]=9128,e[63731]=9129,e[63740]=9131,e[63741]=9132,e[63742]=9133,e[63726]=9121,e[63727]=9122,e[63728]=9123,e[63737]=9124,e[63738]=9125,e[63739]=9126,e[63723]=9115,e[63724]=9116,e[63725]=9117,e[63734]=9118,e[63735]=9119,e[63736]=9120}));var r=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];t.getNormalizedUnicodes=i((function(e){e[""]=" ",e[""]=" ",e[""]=" ",e[""]="",e[""]=" ",e[""]="IJ",e[""]="ij",e[""]="L",e[""]="l",e[""]="n",e[""]="s",e[""]="D",e[""]="D",e[""]="d",e[""]="LJ",e[""]="Lj",e[""]="lj",e[""]="NJ",e[""]="Nj",e[""]="nj",e[""]="DZ",e[""]="Dz",e[""]="dz",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="a",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=".",e[""]="..",e[""]="...",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="!!",e[""]=" ",e[""]="??",e[""]="?!",e[""]="!?",e[""]="",e[""]=" ",e[""]="Rs",e[""]="a/c",e[""]="a/s",e[""]="C",e[""]="c/o",e[""]="c/u",e[""]="",e[""]="F",e[""]="No",e[""]="TEL",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="FAX",e[""]="I",e[""]="II",e[""]="III",e[""]="IV",e[""]="V",e[""]="VI",e[""]="VII",e[""]="VIII",e[""]="IX",e[""]="X",e[""]="XI",e[""]="XII",e[""]="L",e[""]="C",e[""]="D",e[""]="M",e[""]="i",e[""]="ii",e[""]="iii",e[""]="iv",e[""]="v",e[""]="vi",e[""]="vii",e[""]="viii",e[""]="ix",e[""]="x",e[""]="xi",e[""]="xii",e[""]="l",e[""]="c",e[""]="d",e[""]="m",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="(1)",e[""]="(2)",e[""]="(3)",e[""]="(4)",e[""]="(5)",e[""]="(6)",e[""]="(7)",e[""]="(8)",e[""]="(9)",e[""]="(10)",e[""]="(11)",e[""]="(12)",e[""]="(13)",e[""]="(14)",e[""]="(15)",e[""]="(16)",e[""]="(17)",e[""]="(18)",e[""]="(19)",e[""]="(20)",e[""]="1.",e[""]="2.",e[""]="3.",e[""]="4.",e[""]="5.",e[""]="6.",e[""]="7.",e[""]="8.",e[""]="9.",e[""]="10.",e[""]="11.",e[""]="12.",e[""]="13.",e[""]="14.",e[""]="15.",e[""]="16.",e[""]="17.",e[""]="18.",e[""]="19.",e[""]="20.",e[""]="(a)",e[""]="(b)",e[""]="(c)",e[""]="(d)",e[""]="(e)",e[""]="(f)",e[""]="(g)",e[""]="(h)",e[""]="(i)",e[""]="(j)",e[""]="(k)",e[""]="(l)",e[""]="(m)",e[""]="(n)",e[""]="(o)",e[""]="(p)",e[""]="(q)",e[""]="(r)",e[""]="(s)",e[""]="(t)",e[""]="(u)",e[""]="(v)",e[""]="(w)",e[""]="(x)",e[""]="(y)",e[""]="(z)",e[""]="",e[""]="::=",e[""]="==",e[""]="===",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]=" ",e[""]=" ",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="()",e[""]="1",e[""]="2",e[""]="3",e[""]="4",e[""]="5",e[""]="6",e[""]="7",e[""]="8",e[""]="9",e[""]="10",e[""]="11",e[""]="12",e[""]="0",e[""]="1",e[""]="2",e[""]="3",e[""]="4",e[""]="5",e[""]="6",e[""]="7",e[""]="8",e[""]="9",e[""]="10",e[""]="11",e[""]="12",e[""]="13",e[""]="14",e[""]="15",e[""]="16",e[""]="17",e[""]="18",e[""]="19",e[""]="20",e[""]="21",e[""]="22",e[""]="23",e[""]="24",e[""]="1",e[""]="2",e[""]="3",e[""]="4",e[""]="5",e[""]="6",e[""]="7",e[""]="8",e[""]="9",e[""]="10",e[""]="11",e[""]="12",e[""]="13",e[""]="14",e[""]="15",e[""]="16",e[""]="17",e[""]="18",e[""]="19",e[""]="20",e[""]="21",e[""]="22",e[""]="23",e[""]="24",e[""]="25",e[""]="26",e[""]="27",e[""]="28",e[""]="29",e[""]="30",e[""]="31",e[""]="ff",e[""]="fi",e[""]="fl",e[""]="ffi",e[""]="ffl",e[""]="t",e[""]="st",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="";e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]=" ",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="_",e[""]="_",e[""]="_",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]="",e[""]=""})),t.reverseIfRtl=function(e){var t,i,n=e.length;if(n<=1||!((t=e.charCodeAt(0))>=(i=r[13]).begin&&t<i.end||t>=(i=r[11]).begin&&t<i.end))return e;for(var a="",o=n-1;o>=0;o--)a+=e[o];return a}})),define("modules/clean/file_store/actions",["require","exports","tslib","modules/clean/file_store/types","modules/clean/file_store/utils","lodash"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.putFiles=t.putFile=void 0,a=i.__importStar(a),t.putFile=function(e,t){return{type:r.FileNamespaceActions.PutFile,payload:{file:e,fileId:null!=t?t:n.getFileStoreId(e)}}},t.putFiles=function(e){var t=a.keyBy(e,n.getFileStoreId);return{type:r.FileNamespaceActions.PutFileMap,payload:t}}})),define("modules/clean/file_store/reducer",["require","exports","tslib","modules/clean/file_store/types"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileNamespaceReducer=t.defaultFileState=void 0,t.defaultFileState={},t.fileNamespaceReducer=function(e,n){var a;switch(void 0===e&&(e=t.defaultFileState),n.type){case r.FileNamespaceActions.PutFile:return i.__assign(i.__assign({},e),((a={})[n.payload.fileId]=n.payload.file,a));case r.FileNamespaceActions.PutFileMap:return i.__assign(i.__assign({},e),n.payload)}return e}})),define("modules/clean/file_store/selectors",["require","exports","modules/clean/file_store/reducer","modules/clean/redux/namespaces","modules/clean/redux/selectors"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFile=void 0,t.getFile=function(e,t){return t?(function(e){return n.getStateAtNamespace(e,r.FILE_NAMESPACE_KEY)||i.defaultFileState})(e)[t]:void 0}})),define("modules/clean/file_store/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileNamespaceActions=void 0,(function(e){e.PutFile="PUT_FILE",e.PutFileMap="PUT_FILE_MAP"})(t.FileNamespaceActions||(t.FileNamespaceActions={}))})),define("modules/clean/file_store/utils",["require","exports","tslib","modules/clean/filepath"],(function(e,t,i,r){"use strict";function n(e){return"fq_path"in e}function a(e){return"subpath"in e}function o(e){return e.is_dir}function s(e){return e.is_dir&&"fq_path"in e}function l(e){return e.ns_id+":"+e.sjid}function c(e){return o(e)?s(e)?r.filename(e.fq_path):e.filename:n(e)?r.filename(e.fq_path):e.filename}function d(e){return 0===e.bytes}Object.defineProperty(t,"__esModule",{value:!0}),t.isSymLink=t.isEmptyFile=t.getFilenameWithoutExtension=t.getFilename=t.getExtension=t.getFileRevisionId=t.isBrowseFolder=t.isFolder=t.getFileStoreId=t.isSharedFile=t.isArchiveFile=t.isBrowseFile=t.areFilesEqual=void 0,r=i.__importStar(r),t.areFilesEqual=function(e,t){return e.ns_id===t.ns_id&&e.sjid===t.sjid},t.isBrowseFile=n,t.isArchiveFile=a,t.isSharedFile=function(e){return!n(e)&&!a(e)},t.getFileStoreId=function(e){return l(e)},t.isFolder=o,t.isBrowseFolder=s,t.getFileRevisionId=l,t.getExtension=function(e){var t="fq_path"in e?r.filename(e.fq_path):e.filename;return r.file_extension(t)},t.getFilename=c,t.getFilenameWithoutExtension=function(e){var t=c(e);return r.filename_without_extension(t)},t.isEmptyFile=d,t.isSymLink=function(e){return e.is_symlink&&d(e)}})),define("modules/clean/logging/hive/schemas/web-file_previews",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebFilePreviewsLoggingRow=void 0;var i=function(e){this.category="web-file_previews",this.active_user_id=null,this.anon_ip=null,this.authed_user_ids=null,this.identity_gid=null,this.locale_browser_header=null,this.locale_user_selected=null,this.referrer=null,this.session_id=null,this.team_id=null,this.team_type=null,this.ua_browser_name=null,this.ua_browser_version=null,this.ua_dist_name=null,this.ua_dist_version=null,this.ua_os_name=null,this.ua_os_version=null,this.user_agent=null,this.user_id=null,this.device_type=e.device_type,this.event_name=e.event_name,this.extra=e.extra,this.file_extension=e.file_extension,this.file_last_edit_ts=e.file_last_edit_ts,this.file_obj_id=e.file_obj_id,this.file_preview_session_id=e.file_preview_session_id,this.file_preview_size=e.file_preview_size,this.file_sf_status=e.file_sf_status,this.file_size=e.file_size,this.file_viewer_session_id=e.file_viewer_session_id,this.is_starred=e.is_starred,this.ns_id=e.ns_id,this.sj_id=e.sj_id,this.x_dropbox_path=e.x_dropbox_path,this.timestamp=Date.now()/1e3|0,Object.seal(this)};t.WebFilePreviewsLoggingRow=i})),define("modules/clean/open_in_app/types",["require","exports","tslib","modules/constants/file_viewer"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areUrlsAndroid=t.areUrlsIOS=void 0;var n=(r=i.__importStar(r)).OpenInMobileAppPlatform;t.areUrlsIOS=function(e){return e.platform===n.IPAD||e.platform===n.IPHONE},t.areUrlsAndroid=function(e){return e.platform===n.ANDROID_MARKET}})),define("modules/clean/previews/api",["require","exports","tslib","modules/clean/api_v2/user_client","modules/clean/api_v2/noauth_client","modules/clean/deprecated_ajax/ajax_as_promised_jquery","modules/core/uri","file-viewer/core/index"],(function(e,t,i,r,n,a,o,s){"use strict";function l(e){var i=t.getParsedDropboxMetadataHeader(e.jqXHR);return 401===e.jqXHR.status&&"1"===e.jqXHR.getResponseHeader("x-dropbox-pdf-password-needed")?new s.RivieraError("Password required",s.RivieraStatus.PasswordProtected):new s.RivieraError("Load Error",i.rivieraStatusCode)}function c(e){return o.URI.parse(e).getAuthority().toLocaleLowerCase().indexOf("dropbox.com")<0}Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedDropboxMetadataHeader=t.requestDocMetadata=t.refreshBlob=t.fetchPreviewData=t.MAX_REQUEST_SIZE=void 0,a=i.__importStar(a),t.MAX_REQUEST_SIZE=50,t.fetchPreviewData=function(e,t){if(!t)return Promise.reject(new Error("user not logged in, no support for un-auth'd users yet"));var i={files:e.map((function(e){return{ns_id:e.ns_id,sj_id:e.sjid}}))};return t?(new r.UserApiV2Client).ns("previews").rpc("get_preview_data_batch",i,{subjectUserId:t.id}):(new n.NoAuthApiV2Client).ns("previews").rpc("get_preview_data_batch",i,{})},t.refreshBlob=function(e,t,r){return i.__awaiter(this,void 0,Promise,(function(){var n,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.SilentBackgroundRequest({url:e,dataType:"json",type:"POST",data:r?{password:r}:{},xhrFields:{withCredentials:!0},skipInjectCsrf:c(e)})];case 1:return n=i.sent(),[3,3];case 2:throw l(i.sent());case 3:return void 0!==n.image?[2,{text_url_tmpl:n.text,image_url_tmpl:n.image,refresh_url:n.refresh}]:(o=n.old_blob,s=n.new_blob,[2,{text_url_tmpl:t.text_url_tmpl.replace(o,s),image_url_tmpl:t.image_url_tmpl.replace(o,s),refresh_url:t.refresh_url.replace(o,s)}])}}))}))},t.requestDocMetadata=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,a.SilentBackgroundRequest({dataType:"json",type:"GET",url:e,xhrFields:{withCredentials:!0},skipInjectCsrf:c(e)})];case 1:return[2,t.sent()];case 2:throw l(t.sent());case 3:return[2]}}))}))},t.getParsedDropboxMetadataHeader=function(e){var t={};try{var i=e.getResponseHeader("x-dropbox-metadata");i&&(t=JSON.parse(i))}catch(e){}return t}})),define("modules/clean/previews/data/actions",["require","exports","tslib","lodash","modules/clean/previews/data/types","modules/clean/redux/types","modules/clean/previews/data/util","modules/clean/previews/api","modules/clean/file_store/utils","modules/clean/react/previews/pdf_viewer/urls"],(function(e,t,i,r,n,a,o,s,l,c){"use strict";function d(e){return{type:n.ActionTypes.UpdatePreviewData,payload:e}}function u(e,t){var i=t.results.reduce((function(e,t){return e[l.getFileRevisionId({ns_id:t.file.ns_id,sjid:t.file.sj_id})]=t,e}),{});return{type:n.ActionTypes.UpdatePreviewData,payload:e.reduce((function(e,t){var r=i[t],n={data:null==r?void 0:r.preview,status:a.ApiClientStatus.Success};return e[t]=n,e}),{})}}function p(e){return{type:n.ActionTypes.UpdatePreviewData,payload:r.mapValues(e,(function(e){return{data:void 0,status:a.ApiClientStatus.Error}}))}}function f(e,t,i){return{type:n.ActionTypes.FetchDocMetadataResult,payload:{revisionId:e,metadata:t},error:i}}function _(e,t,i){return{type:n.ActionTypes.FetchDataForPageResult,payload:{revisionId:e,metadata:t},error:i}}function v(e,t){var r=this;return function(n){return i.__awaiter(r,void 0,void 0,(function(){var r,a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s.requestDocMetadata(c.textUrl(t,!0))];case 1:return r=i.sent(),[3,3];case 2:return a=i.sent(),n(f(e,void 0,a)),[3,3];case 3:return n(f(e,r)),[2]}}))}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyVirtualPreviewMetadata=t.setVirtualPreviewMetadata=t.clearVirtualPreviewMetadata=t.fetchDataForPage=t.fetchDocMetadata=t.fetchDataForPageResultAction=t.fetchDocMetadataResultAction=t.refreshBlobAction=t.apiRequestErrorAction=t.apiRequestSuccessAction=t.apiRequestInFlightAction=t.updatePreviewData=t.buildPreviewData=t.fetchPreviewUrl=t.fetchPreviewData=t.populateArchivePreviews=t.clearCommentsPreviewOverride=t.overridePreviewForComments=t.populateFilesPreviewData=void 0,t.populateFilesPreviewData=function(e){var t={};return e.forEach((function(e){var i=l.getFileRevisionId(e),r=e.preview;r&&(t[i]={data:r,status:a.ApiClientStatus.Success})})),{type:n.ActionTypes.UpdatePreviewData,payload:t}},t.overridePreviewForComments=function(e,t){var i=e.revision_id;return{type:n.ActionTypes.OverrideWithComments1Revision,payload:{revisionId:i,preview:t}}},t.clearCommentsPreviewOverride=function(e){var t=e.revision_id;return{type:n.ActionTypes.ClearOverrideWithComments1Revision,payload:{revisionId:t}}},t.populateArchivePreviews=function(e,t){var i,r=l.getFileRevisionId(e),a=((i={})[r]={},i);return t.forEach((function(e){e.preview&&(a[r][e.subpath]=e.preview)})),{type:n.ActionTypes.PopulateArchiveFiles,payload:a}},t.fetchPreviewData=function(e,r,n){var c=this;return function(d,f){return i.__awaiter(c,void 0,void 0,(function(){var c,_,v;return i.__generator(this,(function(g){return 0===(c=o.filterFilesMissingPreviewData(f(),e,n)).length?[2]:(_=o.chunkFiles(c,s.MAX_REQUEST_SIZE),v=_.map((function(e){return(function(e,r,n){return i.__awaiter(this,void 0,void 0,(function(){var o,c;return i.__generator(this,(function(i){switch(i.label){case 0:o=(function(e){return e.reduce((function(e,t){return e[l.getFileRevisionId(t)]={data:void 0,status:a.ApiClientStatus.Request},e}),{})})(r),e(t.apiRequestInFlightAction(o)),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,s.fetchPreviewData(r,n)];case 2:return c=i.sent(),[2,e(u(Object.keys(o),c))];case 3:return i.sent(),[2,e(p(o))];case 4:return[2]}}))}))})(d,e,r)})),[2,Promise.all(v)])}))}))}},t.fetchPreviewUrl=function(e,t){return s.fetchPreviewData([e],t).then((function(e){if(e.results.length>0){var t=e.results[0].preview;if(t&&t.preview_url)return t.preview_url}}))},t.buildPreviewData=function(e,t){return e.reduce((function(e,i){return e[l.getFileRevisionId(i)]={data:i.preview,status:t},e}),{})},t.updatePreviewData=d,t.apiRequestInFlightAction=d,t.apiRequestSuccessAction=u,t.apiRequestErrorAction=p,t.refreshBlobAction=function(e,t,r,a){var o=this;return function(l){return i.__awaiter(o,void 0,void 0,(function(){var o,c;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s.refreshBlob(t,r,a)];case 1:return o=i.sent(),l((function(e,t){return{type:n.ActionTypes.RefreshDocBlobResult,payload:{revisionId:e,preview:t}}})(e,o)),l(v(e,o.text_url_tmpl)),[3,3];case 2:return c=i.sent(),l(f(e,void 0,c)),[3,3];case 3:return[2]}}))}))}},t.fetchDocMetadataResultAction=f,t.fetchDataForPageResultAction=_,t.fetchDocMetadata=v,t.fetchDataForPage=function(e,t,r,n){var a=this;return function(o){return i.__awaiter(a,void 0,void 0,(function(){var a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s.requestDocMetadata(c.textUrl(t,!1,r,n))];case 1:return a=i.sent(),o(_(e,a)),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))}},t.clearVirtualPreviewMetadata=function(){return{type:n.ActionTypes.ClearVirtualPreviewMetadata}},t.setVirtualPreviewMetadata=function(e,t){var i=e.ns_id,r=e.sjid;return{type:n.ActionTypes.SetVirtualPreviewMetadata,payload:{revisionId:o.buildRevisionId(i,r),preview:t}}},t.applyVirtualPreviewMetadata=function(e){var t=e.ns_id,i=e.sjid;return{type:n.ActionTypes.ApplyVirtualPreviewMetadata,payload:o.buildRevisionId(t,i)}}})),define("modules/clean/previews/data/reducer",["require","exports","tslib","lodash","modules/clean/previews/data/types","modules/clean/react/previews/pdf_viewer/urls"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0,r=i.__importStar(r),t.initialState={filePreviews:{},docPreviewMetadata:{},comments1Override:{},archivePreviews:{},virtualPreviews:{}};var o={schema_version:0,page_count:0,dimensions:[]};function s(e){if(!e||!e.pages)return{};var t=e.links,r=e.schema_version,n=e.pages,a=e.fonts,o=void 0===a?[]:a,s=Object.keys(n),l={schema_version:r,links:t,pages:{}};return s.filter((function(e){return!!n[e]})).forEach((function(e){l.pages[e]=n[e].map((function(e){return i.__assign(i.__assign({},e),{font:o[e.f]})}))})),l}t.reducer=function(e,l){var c,d,u,p,f,_,v,g,m,h;switch(void 0===e&&(e=t.initialState),l.type){case n.ActionTypes.PopulateArchiveFiles:return i.__assign(i.__assign({},e),{archivePreviews:r.merge({},e.archivePreviews,l.payload)});case n.ActionTypes.ClearVirtualPreviewMetadata:return i.__assign(i.__assign({},e),{virtualPreviews:{}});case n.ActionTypes.SetVirtualPreviewMetadata:var b=l.payload,w=b.preview,A=b.revisionId;return i.__assign(i.__assign({},e),{virtualPreviews:r.merge({},e.virtualPreviews,(c={},c[A]=w,c))});case n.ActionTypes.ApplyVirtualPreviewMetadata:var y=l.payload;return i.__assign(i.__assign({},e),{filePreviews:r.merge({},e.filePreviews,(d={},d[y]={data:e.virtualPreviews[y]},d)),virtualPreviews:r.omit(e.virtualPreviews,y)});case n.ActionTypes.UpdatePreviewData:return i.__assign(i.__assign({},e),{filePreviews:i.__assign(i.__assign({},e.filePreviews),l.payload)});case n.ActionTypes.OverrideWithComments1Revision:return h=l.payload.revisionId,i.__assign(i.__assign({},e),{comments1Override:i.__assign(i.__assign({},e.comments1Override),(u={},u[h]=l.payload.preview,u))});case n.ActionTypes.ClearOverrideWithComments1Revision:return i.__assign(i.__assign({},e),{comments1Override:i.__assign(i.__assign({},e.comments1Override),(p={},p[l.payload.revisionId]=void 0,p))});case n.ActionTypes.RefreshDocBlobResult:return h=l.payload.revisionId,i.__assign(i.__assign({},e),{filePreviews:i.__assign(i.__assign({},e.filePreviews),(f={},f[h]=i.__assign(i.__assign({},e.filePreviews[h]),{data:i.__assign(i.__assign({},e.filePreviews[h].data),{content:i.__assign(i.__assign(i.__assign({},e.filePreviews[h].data.content),l.payload.preview),{placeholder_image_url:l.payload.preview.placeholder_image_url||a.imageUrl(l.payload.preview.image_url_tmpl)})})}),f))});case n.ActionTypes.FetchDocMetadataResult:if(h=l.payload.revisionId,l.error)return i.__assign(i.__assign({},e),{docPreviewMetadata:i.__assign(i.__assign({},e.docPreviewMetadata),(_={},_[h]={metadata:o,text:{},error:l.error},_))});if(l.payload.metadata){var P=l.payload.metadata,S=P.metadata,E=void 0===S?o:S,x=P.text,C={},I=e.docPreviewMetadata[h];return E&&(E=i.__assign(i.__assign({},I&&I.metadata||{}),E)),x&&(C=i.__assign(i.__assign({},I&&I.text||{}),s(x))),i.__assign(i.__assign({},e),{docPreviewMetadata:i.__assign(i.__assign({},e.docPreviewMetadata),(v={},v[h]={metadata:E,text:C},v))})}return e;case n.ActionTypes.FetchDataForPageResult:h=l.payload.revisionId;I=e.docPreviewMetadata[h]||{metadata:o,text:{}};if(l.error)return i.__assign(i.__assign({},e),{docPreviewMetadata:i.__assign(i.__assign({},e.docPreviewMetadata),(g={},g[h]=i.__assign(i.__assign({},I),{error:l.error}),g))});if(l.payload.metadata){var F=l.payload.metadata;E=F.metadata,x=F.text,C={};if(E=E?r.merge({},I.metadata,E):I.metadata,x){var R=s(x);C=r.merge({},I.text,R)}else C=I.text;return i.__assign(i.__assign({},e),{docPreviewMetadata:i.__assign(i.__assign({},e.docPreviewMetadata),(m={},m[h]={metadata:E,text:C},m))})}return e;default:return e}}})),define("modules/clean/previews/data/selectors",["require","exports","modules/clean/redux/types","modules/clean/redux/selectors","modules/clean/file_store/utils","modules/clean/redux/namespaces"],(function(e,t,i,r,n,a){"use strict";function o(e){return r.getStateAtNamespace(e,a.PREVIEW_NAMESPACE_KEY)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDocMetadataByRevisionId=t.getPreviewForArchiveFile=t.getApiDataForFiles=t.getApiDataForFile=t.getIsVirtualRevisionId=t.getApiDataForRevisionId=void 0;var s={data:void 0,status:i.ApiClientStatus.Error};function l(e,t){var r=o(e);if(!r||!t)return s;var a=n.getFileRevisionId(t),l=r.comments1Override[t.revision_id];if(l)return{data:l,status:i.ApiClientStatus.Success};if(r.virtualPreviews[a])return{data:r.virtualPreviews[a],status:i.ApiClientStatus.Success};var c=r.filePreviews[a];return c&&c.status?c:s}t.getApiDataForRevisionId=function(e,t){var i=o(e);return i&&t?i.comments1Override[t]||i.virtualPreviews[t]||i.filePreviews[t]&&i.filePreviews[t].data:{}},t.getIsVirtualRevisionId=function(e,t){var i=o(e);return!(!i||!t)&&(!i.comments1Override[t]&&!!i.virtualPreviews[t])},t.getApiDataForFile=l,t.getApiDataForFiles=function(e,t){return t.reduce((function(t,i){return t[n.getFileRevisionId(i)]=l(e,i),t}),{})},t.getPreviewForArchiveFile=function(e,t){var o=r.getStateAtNamespace(e,a.PREVIEW_NAMESPACE_KEY);if(!o||!t)return s;var l=o.archivePreviews[n.getFileRevisionId(t)];return l?{data:l[t.subpath],status:i.ApiClientStatus.Success}:s},t.getDocMetadataByRevisionId=function(e,t){var i=r.getStateAtNamespace(e,a.PREVIEW_NAMESPACE_KEY);if(i)return i.docPreviewMetadata[t]}})),define("modules/clean/previews/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypes=void 0,(function(e){e.PopulateArchiveFiles="FileViewer/Previews/PopulateArchiveFiles",e.UpdatePreviewData="FileViewer/Previews/UpdatePreviewData",e.OverrideWithComments1Revision="FileViewer/Previews/OverrideWithComments1Revision",e.ClearOverrideWithComments1Revision="FileViewer/Previews/ClearOverrideWithComments1Revision",e.RefreshDocBlob="FileViewer/Previews/RefreshDocBlob",e.RefreshDocBlobResult="FileViewer/Previews/RefreshDocBlobResult",e.FetchDocMetadata="FileViewer/Previews/FetchDocMetadata",e.FetchDocMetadataResult="FileViewer/Previews/FetchDocMetadataResult",e.FetchDataForPageResult="FileViewer/Previews/FetchDataForPageResult",e.ApplyVirtualPreviewMetadata="FileViewer/Previews/ApplyVirtualPreviewMetadata",e.ClearVirtualPreviewMetadata="FileViewer/Previews/ClearVirtualPreviewMetadata",e.SetVirtualPreviewMetadata="FileViewer/Previews/SetVirtualPreviewMetadata"})(t.ActionTypes||(t.ActionTypes={}))})),define("modules/clean/previews/data/util",["require","exports","tslib","lodash","modules/clean/previews/data/selectors","modules/clean/file_store/utils","modules/clean/redux/types"],(function(e,t,i,r,n,a,o){"use strict";function s(e,t){var i=n.getApiDataForFile(e,t);return i?i.status:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.chunkFiles=t.previewDataStatus=t.previewDataInFlight=t.previewDataPresentForFile=t.buildRevisionId=t.filterFilesMissingPreviewData=void 0,r=i.__importStar(r),t.filterFilesMissingPreviewData=function(e,t,i){if(void 0===i&&(i=!1),i)return t;var s=n.getApiDataForFiles(e,t);return r.filter(t,(function(e){var t=a.getFileRevisionId(e);return!e.is_dir&&(!s[t]||!s[t].data&&s[t].status===o.ApiClientStatus.Error)}))},t.buildRevisionId=function(e,t){return e+":"+t},t.previewDataPresentForFile=function(e,t){var i=n.getApiDataForFile(e,t);return!(!i||!i.data||i.status===o.ApiClientStatus.Error)},t.previewDataInFlight=function(e,t){return s(e,t)===o.ApiClientStatus.Request},t.previewDataStatus=s,t.chunkFiles=function(e,t){if(e.length<=0)return[];if(e.length<t)return[e];for(var i=Array(Math.ceil(e.length/t)),r=0,n=0;r<e.length;)i[n++]=e.slice(r,r+=t);return i}})),define("modules/clean/react/previews/pdf_viewer/urls",["require","exports","tslib","modules/core/uri","modules/constants/file_viewer"],(function(e,t,i,r,n){"use strict";function a(e,t){return r.URI.parse(e).updateQuery(t).toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.skipCsrfTokenInjection=t.updateQueryParam=t.imageUrl=t.textUrl=void 0,n=i.__importStar(n),t.textUrl=function(e,t,i,r,n){return void 0===i&&(i=0),void 0===r&&(r=50),void 0===n&&(n=!1),t&&(e=a(e,{metadata:"1"})),void 0!==i&&(e=a(e,{text:"1",page_start:""+i,page_end:""+r})),n&&(e=a(e,{canned_file_name:"spdf/audi.pdf.json"})),e},t.imageUrl=function(e,t,i,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=!1);var o={page:t.toString()};n.SVG_PDF_PREVIEW&&i>0?o.format="svg":o.scale_percent=i.toString();var s=a(e,o);return r&&(s=a(s,{canned_file_name:"spdf/audi.pdf."+t+".png"})),s},t.updateQueryParam=a,t.skipCsrfTokenInjection=function(e){return r.URI.parse(e).getAuthority().toLocaleLowerCase().indexOf("dropbox.com")<0}})),define("prod_assets_web_modules/grapheme-splitter",["./common/_commonjsHelpers"],(function(e){"use strict";return e.createCommonjsModule((function(e){e.exports&&(e.exports=function(){var e=3,t=4,i=12,r=13,n=16,a=17;function o(e,t){void 0===t&&(t=0);var i=e.charCodeAt(t);if(55296<=i&&i<=56319&&t<e.length-1){var r=i;return 56320<=(n=e.charCodeAt(t+1))&&n<=57343?1024*(r-55296)+(n-56320)+65536:r}if(56320<=i&&i<=57343&&t>=1){var n=i;return 55296<=(r=e.charCodeAt(t-1))&&r<=56319?1024*(r-55296)+(n-56320)+65536:n}return i}function s(o,s,l){var c=[o].concat(s).concat([l]),d=c[c.length-2],u=l,p=c.lastIndexOf(14);if(p>1&&c.slice(1,p).every((function(t){return t==e}))&&-1==[e,r,a].indexOf(o))return 2;var f=c.lastIndexOf(t);if(f>0&&c.slice(1,f).every((function(e){return e==t}))&&-1==[i,t].indexOf(d))return c.filter((function(e){return e==t})).length%2==1?3:4;if(0==d&&1==u)return 0;if(2==d||0==d||1==d)return 14==u&&s.every((function(t){return t==e}))?2:1;if(2==u||0==u||1==u)return 1;if(6==d&&(6==u||7==u||9==u||10==u))return 0;if(!(9!=d&&7!=d||7!=u&&8!=u))return 0;if((10==d||8==d)&&8==u)return 0;if(u==e||15==u)return 0;if(5==u)return 0;if(d==i)return 0;var _=-1!=c.indexOf(e)?c.lastIndexOf(e)-1:c.length-2;return-1!=[r,a].indexOf(c[_])&&c.slice(_+1,-1).every((function(t){return t==e}))&&14==u||15==d&&-1!=[n,a].indexOf(u)?0:-1!=s.indexOf(t)?2:d==t&&u==t?0:1}function l(o){return 1536<=o&&o<=1541||1757==o||1807==o||2274==o||3406==o||69821==o||70082<=o&&o<=70083||72250==o||72326<=o&&o<=72329||73030==o?i:13==o?0:10==o?1:0<=o&&o<=9||11<=o&&o<=12||14<=o&&o<=31||127<=o&&o<=159||173==o||1564==o||6158==o||8203==o||8206<=o&&o<=8207||8232==o||8233==o||8234<=o&&o<=8238||8288<=o&&o<=8292||8293==o||8294<=o&&o<=8303||55296<=o&&o<=57343||65279==o||65520<=o&&o<=65528||65529<=o&&o<=65531||113824<=o&&o<=113827||119155<=o&&o<=119162||917504==o||917505==o||917506<=o&&o<=917535||917632<=o&&o<=917759||918e3<=o&&o<=921599?2:768<=o&&o<=879||1155<=o&&o<=1159||1160<=o&&o<=1161||1425<=o&&o<=1469||1471==o||1473<=o&&o<=1474||1476<=o&&o<=1477||1479==o||1552<=o&&o<=1562||1611<=o&&o<=1631||1648==o||1750<=o&&o<=1756||1759<=o&&o<=1764||1767<=o&&o<=1768||1770<=o&&o<=1773||1809==o||1840<=o&&o<=1866||1958<=o&&o<=1968||2027<=o&&o<=2035||2070<=o&&o<=2073||2075<=o&&o<=2083||2085<=o&&o<=2087||2089<=o&&o<=2093||2137<=o&&o<=2139||2260<=o&&o<=2273||2275<=o&&o<=2306||2362==o||2364==o||2369<=o&&o<=2376||2381==o||2385<=o&&o<=2391||2402<=o&&o<=2403||2433==o||2492==o||2494==o||2497<=o&&o<=2500||2509==o||2519==o||2530<=o&&o<=2531||2561<=o&&o<=2562||2620==o||2625<=o&&o<=2626||2631<=o&&o<=2632||2635<=o&&o<=2637||2641==o||2672<=o&&o<=2673||2677==o||2689<=o&&o<=2690||2748==o||2753<=o&&o<=2757||2759<=o&&o<=2760||2765==o||2786<=o&&o<=2787||2810<=o&&o<=2815||2817==o||2876==o||2878==o||2879==o||2881<=o&&o<=2884||2893==o||2902==o||2903==o||2914<=o&&o<=2915||2946==o||3006==o||3008==o||3021==o||3031==o||3072==o||3134<=o&&o<=3136||3142<=o&&o<=3144||3146<=o&&o<=3149||3157<=o&&o<=3158||3170<=o&&o<=3171||3201==o||3260==o||3263==o||3266==o||3270==o||3276<=o&&o<=3277||3285<=o&&o<=3286||3298<=o&&o<=3299||3328<=o&&o<=3329||3387<=o&&o<=3388||3390==o||3393<=o&&o<=3396||3405==o||3415==o||3426<=o&&o<=3427||3530==o||3535==o||3538<=o&&o<=3540||3542==o||3551==o||3633==o||3636<=o&&o<=3642||3655<=o&&o<=3662||3761==o||3764<=o&&o<=3769||3771<=o&&o<=3772||3784<=o&&o<=3789||3864<=o&&o<=3865||3893==o||3895==o||3897==o||3953<=o&&o<=3966||3968<=o&&o<=3972||3974<=o&&o<=3975||3981<=o&&o<=3991||3993<=o&&o<=4028||4038==o||4141<=o&&o<=4144||4146<=o&&o<=4151||4153<=o&&o<=4154||4157<=o&&o<=4158||4184<=o&&o<=4185||4190<=o&&o<=4192||4209<=o&&o<=4212||4226==o||4229<=o&&o<=4230||4237==o||4253==o||4957<=o&&o<=4959||5906<=o&&o<=5908||5938<=o&&o<=5940||5970<=o&&o<=5971||6002<=o&&o<=6003||6068<=o&&o<=6069||6071<=o&&o<=6077||6086==o||6089<=o&&o<=6099||6109==o||6155<=o&&o<=6157||6277<=o&&o<=6278||6313==o||6432<=o&&o<=6434||6439<=o&&o<=6440||6450==o||6457<=o&&o<=6459||6679<=o&&o<=6680||6683==o||6742==o||6744<=o&&o<=6750||6752==o||6754==o||6757<=o&&o<=6764||6771<=o&&o<=6780||6783==o||6832<=o&&o<=6845||6846==o||6912<=o&&o<=6915||6964==o||6966<=o&&o<=6970||6972==o||6978==o||7019<=o&&o<=7027||7040<=o&&o<=7041||7074<=o&&o<=7077||7080<=o&&o<=7081||7083<=o&&o<=7085||7142==o||7144<=o&&o<=7145||7149==o||7151<=o&&o<=7153||7212<=o&&o<=7219||7222<=o&&o<=7223||7376<=o&&o<=7378||7380<=o&&o<=7392||7394<=o&&o<=7400||7405==o||7412==o||7416<=o&&o<=7417||7616<=o&&o<=7673||7675<=o&&o<=7679||8204==o||8400<=o&&o<=8412||8413<=o&&o<=8416||8417==o||8418<=o&&o<=8420||8421<=o&&o<=8432||11503<=o&&o<=11505||11647==o||11744<=o&&o<=11775||12330<=o&&o<=12333||12334<=o&&o<=12335||12441<=o&&o<=12442||42607==o||42608<=o&&o<=42610||42612<=o&&o<=42621||42654<=o&&o<=42655||42736<=o&&o<=42737||43010==o||43014==o||43019==o||43045<=o&&o<=43046||43204<=o&&o<=43205||43232<=o&&o<=43249||43302<=o&&o<=43309||43335<=o&&o<=43345||43392<=o&&o<=43394||43443==o||43446<=o&&o<=43449||43452==o||43493==o||43561<=o&&o<=43566||43569<=o&&o<=43570||43573<=o&&o<=43574||43587==o||43596==o||43644==o||43696==o||43698<=o&&o<=43700||43703<=o&&o<=43704||43710<=o&&o<=43711||43713==o||43756<=o&&o<=43757||43766==o||44005==o||44008==o||44013==o||64286==o||65024<=o&&o<=65039||65056<=o&&o<=65071||65438<=o&&o<=65439||66045==o||66272==o||66422<=o&&o<=66426||68097<=o&&o<=68099||68101<=o&&o<=68102||68108<=o&&o<=68111||68152<=o&&o<=68154||68159==o||68325<=o&&o<=68326||69633==o||69688<=o&&o<=69702||69759<=o&&o<=69761||69811<=o&&o<=69814||69817<=o&&o<=69818||69888<=o&&o<=69890||69927<=o&&o<=69931||69933<=o&&o<=69940||70003==o||70016<=o&&o<=70017||70070<=o&&o<=70078||70090<=o&&o<=70092||70191<=o&&o<=70193||70196==o||70198<=o&&o<=70199||70206==o||70367==o||70371<=o&&o<=70378||70400<=o&&o<=70401||70460==o||70462==o||70464==o||70487==o||70502<=o&&o<=70508||70512<=o&&o<=70516||70712<=o&&o<=70719||70722<=o&&o<=70724||70726==o||70832==o||70835<=o&&o<=70840||70842==o||70845==o||70847<=o&&o<=70848||70850<=o&&o<=70851||71087==o||71090<=o&&o<=71093||71100<=o&&o<=71101||71103<=o&&o<=71104||71132<=o&&o<=71133||71219<=o&&o<=71226||71229==o||71231<=o&&o<=71232||71339==o||71341==o||71344<=o&&o<=71349||71351==o||71453<=o&&o<=71455||71458<=o&&o<=71461||71463<=o&&o<=71467||72193<=o&&o<=72198||72201<=o&&o<=72202||72243<=o&&o<=72248||72251<=o&&o<=72254||72263==o||72273<=o&&o<=72278||72281<=o&&o<=72283||72330<=o&&o<=72342||72344<=o&&o<=72345||72752<=o&&o<=72758||72760<=o&&o<=72765||72767==o||72850<=o&&o<=72871||72874<=o&&o<=72880||72882<=o&&o<=72883||72885<=o&&o<=72886||73009<=o&&o<=73014||73018==o||73020<=o&&o<=73021||73023<=o&&o<=73029||73031==o||92912<=o&&o<=92916||92976<=o&&o<=92982||94095<=o&&o<=94098||113821<=o&&o<=113822||119141==o||119143<=o&&o<=119145||119150<=o&&o<=119154||119163<=o&&o<=119170||119173<=o&&o<=119179||119210<=o&&o<=119213||119362<=o&&o<=119364||121344<=o&&o<=121398||121403<=o&&o<=121452||121461==o||121476==o||121499<=o&&o<=121503||121505<=o&&o<=121519||122880<=o&&o<=122886||122888<=o&&o<=122904||122907<=o&&o<=122913||122915<=o&&o<=122916||122918<=o&&o<=122922||125136<=o&&o<=125142||125252<=o&&o<=125258||917536<=o&&o<=917631||917760<=o&&o<=917999?e:127462<=o&&o<=127487?t:2307==o||2363==o||2366<=o&&o<=2368||2377<=o&&o<=2380||2382<=o&&o<=2383||2434<=o&&o<=2435||2495<=o&&o<=2496||2503<=o&&o<=2504||2507<=o&&o<=2508||2563==o||2622<=o&&o<=2624||2691==o||2750<=o&&o<=2752||2761==o||2763<=o&&o<=2764||2818<=o&&o<=2819||2880==o||2887<=o&&o<=2888||2891<=o&&o<=2892||3007==o||3009<=o&&o<=3010||3014<=o&&o<=3016||3018<=o&&o<=3020||3073<=o&&o<=3075||3137<=o&&o<=3140||3202<=o&&o<=3203||3262==o||3264<=o&&o<=3265||3267<=o&&o<=3268||3271<=o&&o<=3272||3274<=o&&o<=3275||3330<=o&&o<=3331||3391<=o&&o<=3392||3398<=o&&o<=3400||3402<=o&&o<=3404||3458<=o&&o<=3459||3536<=o&&o<=3537||3544<=o&&o<=3550||3570<=o&&o<=3571||3635==o||3763==o||3902<=o&&o<=3903||3967==o||4145==o||4155<=o&&o<=4156||4182<=o&&o<=4183||4228==o||6070==o||6078<=o&&o<=6085||6087<=o&&o<=6088||6435<=o&&o<=6438||6441<=o&&o<=6443||6448<=o&&o<=6449||6451<=o&&o<=6456||6681<=o&&o<=6682||6741==o||6743==o||6765<=o&&o<=6770||6916==o||6965==o||6971==o||6973<=o&&o<=6977||6979<=o&&o<=6980||7042==o||7073==o||7078<=o&&o<=7079||7082==o||7143==o||7146<=o&&o<=7148||7150==o||7154<=o&&o<=7155||7204<=o&&o<=7211||7220<=o&&o<=7221||7393==o||7410<=o&&o<=7411||7415==o||43043<=o&&o<=43044||43047==o||43136<=o&&o<=43137||43188<=o&&o<=43203||43346<=o&&o<=43347||43395==o||43444<=o&&o<=43445||43450<=o&&o<=43451||43453<=o&&o<=43456||43567<=o&&o<=43568||43571<=o&&o<=43572||43597==o||43755==o||43758<=o&&o<=43759||43765==o||44003<=o&&o<=44004||44006<=o&&o<=44007||44009<=o&&o<=44010||44012==o||69632==o||69634==o||69762==o||69808<=o&&o<=69810||69815<=o&&o<=69816||69932==o||70018==o||70067<=o&&o<=70069||70079<=o&&o<=70080||70188<=o&&o<=70190||70194<=o&&o<=70195||70197==o||70368<=o&&o<=70370||70402<=o&&o<=70403||70463==o||70465<=o&&o<=70468||70471<=o&&o<=70472||70475<=o&&o<=70477||70498<=o&&o<=70499||70709<=o&&o<=70711||70720<=o&&o<=70721||70725==o||70833<=o&&o<=70834||70841==o||70843<=o&&o<=70844||70846==o||70849==o||71088<=o&&o<=71089||71096<=o&&o<=71099||71102==o||71216<=o&&o<=71218||71227<=o&&o<=71228||71230==o||71340==o||71342<=o&&o<=71343||71350==o||71456<=o&&o<=71457||71462==o||72199<=o&&o<=72200||72249==o||72279<=o&&o<=72280||72343==o||72751==o||72766==o||72873==o||72881==o||72884==o||94033<=o&&o<=94078||119142==o||119149==o?5:4352<=o&&o<=4447||43360<=o&&o<=43388?6:4448<=o&&o<=4519||55216<=o&&o<=55238?7:4520<=o&&o<=4607||55243<=o&&o<=55291?8:44032==o||44060==o||44088==o||44116==o||44144==o||44172==o||44200==o||44228==o||44256==o||44284==o||44312==o||44340==o||44368==o||44396==o||44424==o||44452==o||44480==o||44508==o||44536==o||44564==o||44592==o||44620==o||44648==o||44676==o||44704==o||44732==o||44760==o||44788==o||44816==o||44844==o||44872==o||44900==o||44928==o||44956==o||44984==o||45012==o||45040==o||45068==o||45096==o||45124==o||45152==o||45180==o||45208==o||45236==o||45264==o||45292==o||45320==o||45348==o||45376==o||45404==o||45432==o||45460==o||45488==o||45516==o||45544==o||45572==o||45600==o||45628==o||45656==o||45684==o||45712==o||45740==o||45768==o||45796==o||45824==o||45852==o||45880==o||45908==o||45936==o||45964==o||45992==o||46020==o||46048==o||46076==o||46104==o||46132==o||46160==o||46188==o||46216==o||46244==o||46272==o||46300==o||46328==o||46356==o||46384==o||46412==o||46440==o||46468==o||46496==o||46524==o||46552==o||46580==o||46608==o||46636==o||46664==o||46692==o||46720==o||46748==o||46776==o||46804==o||46832==o||46860==o||46888==o||46916==o||46944==o||46972==o||47e3==o||47028==o||47056==o||47084==o||47112==o||47140==o||47168==o||47196==o||47224==o||47252==o||47280==o||47308==o||47336==o||47364==o||47392==o||47420==o||47448==o||47476==o||47504==o||47532==o||47560==o||47588==o||47616==o||47644==o||47672==o||47700==o||47728==o||47756==o||47784==o||47812==o||47840==o||47868==o||47896==o||47924==o||47952==o||47980==o||48008==o||48036==o||48064==o||48092==o||48120==o||48148==o||48176==o||48204==o||48232==o||48260==o||48288==o||48316==o||48344==o||48372==o||48400==o||48428==o||48456==o||48484==o||48512==o||48540==o||48568==o||48596==o||48624==o||48652==o||48680==o||48708==o||48736==o||48764==o||48792==o||48820==o||48848==o||48876==o||48904==o||48932==o||48960==o||48988==o||49016==o||49044==o||49072==o||49100==o||49128==o||49156==o||49184==o||49212==o||49240==o||49268==o||49296==o||49324==o||49352==o||49380==o||49408==o||49436==o||49464==o||49492==o||49520==o||49548==o||49576==o||49604==o||49632==o||49660==o||49688==o||49716==o||49744==o||49772==o||49800==o||49828==o||49856==o||49884==o||49912==o||49940==o||49968==o||49996==o||50024==o||50052==o||50080==o||50108==o||50136==o||50164==o||50192==o||50220==o||50248==o||50276==o||50304==o||50332==o||50360==o||50388==o||50416==o||50444==o||50472==o||50500==o||50528==o||50556==o||50584==o||50612==o||50640==o||50668==o||50696==o||50724==o||50752==o||50780==o||50808==o||50836==o||50864==o||50892==o||50920==o||50948==o||50976==o||51004==o||51032==o||51060==o||51088==o||51116==o||51144==o||51172==o||51200==o||51228==o||51256==o||51284==o||51312==o||51340==o||51368==o||51396==o||51424==o||51452==o||51480==o||51508==o||51536==o||51564==o||51592==o||51620==o||51648==o||51676==o||51704==o||51732==o||51760==o||51788==o||51816==o||51844==o||51872==o||51900==o||51928==o||51956==o||51984==o||52012==o||52040==o||52068==o||52096==o||52124==o||52152==o||52180==o||52208==o||52236==o||52264==o||52292==o||52320==o||52348==o||52376==o||52404==o||52432==o||52460==o||52488==o||52516==o||52544==o||52572==o||52600==o||52628==o||52656==o||52684==o||52712==o||52740==o||52768==o||52796==o||52824==o||52852==o||52880==o||52908==o||52936==o||52964==o||52992==o||53020==o||53048==o||53076==o||53104==o||53132==o||53160==o||53188==o||53216==o||53244==o||53272==o||53300==o||53328==o||53356==o||53384==o||53412==o||53440==o||53468==o||53496==o||53524==o||53552==o||53580==o||53608==o||53636==o||53664==o||53692==o||53720==o||53748==o||53776==o||53804==o||53832==o||53860==o||53888==o||53916==o||53944==o||53972==o||54e3==o||54028==o||54056==o||54084==o||54112==o||54140==o||54168==o||54196==o||54224==o||54252==o||54280==o||54308==o||54336==o||54364==o||54392==o||54420==o||54448==o||54476==o||54504==o||54532==o||54560==o||54588==o||54616==o||54644==o||54672==o||54700==o||54728==o||54756==o||54784==o||54812==o||54840==o||54868==o||54896==o||54924==o||54952==o||54980==o||55008==o||55036==o||55064==o||55092==o||55120==o||55148==o||55176==o?9:44033<=o&&o<=44059||44061<=o&&o<=44087||44089<=o&&o<=44115||44117<=o&&o<=44143||44145<=o&&o<=44171||44173<=o&&o<=44199||44201<=o&&o<=44227||44229<=o&&o<=44255||44257<=o&&o<=44283||44285<=o&&o<=44311||44313<=o&&o<=44339||44341<=o&&o<=44367||44369<=o&&o<=44395||44397<=o&&o<=44423||44425<=o&&o<=44451||44453<=o&&o<=44479||44481<=o&&o<=44507||44509<=o&&o<=44535||44537<=o&&o<=44563||44565<=o&&o<=44591||44593<=o&&o<=44619||44621<=o&&o<=44647||44649<=o&&o<=44675||44677<=o&&o<=44703||44705<=o&&o<=44731||44733<=o&&o<=44759||44761<=o&&o<=44787||44789<=o&&o<=44815||44817<=o&&o<=44843||44845<=o&&o<=44871||44873<=o&&o<=44899||44901<=o&&o<=44927||44929<=o&&o<=44955||44957<=o&&o<=44983||44985<=o&&o<=45011||45013<=o&&o<=45039||45041<=o&&o<=45067||45069<=o&&o<=45095||45097<=o&&o<=45123||45125<=o&&o<=45151||45153<=o&&o<=45179||45181<=o&&o<=45207||45209<=o&&o<=45235||45237<=o&&o<=45263||45265<=o&&o<=45291||45293<=o&&o<=45319||45321<=o&&o<=45347||45349<=o&&o<=45375||45377<=o&&o<=45403||45405<=o&&o<=45431||45433<=o&&o<=45459||45461<=o&&o<=45487||45489<=o&&o<=45515||45517<=o&&o<=45543||45545<=o&&o<=45571||45573<=o&&o<=45599||45601<=o&&o<=45627||45629<=o&&o<=45655||45657<=o&&o<=45683||45685<=o&&o<=45711||45713<=o&&o<=45739||45741<=o&&o<=45767||45769<=o&&o<=45795||45797<=o&&o<=45823||45825<=o&&o<=45851||45853<=o&&o<=45879||45881<=o&&o<=45907||45909<=o&&o<=45935||45937<=o&&o<=45963||45965<=o&&o<=45991||45993<=o&&o<=46019||46021<=o&&o<=46047||46049<=o&&o<=46075||46077<=o&&o<=46103||46105<=o&&o<=46131||46133<=o&&o<=46159||46161<=o&&o<=46187||46189<=o&&o<=46215||46217<=o&&o<=46243||46245<=o&&o<=46271||46273<=o&&o<=46299||46301<=o&&o<=46327||46329<=o&&o<=46355||46357<=o&&o<=46383||46385<=o&&o<=46411||46413<=o&&o<=46439||46441<=o&&o<=46467||46469<=o&&o<=46495||46497<=o&&o<=46523||46525<=o&&o<=46551||46553<=o&&o<=46579||46581<=o&&o<=46607||46609<=o&&o<=46635||46637<=o&&o<=46663||46665<=o&&o<=46691||46693<=o&&o<=46719||46721<=o&&o<=46747||46749<=o&&o<=46775||46777<=o&&o<=46803||46805<=o&&o<=46831||46833<=o&&o<=46859||46861<=o&&o<=46887||46889<=o&&o<=46915||46917<=o&&o<=46943||46945<=o&&o<=46971||46973<=o&&o<=46999||47001<=o&&o<=47027||47029<=o&&o<=47055||47057<=o&&o<=47083||47085<=o&&o<=47111||47113<=o&&o<=47139||47141<=o&&o<=47167||47169<=o&&o<=47195||47197<=o&&o<=47223||47225<=o&&o<=47251||47253<=o&&o<=47279||47281<=o&&o<=47307||47309<=o&&o<=47335||47337<=o&&o<=47363||47365<=o&&o<=47391||47393<=o&&o<=47419||47421<=o&&o<=47447||47449<=o&&o<=47475||47477<=o&&o<=47503||47505<=o&&o<=47531||47533<=o&&o<=47559||47561<=o&&o<=47587||47589<=o&&o<=47615||47617<=o&&o<=47643||47645<=o&&o<=47671||47673<=o&&o<=47699||47701<=o&&o<=47727||47729<=o&&o<=47755||47757<=o&&o<=47783||47785<=o&&o<=47811||47813<=o&&o<=47839||47841<=o&&o<=47867||47869<=o&&o<=47895||47897<=o&&o<=47923||47925<=o&&o<=47951||47953<=o&&o<=47979||47981<=o&&o<=48007||48009<=o&&o<=48035||48037<=o&&o<=48063||48065<=o&&o<=48091||48093<=o&&o<=48119||48121<=o&&o<=48147||48149<=o&&o<=48175||48177<=o&&o<=48203||48205<=o&&o<=48231||48233<=o&&o<=48259||48261<=o&&o<=48287||48289<=o&&o<=48315||48317<=o&&o<=48343||48345<=o&&o<=48371||48373<=o&&o<=48399||48401<=o&&o<=48427||48429<=o&&o<=48455||48457<=o&&o<=48483||48485<=o&&o<=48511||48513<=o&&o<=48539||48541<=o&&o<=48567||48569<=o&&o<=48595||48597<=o&&o<=48623||48625<=o&&o<=48651||48653<=o&&o<=48679||48681<=o&&o<=48707||48709<=o&&o<=48735||48737<=o&&o<=48763||48765<=o&&o<=48791||48793<=o&&o<=48819||48821<=o&&o<=48847||48849<=o&&o<=48875||48877<=o&&o<=48903||48905<=o&&o<=48931||48933<=o&&o<=48959||48961<=o&&o<=48987||48989<=o&&o<=49015||49017<=o&&o<=49043||49045<=o&&o<=49071||49073<=o&&o<=49099||49101<=o&&o<=49127||49129<=o&&o<=49155||49157<=o&&o<=49183||49185<=o&&o<=49211||49213<=o&&o<=49239||49241<=o&&o<=49267||49269<=o&&o<=49295||49297<=o&&o<=49323||49325<=o&&o<=49351||49353<=o&&o<=49379||49381<=o&&o<=49407||49409<=o&&o<=49435||49437<=o&&o<=49463||49465<=o&&o<=49491||49493<=o&&o<=49519||49521<=o&&o<=49547||49549<=o&&o<=49575||49577<=o&&o<=49603||49605<=o&&o<=49631||49633<=o&&o<=49659||49661<=o&&o<=49687||49689<=o&&o<=49715||49717<=o&&o<=49743||49745<=o&&o<=49771||49773<=o&&o<=49799||49801<=o&&o<=49827||49829<=o&&o<=49855||49857<=o&&o<=49883||49885<=o&&o<=49911||49913<=o&&o<=49939||49941<=o&&o<=49967||49969<=o&&o<=49995||49997<=o&&o<=50023||50025<=o&&o<=50051||50053<=o&&o<=50079||50081<=o&&o<=50107||50109<=o&&o<=50135||50137<=o&&o<=50163||50165<=o&&o<=50191||50193<=o&&o<=50219||50221<=o&&o<=50247||50249<=o&&o<=50275||50277<=o&&o<=50303||50305<=o&&o<=50331||50333<=o&&o<=50359||50361<=o&&o<=50387||50389<=o&&o<=50415||50417<=o&&o<=50443||50445<=o&&o<=50471||50473<=o&&o<=50499||50501<=o&&o<=50527||50529<=o&&o<=50555||50557<=o&&o<=50583||50585<=o&&o<=50611||50613<=o&&o<=50639||50641<=o&&o<=50667||50669<=o&&o<=50695||50697<=o&&o<=50723||50725<=o&&o<=50751||50753<=o&&o<=50779||50781<=o&&o<=50807||50809<=o&&o<=50835||50837<=o&&o<=50863||50865<=o&&o<=50891||50893<=o&&o<=50919||50921<=o&&o<=50947||50949<=o&&o<=50975||50977<=o&&o<=51003||51005<=o&&o<=51031||51033<=o&&o<=51059||51061<=o&&o<=51087||51089<=o&&o<=51115||51117<=o&&o<=51143||51145<=o&&o<=51171||51173<=o&&o<=51199||51201<=o&&o<=51227||51229<=o&&o<=51255||51257<=o&&o<=51283||51285<=o&&o<=51311||51313<=o&&o<=51339||51341<=o&&o<=51367||51369<=o&&o<=51395||51397<=o&&o<=51423||51425<=o&&o<=51451||51453<=o&&o<=51479||51481<=o&&o<=51507||51509<=o&&o<=51535||51537<=o&&o<=51563||51565<=o&&o<=51591||51593<=o&&o<=51619||51621<=o&&o<=51647||51649<=o&&o<=51675||51677<=o&&o<=51703||51705<=o&&o<=51731||51733<=o&&o<=51759||51761<=o&&o<=51787||51789<=o&&o<=51815||51817<=o&&o<=51843||51845<=o&&o<=51871||51873<=o&&o<=51899||51901<=o&&o<=51927||51929<=o&&o<=51955||51957<=o&&o<=51983||51985<=o&&o<=52011||52013<=o&&o<=52039||52041<=o&&o<=52067||52069<=o&&o<=52095||52097<=o&&o<=52123||52125<=o&&o<=52151||52153<=o&&o<=52179||52181<=o&&o<=52207||52209<=o&&o<=52235||52237<=o&&o<=52263||52265<=o&&o<=52291||52293<=o&&o<=52319||52321<=o&&o<=52347||52349<=o&&o<=52375||52377<=o&&o<=52403||52405<=o&&o<=52431||52433<=o&&o<=52459||52461<=o&&o<=52487||52489<=o&&o<=52515||52517<=o&&o<=52543||52545<=o&&o<=52571||52573<=o&&o<=52599||52601<=o&&o<=52627||52629<=o&&o<=52655||52657<=o&&o<=52683||52685<=o&&o<=52711||52713<=o&&o<=52739||52741<=o&&o<=52767||52769<=o&&o<=52795||52797<=o&&o<=52823||52825<=o&&o<=52851||52853<=o&&o<=52879||52881<=o&&o<=52907||52909<=o&&o<=52935||52937<=o&&o<=52963||52965<=o&&o<=52991||52993<=o&&o<=53019||53021<=o&&o<=53047||53049<=o&&o<=53075||53077<=o&&o<=53103||53105<=o&&o<=53131||53133<=o&&o<=53159||53161<=o&&o<=53187||53189<=o&&o<=53215||53217<=o&&o<=53243||53245<=o&&o<=53271||53273<=o&&o<=53299||53301<=o&&o<=53327||53329<=o&&o<=53355||53357<=o&&o<=53383||53385<=o&&o<=53411||53413<=o&&o<=53439||53441<=o&&o<=53467||53469<=o&&o<=53495||53497<=o&&o<=53523||53525<=o&&o<=53551||53553<=o&&o<=53579||53581<=o&&o<=53607||53609<=o&&o<=53635||53637<=o&&o<=53663||53665<=o&&o<=53691||53693<=o&&o<=53719||53721<=o&&o<=53747||53749<=o&&o<=53775||53777<=o&&o<=53803||53805<=o&&o<=53831||53833<=o&&o<=53859||53861<=o&&o<=53887||53889<=o&&o<=53915||53917<=o&&o<=53943||53945<=o&&o<=53971||53973<=o&&o<=53999||54001<=o&&o<=54027||54029<=o&&o<=54055||54057<=o&&o<=54083||54085<=o&&o<=54111||54113<=o&&o<=54139||54141<=o&&o<=54167||54169<=o&&o<=54195||54197<=o&&o<=54223||54225<=o&&o<=54251||54253<=o&&o<=54279||54281<=o&&o<=54307||54309<=o&&o<=54335||54337<=o&&o<=54363||54365<=o&&o<=54391||54393<=o&&o<=54419||54421<=o&&o<=54447||54449<=o&&o<=54475||54477<=o&&o<=54503||54505<=o&&o<=54531||54533<=o&&o<=54559||54561<=o&&o<=54587||54589<=o&&o<=54615||54617<=o&&o<=54643||54645<=o&&o<=54671||54673<=o&&o<=54699||54701<=o&&o<=54727||54729<=o&&o<=54755||54757<=o&&o<=54783||54785<=o&&o<=54811||54813<=o&&o<=54839||54841<=o&&o<=54867||54869<=o&&o<=54895||54897<=o&&o<=54923||54925<=o&&o<=54951||54953<=o&&o<=54979||54981<=o&&o<=55007||55009<=o&&o<=55035||55037<=o&&o<=55063||55065<=o&&o<=55091||55093<=o&&o<=55119||55121<=o&&o<=55147||55149<=o&&o<=55175||55177<=o&&o<=55203?10:9757==o||9977==o||9994<=o&&o<=9997||127877==o||127938<=o&&o<=127940||127943==o||127946<=o&&o<=127948||128066<=o&&o<=128067||128070<=o&&o<=128080||128110==o||128112<=o&&o<=128120||128124==o||128129<=o&&o<=128131||128133<=o&&o<=128135||128170==o||128372<=o&&o<=128373||128378==o||128400==o||128405<=o&&o<=128406||128581<=o&&o<=128583||128587<=o&&o<=128591||128675==o||128692<=o&&o<=128694||128704==o||128716==o||129304<=o&&o<=129308||129310<=o&&o<=129311||129318==o||129328<=o&&o<=129337||129341<=o&&o<=129342||129489<=o&&o<=129501?r:127995<=o&&o<=127999?14:8205==o?15:9792==o||9794==o||9877<=o&&o<=9878||9992==o||10084==o||127752==o||127806==o||127859==o||127891==o||127908==o||127912==o||127979==o||127981==o||128139==o||128187<=o&&o<=128188||128295==o||128300==o||128488==o||128640==o||128658==o?n:128102<=o&&o<=128105?a:11}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var i,r,n=l(o(e,t)),a=[],c=t+1;c<e.length;c++)if(r=c-1,!(55296<=(i=e).charCodeAt(r)&&i.charCodeAt(r)<=56319&&56320<=i.charCodeAt(r+1)&&i.charCodeAt(r+1)<=57343)){var d=l(o(e,c));if(s(n,a,d))return c;a.push(d)}return e.length},this.splitGraphemes=function(e){for(var t,i=[],r=0;(t=this.nextBreak(e,r))<e.length;)i.push(e.slice(r,t)),r=t;return r<e.length&&i.push(e.slice(r)),i},this.iterateGraphemes=function(e){var t=0,i={next:function(){var i,r;return(r=this.nextBreak(e,t))<e.length?(i=e.slice(t,r),t=r,{value:i,done:!1}):t<e.length?(i=e.slice(t),t=e.length,{value:i,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return i}),i},this.countGraphemes=function(e){for(var t,i=0,r=0;(t=this.nextBreak(e,r))<e.length;)r=t,i++;return r<e.length&&i++,i},this})}))}));
//# sourceMappingURL=pkg-fvsdk.min.js-vflZ6q9Qd.map