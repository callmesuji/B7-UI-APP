define(["require","exports","tslib","react","comments2/components/comment_editor/draft_utils"],(function(e,t,n,r,a){"use strict";function o(e,t){void 0===t&&(t=100);var r=e.content.text;if(r.length<=t)return e;for(var o=r.split("\n").map(a.decodeUnicode),i=[],s=0,c=0;c<o.length&&s<t;c++){var d=o[c],m=t-s;m<d.length?(i=n.__spreadArrays(i,[d.slice(0,m)]),s=t):(i=n.__spreadArrays(i,[d]),s+=d.length)}var u=i.map(a.encodeUnicode).join("\n"),_=e.content.metadata;return n.__assign(n.__assign({},e),{content:{metadata:_.reduce((function(e,r){if("sticker"===r.type||"guest"===r.type||"reel"===r.type)return n.__spreadArrays(e,[r]);var a=r.location;return a.start<t?n.__spreadArrays(e,[n.__assign(n.__assign({},r),{location:n.__assign(n.__assign({},a),{end:Math.min(a.end,t)})})]):e}),[]),text:u+"â€¦"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.truncateComment=t.TruncatedComment=void 0,r=n.__importDefault(r),t.TruncatedComment=function(e){var t=e.comment,n=e.limit;return(0,e.children)(r.default.useMemo((function(){return o(t,n)}),[t,n]))},t.TruncatedComment.displayName="TruncatedComment",t.truncateComment=o}));
//# sourceMappingURL=comment_utils.min.js-vflRbRWvy.map