define("modules/clean/flux/action_type",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withActionNamespace=void 0;t.withActionNamespace=function(e,t){for(var a={},r={},o=0,n=Object.keys(t||{});o<n.length;o++){var s=n[o],i=t[s];if(a[s]=e+"__"+i,null!=r[i])throw new Error("Duplicate action value '"+i+"'!");r[i]=!0}return a}})),define("modules/clean/sharing/gating_util",["require","exports","modules/constants/sharing"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUserNoCommentEnabled=t.GoldenGate=void 0,t.GoldenGate={hasNewOwnershipModel:function(e){return Boolean(a.GOLDEN_GATE.HAS_NEW_OWNERSHIP_MODEL[e])},hasContentManagerAndSuperAdmin:function(e){return Boolean(a.GOLDEN_GATE.HAS_CONTENT_MANAGER_AND_SUPER_ADMIN[e])},hasContentManagerCdm:function(e){return Boolean(a.GOLDEN_GATE.HAS_CONTENT_MANAGER_CDM[e])},hasContentManagerFolderRestore:function(e){return Boolean(a.GOLDEN_GATE.CAN_RESTORE_FOLDERS_IN_CM[e])},SHARING_TOTAL_LIMIT:a.GOLDEN_GATE.SHARING_TOTAL_LIMIT},t.isUserNoCommentEnabled=function(e){return a.TRUELINK.NO_COMMENT_ENABLED&&!!(null!=e?a.TRUELINK.NO_COMMENT_ENABLED[e.id]:void 0)}})),define("modules/clean/sharing/ui_util",["require","exports","tslib","react","lodash","modules/clean/analytics","modules/clean/api_v2/error","modules/clean/contacts/contact_token_state","modules/clean/filepath","modules/clean/filetypes","modules/clean/react/icon/icon_helper","modules/clean/sharing/api/types/metadata","modules/clean/sharing/gating_util","modules/constants/trademark","modules/core/i18n","modules/core/format_html"],(function(e,t,a,r,o,n,s,i,l,_,d,E,u,m,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateContacts=t.validateContact=t.spectrumFolderIconForMetadata=t.shouldEnforceMemberLimits=t.logTiburonEvent=t.getNewFolderPathFromContentName=t.getMemberCountForTokens=t.genAddMemberErrorMessage=t.SHARE_UI_TYPE=t.SharingExperiments=t.makeMemberSortCmp=t.fileIconForMetadata=t.convertIfHTML=t.CONTACT_ERROR_MESSAGES=t.ContactsErrorLevel=void 0,r=a.__importDefault(r),o=a.__importStar(o);t.SharingExperiments={};var R={strong:function(e){return r.default.createElement("strong",null,e)},em:function(e){return r.default.createElement("em",null,e)}};t.SHARE_UI_TYPE={SHARED_FILE:"shared-file",SHARED_FOLDER:"shared-folder",SHARED_LINK:"shared-link",PUBLIC:"public",NO_SHARE:"no-share"};var M,S={SINGLE_INVALID:c.intl.formatMessage({id:"AwwRIX",defaultMessage:"The email address you entered is invalid."}),SINGLE_OUT_OF_TEAM:c.intl.formatMessage({id:"KCd6Mi",defaultMessage:"You can only share with your team and people your admin has approved."}),SINGLE_TOO_MANY_MEMBERS:c.intl.formatMessage({id:"ZEnulX",defaultMessage:"Can’t share with this many people."}),GENERAL_INVALID:c.intl.formatMessage({id:"85p8vn",defaultMessage:"One or more names or email addresses you entered are invalid."}),GENERAL_OUT_OF_TEAM:c.intl.formatMessage({id:"Dw/7c6",defaultMessage:"Some of these people aren’t on your Dropbox team."}),GENERAL_TOO_MANY_MEMBERS:c.intl.formatMessage({id:"rTaV0v",defaultMessage:"This will put the folder over its {member_limit}-member limit. <a>Learn more.</a>"},{member_limit:u.GoldenGate.SHARING_TOTAL_LIMIT,a:function(e){return r.default.createElement("a",{href:"/help/9292",target:"_blank",key:"help_center_article"},e)}}),NONGROUP_INVITEE:c.intl.formatMessage({id:"XHbTJ8",defaultMessage:"Only groups can be added to team folders."}),NO_PERMISSION:c.intl.formatMessage({id:"O1327M",defaultMessage:"You don’t have permission to share with this person."}),GENERAL_NO_PERMISSION:c.intl.formatMessage({id:"XDLsmJ",defaultMessage:"You don’t have permission to share with some of these people."})};t.CONTACT_ERROR_MESSAGES=S,(function(e){e.Error="error",e.Warn="warn"})(M||(M={})),t.ContactsErrorLevel=M;var T=function(e,t){return(t.displayName()||"").toLowerCase()},A=Math.pow(2,53)-1;t.makeMemberSortCmp=function(e,t,a){var r=a?(function(e){return function(t,a){var r,o,n,s=a.memberId()===t,i=a instanceof E.GroupMembershipInfo?"0":"1",l=(a.displayName()||"").toLowerCase(),_=null!=a.account_id&&e.has(a.account_id);return""+i+(_&&s?"a":_?"b":null!=a.time_last_seen?"c"+(r=a.time_last_seen,o=String(A-Number(r)),n=String(A).length,o.length<n&&(o=""+Array(n-o.length+1).join("0")+o),o):"d")+l}})(t):T;return function(t,a){var o=r(e.account_id,t),n=r(e.account_id,a);return o<n?-1:o===n?0:1}};var O=function(e,t,a){return!e.is_cdm_member&&(t||a)};t.shouldEnforceMemberLimits=O;t.validateContact=function(e,t,a,r,o,n,s){var l={state:i.ContactTokenState.ok,msg:null};if(o&&!e.group_id)return{state:i.ContactTokenState.invalid,msg:S.NONGROUP_INVITEE};if(O(t,o,n)&&s>u.GoldenGate.SHARING_TOTAL_LIMIT)return{state:i.ContactTokenState.invalid,msg:S.SINGLE_TOO_MANY_MEMBERS};if(e.invalid)l={state:i.ContactTokenState.invalid,msg:S.SINGLE_INVALID};else{if(e.email===t.email)return l;if(null!=a&&t.is_team&&e.dbx_team_id!==a.id&&!e.group_id){l={msg:S.SINGLE_OUT_OF_TEAM,state:"team"===(null!=r?r.member_policy:void 0)||"team"===(null!=r?r.resolved_member_policy:void 0)?i.ContactTokenState.invalid:i.ContactTokenState.warn}}}return l};t.validateContacts=function(e,t,a,r,o,n,s){for(var l=void 0,_=void 0,d=0,E=e;d<E.length;d++){var m=a[E[d].getKey()];if(m){var c=m.state,f=m.msg;if(c===i.ContactTokenState.invalid){if(l=M.Error,f===S.SINGLE_INVALID){_=S.GENERAL_INVALID;break}f===S.SINGLE_OUT_OF_TEAM&&(_=S.GENERAL_OUT_OF_TEAM),f===S.NONGROUP_INVITEE&&(_=S.NONGROUP_INVITEE),f===S.NO_PERMISSION&&(_=S.GENERAL_NO_PERMISSION)}c===i.ContactTokenState.warn&&f===S.SINGLE_OUT_OF_TEAM&&(l||(l=M.Warn,_=S.GENERAL_OUT_OF_TEAM))}}return O(t,o,n)&&e.length>0&&l!==M.Error&&s>u.GoldenGate.SHARING_TOTAL_LIMIT&&(l=M.Error,_=S.GENERAL_TOO_MANY_MEMBERS),{level:l,message:_}};t.logTiburonEvent=function(e,t,a,r){void 0===r&&(r={});var s=e.extras.origin;n.ShareTibEventLogger.log(t,a,s,o.assignIn(r,{file_id:e.extras.fileId,fq_path:e.displayPath(),ns_id:e.isSharedFolder()?e.sharedFolderId():void 0,modal_session_id:e.extras.modalSessionId}))};var I={access_error:c.intl.formatMessage({id:"N0ZK+y",defaultMessage:"You don’t have access to this content."}),email_unverified:c.intl.formatMessage({id:"YVPxPt",defaultMessage:"You haven’t verified your email. Check your email and try again."}),bad_member:c.intl.formatMessage({id:"0AMMBX",defaultMessage:"You entered an invalid name or email address."}),cant_share_outside_team:c.intl.formatMessage({id:"JoJWle",defaultMessage:"Your team settings don’t allow sharing outside your team."}),too_many_members:c.intl.formatMessage({id:"Zq3Ehi",defaultMessage:"You’re sharing with too many people."}),too_many_pending_invites:c.intl.formatMessage({id:"Zq3Ehi",defaultMessage:"You’re sharing with too many people."}),rate_limit:c.intl.formatMessage({id:"ZXI9uh",defaultMessage:"You’ve hit the limit of invites for today. Try again later."}),insufficient_plan:c.intl.formatMessage({id:"osl3qq",defaultMessage:"You need a Dropbox {trademark_plus} or Business account to do this."},{trademark_plus:m.TRADEMARK_PLUS}),team_folder:c.intl.formatMessage({id:"ehBhap",defaultMessage:"You can’t add members to a team folder. Contact your team admin."}),no_permission:c.intl.formatMessage({id:"5/am2Y",defaultMessage:"You don’t have permission to do this. Contact the owner."})};t.genAddMemberErrorMessage=function(e){return e.message?e.message:e instanceof s.AppError&&e.error&&e.error[".tag"]&&I[e.error[".tag"]]?I[e.error[".tag"]]:c.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."})};t.spectrumFolderIconForMetadata=function(e){var t=null!=e.parent_shared_folder_id,a=e.isViewOnly(),r=_.FileTypes.FOLDER;return e.isSharedFolder()?r=_.FileTypes.SHARED_FOLDER:e.is_team_folder&&(r=_.FileTypes.TEAM_SHARED_FOLDER),d.spectrumFolderIcon({fileType:r,isInTeamFolderTree:t,isViewOnly:a})};t.fileIconForMetadata=function(e){return d.file_icon(e.name,{size:d.ICON_SIZES.LARGE})};t.getNewFolderPathFromContentName=function(e,t){return[l.normalize(t),e].join("/")};t.getMemberCountForTokens=function(e){return null==e?0:e.map((function(e){return e.group_size||1})).reduce((function(e,t){return e+t}),0)};t.convertIfHTML=function(e){return e.toHTML?f.legacyFormatHtmlAsReact(e.toHTML(),R):e}})),define("modules/clean/sharing/share_page/action_types",["require","exports","modules/clean/flux/action_type"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharePageActionTypes=void 0;var r=a.withActionNamespace("share-page",{INITIALIZE:"initialize-store",EMAIL_UNVERIFIED:"email-unverified",RECENT_TAB_EMAIL_UNVERIFIED:"recent-tab-email-unverified",SWITCH_TAB:"switch-tab",SWITCH_ROLE:"switch-role",SWITCH_USER:"switch-user",LOAD_PRE_FOLDER_DATA_REQUEST:"load-pre-folder-data-request",LOAD_PRE_FOLDER_DATA_SUCCESS:"load-pre-folder-data-success",LOAD_PRE_FOLDER_DATA_ERROR:"load-pre-folder-data-error",LOAD_FOLDER_DATA_REQUEST:"load-folder-data-request",LOAD_FOLDER_DATA_SUCCESS:"load-folder-data-success",LOAD_FOLDER_DATA_ERROR:"load-folder-data-error",LOAD_PRE_FILE_DATA_REQUEST:"load-pre-file-data-request",LOAD_PRE_FILE_DATA_SUCCESS:"load-pre-file-data-success",LOAD_PRE_FILE_DATA_ERROR:"load-pre-file-data-error",LOAD_FILE_DATA_REQUEST:"load-file-data-request",LOAD_FILE_DATA_SUCCESS:"load-file-data-success",LOAD_FILE_DATA_ERROR:"load-file-data-error",MOUNT_FOLDER_REQUEST:"mount-folder-request",MOUNT_FOLDER_SUCCESS:"mount-folder-success",MOUNT_FOLDER_ERROR:"mount-folder-error",UNMOUNT_FOLDER_REQUEST:"unmount-folder-request",UNMOUNT_FOLDER_SUCCESS:"unmount-folder-success",UNMOUNT_FOLDER_ERROR:"unmount-folder-error",UNSHARE_FOLDER_REQUEST:"unshare-folder-request",UNSHARE_FOLDER_SUCCESS:"unshare-folder-success",UNSHARE_FOLDER_ERROR:"unshare-folder-error",FETCH_TEAM_POLICY_REQUEST:"fetch-team-policy-request",FETCH_TEAM_POLICY_SUCCESS:"fetch-team-policy-success",FETCH_TEAM_POLICY_ERROR:"fetch-team-policy-error",FETCH_FOLDER_POLICY_SUCCESS:"fetch-folder-policy-success",FETCH_METADATA_SUCCESS:"fetch-metadata-success",RELINQUISH_FOLDER_MEMBERSHIP_REQUEST:"relinquish-folder-membership-request",RELINQUISH_FOLDER_MEMBERSHIP_SUCCESS:"relinquish-folder-membership-success",RELINQUISH_FOLDER_MEMBERSHIP_ERROR:"relinquish-folder-membership-error",RELINQUISH_FILE_MEMBERSHIP_REQUEST:"relinquish-file-membership-request",RELINQUISH_FILE_MEMBERSHIP_SUCCESS:"relinquish-file-membership-success",RELINQUISH_FILE_MEMBERSHIP_ERROR:"relinquish-file-membership-error"});t.SharePageActionTypes=r}));
//# sourceMappingURL=pkg-browse-and-photos.min.js-vflMYFcNC.map